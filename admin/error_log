[04-Aug-2024 17:59:26 UTC] Default exception handler: DDL sql execution error Debug: Table 'mdl_config_plugins' already exists
CREATE TABLE mdl_config (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_conf_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Moodle configuration variables'
;
CREATE TABLE mdl_config_plugins (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'core',
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_confplug_plunam2_uix (plugin, name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Moodle modules and plugins configuration variables'
;
CREATE TABLE mdl_config_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    oldvalue LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_conflog_tim2_ix (timemodified)
, KEY mdl_conflog_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Changes done in server configuration through admin UI'
;
CREATE TABLE mdl_upgrade_log (
    id BIGINT(10) NOT NULL auto_increment,
    type BIGINT(10) NOT NULL,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    version VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    targetversion VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    info VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    details LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    backtrace LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_upgrlog_tim2_ix (timemodified)
, KEY mdl_upgrlog_typtim2_ix (type, timemodified)
, KEY mdl_upgrlog_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Upgrade logging'
;
CREATE TABLE mdl_course (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    fullname VARCHAR(254) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    summary LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    format VARCHAR(21) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'topics',
    showgrades TINYINT(2) NOT NULL DEFAULT 1,
    newsitems MEDIUMINT(5) NOT NULL DEFAULT 1,
    startdate BIGINT(10) NOT NULL DEFAULT 0,
    enddate BIGINT(10) NOT NULL DEFAULT 0,
    relativedatesmode TINYINT(1) NOT NULL DEFAULT 0,
    marker BIGINT(10) NOT NULL DEFAULT 0,
    maxbytes BIGINT(10) NOT NULL DEFAULT 0,
    legacyfiles SMALLINT(4) NOT NULL DEFAULT 0,
    showreports SMALLINT(4) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    downloadcontent TINYINT(1),
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupmodeforce SMALLINT(4) NOT NULL DEFAULT 0,
    defaultgroupingid BIGINT(10) NOT NULL DEFAULT 0,
    lang VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    calendartype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    requested TINYINT(1) NOT NULL DEFAULT 0,
    enablecompletion TINYINT(1) NOT NULL DEFAULT 0,
    completionnotify TINYINT(1) NOT NULL DEFAULT 0,
    cacherev BIGINT(10) NOT NULL DEFAULT 0,
    originalcourseid BIGINT(10),
    showactivitydates TINYINT(1) NOT NULL DEFAULT 0,
    showcompletionconditions TINYINT(1),
    pdfexportfont VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cour_cat_ix (category)
, KEY mdl_cour_idn_ix (idnumber)
, KEY mdl_cour_sho_ix (shortname)
, KEY mdl_cour_sor_ix (sortorder)
, KEY mdl_cour_ori_ix (originalcourseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Central course table'
;
CREATE TABLE mdl_course_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    coursecount BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcate_par2_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Course categories'
;
CREATE TABLE mdl_course_completion_aggr_methd (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 0,
    value NUMERIC(10,5),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompaggrmeth_cou2_ix (course)
, KEY mdl_courcompaggrmeth_cri2_ix (criteriatype)
, UNIQUE KEY mdl_courcompaggrmeth_couc2_uix (course, criteriatype)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Course completion aggregation methods for criteria'
;
CREATE TABLE mdl_course_completion_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    moduleinstance BIGINT(10),
    courseinstance BIGINT(10),
    enrolperiod BIGINT(10),
    timeend BIGINT(10),
    gradepass NUMERIC(10,5),
    role BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcrit_cou2_ix (course)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Course completion criteria'
;
CREATE TABLE mdl_course_completion_crit_compl (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriaid BIGINT(10) NOT NULL DEFAULT 0,
    gradefinal NUMERIC(10,5),
    unenroled BIGINT(10),
    timecompleted BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcritcomp_use2_ix (userid)
, KEY mdl_courcompcritcomp_cou2_ix (course)
, KEY mdl_courcompcritcomp_cri2_ix (criteriaid)
, KEY mdl_courcompcritcomp_tim2_ix (timecompleted)
, UNIQUE KEY mdl_courcompcritcomp_usec2_uix (userid, course, criteriaid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Course completion user records'
;
CREATE TABLE mdl_course_completions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    timeenrolled BIGINT(10) NOT NULL DEFAULT 0,
    timestarted BIGINT(10) NOT NULL DEFAULT 0,
    timecompleted BIGINT(10),
    reaggregate BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcomp_use2_ix (userid)
, KEY mdl_courcomp_cou2_ix (course)
, KEY mdl_courcomp_tim2_ix (timecompleted)
, UNIQUE KEY mdl_courcomp_usecou2_uix (userid, course)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Course completion records'
;
CREATE TABLE mdl_communication (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    instanceid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    instancetype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    provider VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    roomname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    avatarfilename VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    active TINYINT(1) NOT NULL DEFAULT 1,
    avatarsynced TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comm_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Communication records'
;
CREATE TABLE mdl_communication_user (
    id BIGINT(10) NOT NULL auto_increment,
    commid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    synced TINYINT(1) NOT NULL DEFAULT 0,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_commuser_com_ix (commid)
, KEY mdl_commuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Communication user records mapping'
;
CREATE TABLE mdl_enrol (
    id BIGINT(10) NOT NULL auto_increment,
    enrol VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    status BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    enrolperiod BIGINT(10) DEFAULT 0,
    enrolstartdate BIGINT(10) DEFAULT 0,
    enrolenddate BIGINT(10) DEFAULT 0,
    expirynotify TINYINT(1) DEFAULT 0,
    expirythreshold BIGINT(10) DEFAULT 0,
    notifyall TINYINT(1) DEFAULT 0,
    password VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
    cost VARCHAR(20) COLLATE utf8mb4_0900_ai_ci,
    currency VARCHAR(3) COLLATE utf8mb4_0900_ai_ci,
    roleid BIGINT(10) DEFAULT 0,
    customint1 BIGINT(10),
    customint2 BIGINT(10),
    customint3 BIGINT(10),
    customint4 BIGINT(10),
    customint5 BIGINT(10),
    customint6 BIGINT(10),
    customint7 BIGINT(10),
    customint8 BIGINT(10),
    customchar1 VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    customchar2 VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    customchar3 VARCHAR(1333) COLLATE utf8mb4_0900_ai_ci,
    customdec1 NUMERIC(12,7),
    customdec2 NUMERIC(12,7),
    customtext1 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    customtext2 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    customtext3 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    customtext4 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_enro_enr2_ix (enrol)
, KEY mdl_enro_cou2_ix (courseid)
, KEY mdl_enro_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Instances of enrolment plugins used in courses, fields marke'
;
CREATE TABLE mdl_user_enrolments (
    id BIGINT(10) NOT NULL auto_increment,
    status BIGINT(10) NOT NULL DEFAULT 0,
    enrolid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 2147483647,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userenro_enruse2_uix (enrolid, userid)
, KEY mdl_userenro_enr2_ix (enrolid)
, KEY mdl_userenro_use2_ix (userid)
, KEY mdl_userenro_mod2_ix (modifierid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Users participating in courses (aka enrolled users) - everyb'
;
CREATE TABLE mdl_course_modules (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    module BIGINT(10) NOT NULL DEFAULT 0,
    instance BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    added BIGINT(10) NOT NULL DEFAULT 0,
    score SMALLINT(4) NOT NULL DEFAULT 0,
    indent MEDIUMINT(5) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleoncoursepage TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    completion TINYINT(1) NOT NULL DEFAULT 0,
    completiongradeitemnumber BIGINT(10),
    completionview TINYINT(1) NOT NULL DEFAULT 0,
    completionexpected BIGINT(10) NOT NULL DEFAULT 0,
    completionpassgrade TINYINT(1) NOT NULL DEFAULT 0,
    showdescription TINYINT(1) NOT NULL DEFAULT 0,
    availability LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    deletioninprogress TINYINT(1) NOT NULL DEFAULT 0,
    downloadcontent TINYINT(1) DEFAULT 1,
    lang VARCHAR(30) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmodu_vis2_ix (visible)
, KEY mdl_courmodu_cou2_ix (course)
, KEY mdl_courmodu_mod2_ix (module)
, KEY mdl_courmodu_ins2_ix (instance)
, KEY mdl_courmodu_idncou2_ix (idnumber, course)
, KEY mdl_courmodu_gro2_ix (groupingid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='course_modules table retrofitted from MySQL'
;
CREATE TABLE mdl_course_modules_completion (
    id BIGINT(10) NOT NULL auto_increment,
    coursemoduleid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    completionstate TINYINT(1) NOT NULL,
    overrideby BIGINT(10),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmoducomp_cou2_ix (coursemoduleid)
, UNIQUE KEY mdl_courmoducomp_usecou2_uix (userid, coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores the completion state (completed or not completed, etc'
;
CREATE TABLE mdl_course_sections (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    summary LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    sequence LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    availability LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    itemid BIGINT(10),
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_coursect_cousec2_uix (course, section)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='to define the sections for each course'
;
CREATE TABLE mdl_course_request (
    id BIGINT(10) NOT NULL auto_increment,
    fullname VARCHAR(254) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    summary LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    category BIGINT(10) NOT NULL DEFAULT 0,
    reason LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    requester BIGINT(10) NOT NULL DEFAULT 0,
    password VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courrequ_sho2_ix (shortname)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='course requests'
;
CREATE TABLE mdl_course_format_options (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    format VARCHAR(21) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sectionid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_courformopti_couforse2_uix (courseid, format, sectionid, name)
, KEY mdl_courformopti_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores format-specific options for the course or course sect'
;
CREATE TABLE mdl_filter_active (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    active SMALLINT(4) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtacti_confil2_uix (contextid, filter)
, KEY mdl_filtacti_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores information about which filters are active in which c'
;
CREATE TABLE mdl_filter_config (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtconf_confilnam_uix (contextid, filter, name)
, KEY mdl_filtconf_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores per-context configuration settings for filters which '
;
CREATE TABLE mdl_event (
    id BIGINT(10) NOT NULL auto_increment,
    name LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    format SMALLINT(4) NOT NULL DEFAULT 0,
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    repeatid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    modulename VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    instance BIGINT(10) NOT NULL DEFAULT 0,
    type SMALLINT(4) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeduration BIGINT(10) NOT NULL DEFAULT 0,
    timesort BIGINT(10),
    visible SMALLINT(4) NOT NULL DEFAULT 1,
    uuid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sequence BIGINT(10) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    subscriptionid BIGINT(10),
    priority BIGINT(10),
    location LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_even_cou_ix (courseid)
, KEY mdl_even_use_ix (userid)
, KEY mdl_even_tim_ix (timestart)
, KEY mdl_even_tim2_ix (timeduration)
, KEY mdl_even_uui_ix (uuid)
, KEY mdl_even_typtim_ix (type, timesort)
, KEY mdl_even_grocoucatvisuse_ix (groupid, courseid, categoryid, visible, userid)
, KEY mdl_even_eve_ix (eventtype)
, KEY mdl_even_comeveins_ix (component, eventtype, instance)
, KEY mdl_even_modinseve_ix (modulename, instance, eventtype)
, KEY mdl_even_cat_ix (categoryid)
, KEY mdl_even_sub_ix (subscriptionid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='For everything with a time associated to it'
;
CREATE TABLE mdl_cache_filters (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    version BIGINT(10) NOT NULL DEFAULT 0,
    md5key VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    rawtext LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachfilt_filmd52_ix (filter, md5key)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='For keeping information about cached data'
;
CREATE TABLE mdl_log (
    id BIGINT(10) NOT NULL auto_increment,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    url VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    info VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_log_coumodact2_ix (course, module, action)
, KEY mdl_log_tim2_ix (time)
, KEY mdl_log_act2_ix (action)
, KEY mdl_log_usecou2_ix (userid, course)
, KEY mdl_log_cmi2_ix (cmid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Every action is logged as far as possible'
;
CREATE TABLE mdl_log_queries (
    id BIGINT(10) NOT NULL auto_increment,
    qtype MEDIUMINT(5) NOT NULL,
    sqltext LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    sqlparams LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    error MEDIUMINT(5) NOT NULL DEFAULT 0,
    info LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    backtrace LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    exectime NUMERIC(10,5) NOT NULL,
    timelogged BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Logged database queries.'
;
CREATE TABLE mdl_log_display (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    action VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    mtable VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    field VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_logdisp_modact2_uix (module, action)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='For a particular module/action, specifies a moodle table/fie'
;
CREATE TABLE mdl_message (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    smallmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    contexturlname LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeuserfromdeleted BIGINT(10) NOT NULL DEFAULT 0,
    timeusertodeleted BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    eventtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    customdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mess_useusetimtim2_ix (useridfrom, useridto, timeuserfromdeleted, timeusertodeleted)
, KEY mdl_mess_usetimnot3_ix (useridfrom, timeuserfromdeleted, notification)
, KEY mdl_mess_usetimnot4_ix (useridto, timeusertodeleted, notification)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all unread messages'
;
CREATE TABLE mdl_message_read (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    smallmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    contexturlname LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeread BIGINT(10) NOT NULL DEFAULT 0,
    timeuserfromdeleted BIGINT(10) NOT NULL DEFAULT 0,
    timeusertodeleted BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    eventtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messread_useusetimtim2_ix (useridfrom, useridto, timeuserfromdeleted, timeusertodeleted)
, KEY mdl_messread_nottim2_ix (notification, timeread)
, KEY mdl_messread_usetimnot3_ix (useridfrom, timeuserfromdeleted, notification)
, KEY mdl_messread_usetimnot4_ix (useridto, timeusertodeleted, notification)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all messages that have been read'
;
CREATE TABLE mdl_messages (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL,
    conversationid BIGINT(10) NOT NULL,
    subject LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessageformat TINYINT(1) NOT NULL DEFAULT 0,
    fullmessagehtml LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    smallmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    fullmessagetrust TINYINT(2) NOT NULL DEFAULT 0,
    customdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mess_contim2_ix (conversationid, timecreated)
, KEY mdl_mess_use2_ix (useridfrom)
, KEY mdl_mess_con2_ix (conversationid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all messages'
;
CREATE TABLE mdl_message_conversations (
    id BIGINT(10) NOT NULL auto_increment,
    type BIGINT(10) NOT NULL DEFAULT 1,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    convhash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    itemtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    itemid BIGINT(10),
    contextid BIGINT(10),
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messconv_typ2_ix (type)
, KEY mdl_messconv_con3_ix (convhash)
, KEY mdl_messconv_comiteitecon2_ix (component, itemtype, itemid, contextid)
, KEY mdl_messconv_con4_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all message conversations'
;
CREATE TABLE mdl_message_conversation_members (
    id BIGINT(10) NOT NULL auto_increment,
    conversationid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messconvmemb_con2_ix (conversationid)
, KEY mdl_messconvmemb_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all members in a conversations'
;
CREATE TABLE mdl_message_conversation_actions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    conversationid BIGINT(10) NOT NULL,
    action BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messconvacti_use2_ix (userid)
, KEY mdl_messconvacti_con2_ix (conversationid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all per-user actions on individual conversations'
;
CREATE TABLE mdl_message_user_actions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    messageid BIGINT(10) NOT NULL,
    action BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messuseracti_usemesac2_uix (userid, messageid, action)
, KEY mdl_messuseracti_use2_ix (userid)
, KEY mdl_messuseracti_mes2_ix (messageid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all per-user actions on individual messages'
;
CREATE TABLE mdl_notifications (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL,
    useridto BIGINT(10) NOT NULL,
    subject LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessageformat TINYINT(1) NOT NULL DEFAULT 0,
    fullmessagehtml LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    smallmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    eventtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    contexturl LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    contexturlname LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timeread BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    customdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_noti_use3_ix (useridfrom)
, KEY mdl_noti_tim_ix (timecreated)
, KEY mdl_noti_tim2_ix (timeread)
, KEY mdl_noti_use4_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all notifications'
;
CREATE TABLE mdl_message_contacts (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    contactid BIGINT(10) NOT NULL,
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messcont_usecon2_uix (userid, contactid)
, KEY mdl_messcont_use2_ix (userid)
, KEY mdl_messcont_con2_ix (contactid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Maintains lists of contacts between users'
;
CREATE TABLE mdl_message_contact_requests (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    requesteduserid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messcontrequ_usereq2_uix (userid, requesteduserid)
, KEY mdl_messcontrequ_use2_ix (userid)
, KEY mdl_messcontrequ_req2_ix (requesteduserid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Maintains list of contact requests between users'
;
CREATE TABLE mdl_message_users_blocked (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    blockeduserid BIGINT(10) NOT NULL,
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messuserbloc_useblo2_uix (userid, blockeduserid)
, KEY mdl_messuserbloc_use2_ix (userid)
, KEY mdl_messuserbloc_blo2_ix (blockeduserid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Maintains lists of blocked users'
;
CREATE TABLE mdl_modules (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    search VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_modu_nam2_ix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='modules available in the site'
;
CREATE TABLE mdl_my_pages (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) DEFAULT 0,
    name VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    private TINYINT(1) NOT NULL DEFAULT 1,
    sortorder MEDIUMINT(6) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mypage_usepri2_ix (userid, private)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Extra user pages for the My Moodle system'
;
CREATE TABLE mdl_sessions (
    id BIGINT(10) NOT NULL auto_increment,
    state BIGINT(10) NOT NULL DEFAULT 0,
    sid VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    sessdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    firstip VARCHAR(45) COLLATE utf8mb4_0900_ai_ci,
    lastip VARCHAR(45) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_sess_sta2_ix (state)
, UNIQUE KEY mdl_sess_sid2_uix (sid)
, KEY mdl_sess_tim3_ix (timecreated)
, KEY mdl_sess_tim4_ix (timemodified)
, KEY mdl_sess_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Database based session storage - now recommended'
;
CREATE TABLE mdl_user (
    id BIGINT(10) NOT NULL auto_increment,
    auth VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'manual',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    policyagreed TINYINT(1) NOT NULL DEFAULT 0,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    suspended TINYINT(1) NOT NULL DEFAULT 0,
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    password VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    firstname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    lastname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    email VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    emailstop TINYINT(1) NOT NULL DEFAULT 0,
    phone1 VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    phone2 VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    institution VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    department VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    address VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    city VARCHAR(120) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    country VARCHAR(2) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    lang VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'en',
    calendartype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'gregorian',
    theme VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timezone VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '99',
    firstaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastlogin BIGINT(10) NOT NULL DEFAULT 0,
    currentlogin BIGINT(10) NOT NULL DEFAULT 0,
    lastip VARCHAR(45) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    secret VARCHAR(15) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    picture BIGINT(10) NOT NULL DEFAULT 0,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 1,
    mailformat TINYINT(1) NOT NULL DEFAULT 1,
    maildigest TINYINT(1) NOT NULL DEFAULT 0,
    maildisplay TINYINT(2) NOT NULL DEFAULT 2,
    autosubscribe TINYINT(1) NOT NULL DEFAULT 1,
    trackforums TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    trustbitmask BIGINT(10) NOT NULL DEFAULT 0,
    imagealt VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    lastnamephonetic VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    firstnamephonetic VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    middlename VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    alternatename VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    moodlenetprofile VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_user_mneuse_uix (mnethostid, username)
, KEY mdl_user_del_ix (deleted)
, KEY mdl_user_con_ix (confirmed)
, KEY mdl_user_fir_ix (firstname)
, KEY mdl_user_las_ix (lastname)
, KEY mdl_user_cit_ix (city)
, KEY mdl_user_cou_ix (country)
, KEY mdl_user_las2_ix (lastaccess)
, KEY mdl_user_ema_ix (email)
, KEY mdl_user_aut_ix (auth)
, KEY mdl_user_idn_ix (idnumber)
, KEY mdl_user_fir2_ix (firstnamephonetic)
, KEY mdl_user_las3_ix (lastnamephonetic)
, KEY mdl_user_mid_ix (middlename)
, KEY mdl_user_alt_ix (alternatename)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='One record for each person'
;
CREATE TABLE mdl_user_preferences (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value VARCHAR(1333) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userpref_usenam_uix (userid, name)
, KEY mdl_userpref_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Allows modules to store arbitrary user preferences'
;
CREATE TABLE mdl_user_lastaccess (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeaccess BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userlast_usecou2_uix (userid, courseid)
, KEY mdl_userlast_use2_ix (userid)
, KEY mdl_userlast_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To keep track of course page access times, used in online pa'
;
CREATE TABLE mdl_user_password_history (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    hash VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userpasshist_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='A rotating log of hashes of previously used passwords for ea'
;
CREATE TABLE mdl_scale (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    scale LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scal_cou2_ix (courseid)
, KEY mdl_scal_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines grading scales'
;
CREATE TABLE mdl_scale_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    scale LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scalhist_act2_ix (action)
, KEY mdl_scalhist_tim2_ix (timemodified)
, KEY mdl_scalhist_old2_ix (oldid)
, KEY mdl_scalhist_cou2_ix (courseid)
, KEY mdl_scalhist_log2_ix (loggeduser)
, KEY mdl_scalhist_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='History table'
;
CREATE TABLE mdl_stats_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statdail_cou2_ix (courseid)
, KEY mdl_statdail_tim2_ix (timeend)
, KEY mdl_statdail_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='to accumulate daily stats'
;
CREATE TABLE mdl_stats_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statweek_cou2_ix (courseid)
, KEY mdl_statweek_tim2_ix (timeend)
, KEY mdl_statweek_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To accumulate weekly stats'
;
CREATE TABLE mdl_stats_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statmont_cou2_ix (courseid)
, KEY mdl_statmont_tim2_ix (timeend)
, KEY mdl_statmont_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To accumulate monthly stats'
;
CREATE TABLE mdl_stats_user_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserdail_cou2_ix (courseid)
, KEY mdl_statuserdail_use2_ix (userid)
, KEY mdl_statuserdail_rol2_ix (roleid)
, KEY mdl_statuserdail_tim2_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To accumulate daily stats per course/user'
;
CREATE TABLE mdl_stats_user_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserweek_cou2_ix (courseid)
, KEY mdl_statuserweek_use2_ix (userid)
, KEY mdl_statuserweek_rol2_ix (roleid)
, KEY mdl_statuserweek_tim2_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To accumulate weekly stats per course/user'
;
CREATE TABLE mdl_stats_user_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statusermont_cou2_ix (courseid)
, KEY mdl_statusermont_use2_ix (userid)
, KEY mdl_statusermont_rol2_ix (roleid)
, KEY mdl_statusermont_tim2_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To accumulate monthly stats per course/user'
;
CREATE TABLE mdl_post (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    moduleid BIGINT(10) NOT NULL DEFAULT 0,
    coursemoduleid BIGINT(10) NOT NULL DEFAULT 0,
    subject VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    summary LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    content LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    uniquehash VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    rating BIGINT(10) NOT NULL DEFAULT 0,
    format BIGINT(10) NOT NULL DEFAULT 0,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    attachment VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    publishstate VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'draft',
    lastmodified BIGINT(10) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_post_iduse2_uix (id, userid)
, KEY mdl_post_las2_ix (lastmodified)
, KEY mdl_post_mod2_ix (module)
, KEY mdl_post_sub2_ix (subject)
, KEY mdl_post_use2_ix (usermodified)
, KEY mdl_post_cou_ix (courseid)
, KEY mdl_post_cou2_ix (coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Generic post table to hold data blog entries etc in differen'
;
CREATE TABLE mdl_role (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    archetype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_role_sor2_uix (sortorder)
, UNIQUE KEY mdl_role_sho2_uix (shortname)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='moodle roles'
;
CREATE TABLE mdl_context (
    id BIGINT(10) NOT NULL auto_increment,
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    instanceid BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    depth TINYINT(2) NOT NULL DEFAULT 0,
    locked TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cont_conins_uix (contextlevel, instanceid)
, KEY mdl_cont_ins_ix (instanceid)
, KEY mdl_cont_pat_ix (path)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='one of these must be set'
;
CREATE TABLE mdl_context_temp (
    id BIGINT(10) NOT NULL,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    depth TINYINT(2) NOT NULL,
    locked TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Used by build_context_path() in upgrade and cron to keep con'
;
CREATE TABLE mdl_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    captype VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    riskbitmask BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_capa_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='this defines all capabilities'
;
CREATE TABLE mdl_role_allow_assign (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowassign BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloassi_rolall2_uix (roleid, allowassign)
, KEY mdl_rolealloassi_rol2_ix (roleid)
, KEY mdl_rolealloassi_all2_ix (allowassign)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='this defines what role can assign what role'
;
CREATE TABLE mdl_role_allow_override (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowoverride BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloover_rolall2_uix (roleid, allowoverride)
, KEY mdl_rolealloover_rol2_ix (roleid)
, KEY mdl_rolealloover_all2_ix (allowoverride)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='this defines what role can override what role'
;
CREATE TABLE mdl_role_allow_switch (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    allowswitch BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloswit_rolall2_uix (roleid, allowswitch)
, KEY mdl_rolealloswit_rol2_ix (roleid)
, KEY mdl_rolealloswit_all2_ix (allowswitch)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores which which other roles a user is allowed '
;
CREATE TABLE mdl_role_allow_view (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    allowview BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloview_rolall2_uix (roleid, allowview)
, KEY mdl_rolealloview_rol2_ix (roleid)
, KEY mdl_rolealloview_all2_ix (allowview)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores which which other roles a user is allowed '
;
CREATE TABLE mdl_role_assignments (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_roleassi_sor2_ix (sortorder)
, KEY mdl_roleassi_rolcon2_ix (roleid, contextid)
, KEY mdl_roleassi_useconrol2_ix (userid, contextid, roleid)
, KEY mdl_roleassi_comiteuse2_ix (component, itemid, userid)
, KEY mdl_roleassi_rol2_ix (roleid)
, KEY mdl_roleassi_con2_ix (contextid)
, KEY mdl_roleassi_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='assigning roles in different context'
;
CREATE TABLE mdl_role_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    capability VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    permission BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecapa_rolconcap_uix (roleid, contextid, capability)
, KEY mdl_rolecapa_rol_ix (roleid)
, KEY mdl_rolecapa_con_ix (contextid)
, KEY mdl_rolecapa_mod_ix (modifierid)
, KEY mdl_rolecapa_cap_ix (capability)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='permission has to be signed, overriding a capability for a p'
;
CREATE TABLE mdl_role_names (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolename_rolcon2_uix (roleid, contextid)
, KEY mdl_rolename_rol2_ix (roleid)
, KEY mdl_rolename_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='role names in native strings'
;
CREATE TABLE mdl_role_context_levels (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    contextlevel BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecontleve_conrol2_uix (contextlevel, roleid)
, KEY mdl_rolecontleve_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Lists which roles can be assigned at which context levels. T'
;
CREATE TABLE mdl_user_info_field (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'shortname',
    name LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    datatype VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    required TINYINT(2) NOT NULL DEFAULT 0,
    locked TINYINT(2) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 0,
    forceunique TINYINT(2) NOT NULL DEFAULT 0,
    signup TINYINT(2) NOT NULL DEFAULT 0,
    defaultdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    defaultdataformat TINYINT(2) NOT NULL DEFAULT 0,
    param1 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    param2 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    param3 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    param4 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    param5 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Customisable user profile fields'
;
CREATE TABLE mdl_user_info_category (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Customisable fields categories'
;
CREATE TABLE mdl_user_info_data (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    fieldid BIGINT(10) NOT NULL DEFAULT 0,
    data LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    dataformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userinfodata_usefie2_uix (userid, fieldid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Data for the customisable user fields'
;
CREATE TABLE mdl_question_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    info LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    infoformat TINYINT(2) NOT NULL DEFAULT 0,
    stamp VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 999,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quescate_con_ix (contextid)
, UNIQUE KEY mdl_quescate_consta_uix (contextid, stamp)
, UNIQUE KEY mdl_quescate_conidn_uix (contextid, idnumber)
, KEY mdl_quescate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Categories are for grouping questions'
;
CREATE TABLE mdl_question (
    id BIGINT(10) NOT NULL auto_increment,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    questiontext LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    questiontextformat TINYINT(2) NOT NULL DEFAULT 0,
    generalfeedback LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    generalfeedbackformat TINYINT(2) NOT NULL DEFAULT 0,
    defaultmark NUMERIC(12,7) NOT NULL DEFAULT 1,
    penalty NUMERIC(12,7) NOT NULL DEFAULT 0.3333333,
    qtype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    length BIGINT(10) NOT NULL DEFAULT 1,
    stamp VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    createdby BIGINT(10),
    modifiedby BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_ques_qty2_ix (qtype)
, KEY mdl_ques_par2_ix (parent)
, KEY mdl_ques_cre2_ix (createdby)
, KEY mdl_ques_mod2_ix (modifiedby)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores the definition of one version of a questio'
;
CREATE TABLE mdl_question_bank_entries (
    id BIGINT(10) NOT NULL auto_increment,
    questioncategoryid BIGINT(10) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    ownerid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesbankentr_queidn2_uix (questioncategoryid, idnumber)
, KEY mdl_quesbankentr_que2_ix (questioncategoryid)
, KEY mdl_quesbankentr_own2_ix (ownerid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Each question bank entry. This table has one row for each qu'
;
CREATE TABLE mdl_question_versions (
    id BIGINT(10) NOT NULL auto_increment,
    questionbankentryid BIGINT(10) NOT NULL DEFAULT 0,
    version BIGINT(10) NOT NULL DEFAULT 1,
    questionid BIGINT(10) NOT NULL DEFAULT 0,
    status VARCHAR(10) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'ready',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesvers_que3_ix (questionbankentryid)
, KEY mdl_quesvers_que4_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='A join table linking the different question version definiti'
;
CREATE TABLE mdl_question_references (
    id BIGINT(10) NOT NULL auto_increment,
    usingcontextid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    questionarea VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
    itemid BIGINT(10),
    questionbankentryid BIGINT(10) NOT NULL DEFAULT 0,
    version BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesrefe_usicomqueite2_uix (usingcontextid, component, questionarea, itemid)
, KEY mdl_quesrefe_usi2_ix (usingcontextid)
, KEY mdl_quesrefe_que2_ix (questionbankentryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Records where a specific question is used.'
;
CREATE TABLE mdl_question_set_references (
    id BIGINT(10) NOT NULL auto_increment,
    usingcontextid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    questionarea VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
    itemid BIGINT(10),
    questionscontextid BIGINT(10) NOT NULL DEFAULT 0,
    filtercondition LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quessetrefe_usicomque2_uix (usingcontextid, component, questionarea, itemid)
, KEY mdl_quessetrefe_usi2_ix (usingcontextid)
, KEY mdl_quessetrefe_que2_ix (questionscontextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Records where groups of questions are used.'
;
CREATE TABLE mdl_question_answers (
    id BIGINT(10) NOT NULL auto_increment,
    question BIGINT(10) NOT NULL DEFAULT 0,
    answer LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    answerformat TINYINT(2) NOT NULL DEFAULT 0,
    fraction NUMERIC(12,7) NOT NULL DEFAULT 0,
    feedback LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    feedbackformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesansw_que2_ix (question)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Answers, with a fractional grade (0-1) and feedback'
;
CREATE TABLE mdl_question_hints (
    id BIGINT(10) NOT NULL auto_increment,
    questionid BIGINT(10) NOT NULL,
    hint LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    hintformat SMALLINT(4) NOT NULL DEFAULT 0,
    shownumcorrect TINYINT(1),
    clearwrong TINYINT(1),
    options VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_queshint_que2_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores the the part of the question definition that gives di'
;
CREATE TABLE mdl_question_usages (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    preferredbehaviour VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesusag_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table\'s main purpose it to assign a unique id to each a'
;
CREATE TABLE mdl_question_attempts (
    id BIGINT(10) NOT NULL auto_increment,
    questionusageid BIGINT(10) NOT NULL,
    slot BIGINT(10) NOT NULL,
    behaviour VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10) NOT NULL DEFAULT 1,
    maxmark NUMERIC(12,7) NOT NULL,
    minfraction NUMERIC(12,7) NOT NULL,
    maxfraction NUMERIC(12,7) NOT NULL DEFAULT 1,
    flagged TINYINT(1) NOT NULL DEFAULT 0,
    questionsummary LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    rightanswer LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    responsesummary LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesatte_queslo2_uix (questionusageid, slot)
, KEY mdl_quesatte_beh2_ix (behaviour)
, KEY mdl_quesatte_que3_ix (questionid)
, KEY mdl_quesatte_que4_ix (questionusageid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Each row here corresponds to an attempt at one question, as '
;
CREATE TABLE mdl_question_attempt_steps (
    id BIGINT(10) NOT NULL auto_increment,
    questionattemptid BIGINT(10) NOT NULL,
    sequencenumber BIGINT(10) NOT NULL,
    state VARCHAR(13) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    fraction NUMERIC(12,7),
    timecreated BIGINT(10) NOT NULL,
    userid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestep_queseq2_uix (questionattemptid, sequencenumber)
, KEY mdl_quesattestep_que2_ix (questionattemptid)
, KEY mdl_quesattestep_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores one step in in a question attempt. As well as the dat'
;
CREATE TABLE mdl_question_attempt_step_data (
    id BIGINT(10) NOT NULL auto_increment,
    attemptstepid BIGINT(10) NOT NULL,
    name VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesattestepdata_att2_ix (attemptstepid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Each question_attempt_step has an associative array of the d'
;
CREATE TABLE mdl_question_statistics (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    slot BIGINT(10),
    subquestion SMALLINT(4) NOT NULL,
    variant BIGINT(10),
    s BIGINT(10) NOT NULL DEFAULT 0,
    effectiveweight NUMERIC(15,5),
    negcovar TINYINT(2) NOT NULL DEFAULT 0,
    discriminationindex NUMERIC(15,5),
    discriminativeefficiency NUMERIC(15,5),
    sd NUMERIC(15,10),
    facility NUMERIC(15,10),
    subquestions LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    maxmark NUMERIC(12,7),
    positions LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    randomguessscore NUMERIC(12,7),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesstat_que_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Statistics for individual questions used in an activity.'
;
CREATE TABLE mdl_question_response_analysis (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    whichtries VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10),
    subqid VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    aid VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    response LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    credit NUMERIC(15,5) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesrespanal_que_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Analysis of student responses given to questions.'
;
CREATE TABLE mdl_question_response_count (
    id BIGINT(10) NOT NULL auto_increment,
    analysisid BIGINT(10) NOT NULL,
    try BIGINT(10) NOT NULL,
    rcount BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesrespcoun_ana2_ix (analysisid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Count for each responses for each try at a question.'
;
CREATE TABLE mdl_mnet_application (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    display_name VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    xmlrpc_server_url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sso_land_url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sso_jump_url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Information about applications on remote hosts'
;
CREATE TABLE mdl_mnet_host (
    id BIGINT(10) NOT NULL auto_increment,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    wwwroot VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    ip_address VARCHAR(45) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(80) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    public_key LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    public_key_expires BIGINT(10) NOT NULL DEFAULT 0,
    transport TINYINT(2) NOT NULL DEFAULT 0,
    portno MEDIUMINT(5) NOT NULL DEFAULT 0,
    last_connect_time BIGINT(10) NOT NULL DEFAULT 0,
    last_log_id BIGINT(10) NOT NULL DEFAULT 0,
    force_theme TINYINT(1) NOT NULL DEFAULT 0,
    theme VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    applicationid BIGINT(10) NOT NULL DEFAULT 1,
    sslverification TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnethost_las_ix (last_log_id)
, KEY mdl_mnethost_app2_ix (applicationid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Information about the local and remote hosts for RPC'
;
CREATE TABLE mdl_mnet_host2service (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    publish TINYINT(1) NOT NULL DEFAULT 0,
    subscribe TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnethost_hosser2_uix (hostid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Information about the services for a given host'
;
CREATE TABLE mdl_mnet_log (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    remoteid BIGINT(10) NOT NULL DEFAULT 0,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    coursename VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    module VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    url VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    info VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetlog_hosusecou2_ix (hostid, userid, course)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    help LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    profile LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    filename VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(150) COLLATE utf8mb4_0900_ai_ci,
    static TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetrpc_enaxml2_ix (enabled, xmlrpcpath)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Functions or methods that we may publish or subscribe to'
;
CREATE TABLE mdl_mnet_remote_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table describes functions that might be called remotely'
;
CREATE TABLE mdl_mnet_service (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    apiversion VARCHAR(10) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    offer TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='A service is a group of functions'
;
CREATE TABLE mdl_mnet_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetserv_rpcser2_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_remote_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetremoserv_rpcser2_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_session (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    token VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    useragent VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    confirm_timeout BIGINT(10) NOT NULL DEFAULT 0,
    session_id VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    expires BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetsess_tok2_uix (token)
, KEY mdl_mnetsess_use_ix (userid)
, KEY mdl_mnetsess_mne_ix (mnethostid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_sso_access_control (
    id BIGINT(10) NOT NULL auto_increment,
    username VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    mnet_host_id BIGINT(10) NOT NULL DEFAULT 0,
    accessctrl VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'allow',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetssoaccecont_mneus2_uix (mnet_host_id, username)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Users by host permitted (or not) to login from a remote prov'
;
CREATE TABLE mdl_events_queue (
    id BIGINT(10) NOT NULL auto_increment,
    eventdata LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    stackdump LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    userid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueu_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table is for storing queued events. It stores only one '
;
CREATE TABLE mdl_events_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    eventname VARCHAR(166) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    component VARCHAR(166) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    handlerfile VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    handlerfunction LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    schedule VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    internal TINYINT(2) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_evenhand_evecom2_uix (eventname, component)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table is for storing which components requests what typ'
;
CREATE TABLE mdl_events_queue_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    queuedeventid BIGINT(10) NOT NULL,
    handlerid BIGINT(10) NOT NULL,
    status BIGINT(10),
    errormessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueuhand_que2_ix (queuedeventid)
, KEY mdl_evenqueuhand_han2_ix (handlerid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This is the list of queued handlers for processing. The even'
;
CREATE TABLE mdl_grade_outcomes (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    fullname LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutc_cou_ix (courseid)
, KEY mdl_gradoutc_sca_ix (scaleid)
, KEY mdl_gradoutc_use_ix (usermodified)
, UNIQUE KEY mdl_gradoutc_cousho_uix (courseid, shortname)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table describes the outcomes used in the system. An out'
;
CREATE TABLE mdl_grade_outcomes_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    outcomeid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutccour_cou2_ix (courseid)
, KEY mdl_gradoutccour_out2_ix (outcomeid)
, UNIQUE KEY mdl_gradoutccour_couout2_uix (courseid, outcomeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='stores what outcomes are used in what courses.'
;
CREATE TABLE mdl_grade_categories (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    fullname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcate_cou2_ix (courseid)
, KEY mdl_gradcate_par2_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table keeps information about categories, used for grou'
;
CREATE TABLE mdl_grade_items (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    itemtype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) COLLATE utf8mb4_0900_ai_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    idnumber VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    calculation LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef2 NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    weightoverride TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditem_locloc_ix (locked, locktime)
, KEY mdl_graditem_itenee_ix (itemtype, needsupdate)
, KEY mdl_graditem_gra_ix (gradetype)
, KEY mdl_graditem_idncou_ix (idnumber, courseid)
, KEY mdl_graditem_iteiteitecou_ix (itemtype, itemmodule, iteminstance, courseid)
, KEY mdl_graditem_cou_ix (courseid)
, KEY mdl_graditem_cat_ix (categoryid)
, KEY mdl_graditem_sca_ix (scaleid)
, KEY mdl_graditem_out_ix (outcomeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table keeps information about gradeable items (ie colum'
;
CREATE TABLE mdl_grade_grades (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    aggregationstatus VARCHAR(10) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'unknown',
    aggregationweight NUMERIC(10,5),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgrad_locloc2_ix (locked, locktime)
, KEY mdl_gradgrad_ite2_ix (itemid)
, KEY mdl_gradgrad_use3_ix (userid)
, KEY mdl_gradgrad_raw2_ix (rawscaleid)
, KEY mdl_gradgrad_use4_ix (usermodified)
, UNIQUE KEY mdl_gradgrad_useite2_uix (userid, itemid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='grade_grades  This table keeps individual grades for each us'
;
CREATE TABLE mdl_grade_outcomes_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    fullname LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutchist_act2_ix (action)
, KEY mdl_gradoutchist_tim2_ix (timemodified)
, KEY mdl_gradoutchist_old2_ix (oldid)
, KEY mdl_gradoutchist_cou2_ix (courseid)
, KEY mdl_gradoutchist_sca2_ix (scaleid)
, KEY mdl_gradoutchist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='History table'
;
CREATE TABLE mdl_grade_categories_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    fullname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcatehist_act2_ix (action)
, KEY mdl_gradcatehist_tim2_ix (timemodified)
, KEY mdl_gradcatehist_old2_ix (oldid)
, KEY mdl_gradcatehist_cou2_ix (courseid)
, KEY mdl_gradcatehist_par2_ix (parent)
, KEY mdl_gradcatehist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='History of grade_categories'
;
CREATE TABLE mdl_grade_items_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    itemtype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) COLLATE utf8mb4_0900_ai_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    idnumber VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    calculation LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef2 NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
    weightoverride TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditemhist_act2_ix (action)
, KEY mdl_graditemhist_tim2_ix (timemodified)
, KEY mdl_graditemhist_old2_ix (oldid)
, KEY mdl_graditemhist_cou2_ix (courseid)
, KEY mdl_graditemhist_cat2_ix (categoryid)
, KEY mdl_graditemhist_sca2_ix (scaleid)
, KEY mdl_graditemhist_out2_ix (outcomeid)
, KEY mdl_graditemhist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='History of grade_items'
;
CREATE TABLE mdl_grade_grades_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgradhist_act2_ix (action)
, KEY mdl_gradgradhist_tim2_ix (timemodified)
, KEY mdl_gradgradhist_useitetim2_ix (userid, itemid, timemodified)
, KEY mdl_gradgradhist_old2_ix (oldid)
, KEY mdl_gradgradhist_ite2_ix (itemid)
, KEY mdl_gradgradhist_use3_ix (userid)
, KEY mdl_gradgradhist_raw2_ix (rawscaleid)
, KEY mdl_gradgradhist_use4_ix (usermodified)
, KEY mdl_gradgradhist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='History table'
;
CREATE TABLE mdl_grade_import_newitem (
    id BIGINT(10) NOT NULL auto_increment,
    itemname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimponewi_imp2_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='temporary table for storing new grade_item names from grade '
;
CREATE TABLE mdl_grade_import_values (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10),
    newgradeitem BIGINT(10),
    userid BIGINT(10) NOT NULL,
    finalgrade NUMERIC(10,5),
    feedback LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10),
    importonlyfeedback TINYINT(1) DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimpovalu_ite2_ix (itemid)
, KEY mdl_gradimpovalu_new2_ix (newgradeitem)
, KEY mdl_gradimpovalu_imp2_ix (importer)
, KEY mdl_gradimpovalu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Temporary table for importing grades'
;
CREATE TABLE mdl_tag_coll (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    isdefault TINYINT(2) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    sortorder MEDIUMINT(5) NOT NULL DEFAULT 0,
    searchable TINYINT(2) NOT NULL DEFAULT 1,
    customurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines different set of tags'
;
CREATE TABLE mdl_tag_area (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    tagcollid BIGINT(10) NOT NULL,
    callback VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    callbackfile VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    showstandard TINYINT(1) NOT NULL DEFAULT 0,
    multiplecontexts TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tagarea_comite2_uix (component, itemtype)
, KEY mdl_tagarea_tag2_ix (tagcollid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines various tag areas, one area is identified by compone'
;
CREATE TABLE mdl_tag (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    tagcollid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    rawname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    isstandard TINYINT(1) NOT NULL DEFAULT 0,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    flag SMALLINT(4) DEFAULT 0,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tag_tagnam_uix (tagcollid, name)
, KEY mdl_tag_tagiss_ix (tagcollid, isstandard)
, KEY mdl_tag_use_ix (userid)
, KEY mdl_tag_tag_ix (tagcollid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Tag table - this generic table will replace the old "tags" t'
;
CREATE TABLE mdl_tag_correlation (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    correlatedtags LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_tagcorr_tag2_ix (tagid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The rationale for the \'tag_correlation\' table is performance'
;
CREATE TABLE mdl_tag_instance (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    contextid BIGINT(10),
    tiuserid BIGINT(10) NOT NULL DEFAULT 0,
    ordering BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_taginst_comiteitecont2_uix (component, itemtype, itemid, contextid, tiuserid, tagid)
, KEY mdl_taginst_itecomtagcon2_ix (itemtype, component, tagid, contextid)
, KEY mdl_taginst_tag2_ix (tagid)
, KEY mdl_taginst_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='tag_instance table holds the information of associations bet'
;
CREATE TABLE mdl_groups (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(254) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    enrolmentkey VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
    picture BIGINT(10) NOT NULL DEFAULT 0,
    visibility TINYINT(1) NOT NULL DEFAULT 0,
    participation TINYINT(1) NOT NULL DEFAULT 1,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn2_ix (idnumber)
, KEY mdl_grou_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Each record represents a group.'
;
CREATE TABLE mdl_groupings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    configdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn3_ix (idnumber)
, KEY mdl_grou_cou3_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='A grouping is a collection of groups. WAS: groups_groupings'
;
CREATE TABLE mdl_groups_members (
    id BIGINT(10) NOT NULL auto_increment,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_groumemb_gro2_ix (groupid)
, KEY mdl_groumemb_use2_ix (userid)
, UNIQUE KEY mdl_groumemb_usegro2_uix (userid, groupid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a user to a group.'
;
CREATE TABLE mdl_groupings_groups (
    id BIGINT(10) NOT NULL auto_increment,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grougrou_gro3_ix (groupingid)
, KEY mdl_grougrou_gro4_ix (groupid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a grouping to a group (note, groups can be in multiple '
;
CREATE TABLE mdl_cohort (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(254) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    theme VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_coho_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Each record represents one cohort (aka site-wide group).'
;
CREATE TABLE mdl_cohort_members (
    id BIGINT(10) NOT NULL auto_increment,
    cohortid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cohomemb_cohuse2_uix (cohortid, userid)
, KEY mdl_cohomemb_coh2_ix (cohortid)
, KEY mdl_cohomemb_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a user to a cohort.'
;
CREATE TABLE mdl_user_private_key (
    id BIGINT(10) NOT NULL auto_increment,
    script VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10),
    iprestriction VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userprivkey_scrval2_ix (script, value)
, KEY mdl_userprivkey_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='access keys used in cookieless scripts - rss, etc.'
;
CREATE TABLE mdl_grade_letters (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    lowerboundary NUMERIC(10,5) NOT NULL,
    letter VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradlett_conlowlet_uix (contextid, lowerboundary, letter)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Repository for grade letters, for courses and other moodle e'
;
CREATE TABLE mdl_cache_flags (
    id BIGINT(10) NOT NULL auto_increment,
    flagtype VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    expiry BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachflag_fla_ix (flagtype)
, KEY mdl_cachflag_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Cache of time-sensitive flags'
;
CREATE TABLE mdl_grade_settings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradsett_counam_uix (courseid, name)
, KEY mdl_gradsett_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='gradebook settings'
;
CREATE TABLE mdl_portfolio_instance (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='base table (not including config data) for instances of port'
;
CREATE TABLE mdl_portfolio_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstconf_nam_ix (name)
, KEY mdl_portinstconf_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='config for portfolio plugin instances'
;
CREATE TABLE mdl_portfolio_instance_user (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstuser_ins2_ix (instance)
, KEY mdl_portinstuser_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='user data for portfolio instances.'
;
CREATE TABLE mdl_portfolio_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    time BIGINT(10) NOT NULL,
    portfolio BIGINT(10) NOT NULL,
    caller_class VARCHAR(150) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    caller_file VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    caller_component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    caller_sha1 VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    tempdataid BIGINT(10) NOT NULL DEFAULT 0,
    returnurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    continueurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portlog_use2_ix (userid)
, KEY mdl_portlog_por2_ix (portfolio)
, KEY mdl_portlog_tem_ix (tempdataid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='log of portfolio transfers (used to later check for duplicat'
;
CREATE TABLE mdl_portfolio_tempdata (
    id BIGINT(10) NOT NULL auto_increment,
    data LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    expirytime BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10) DEFAULT 0,
    queued TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_porttemp_use2_ix (userid)
, KEY mdl_porttemp_ins2_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='stores temporary data for portfolio exports. the id of this '
;
CREATE TABLE mdl_message_providers (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    component VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    capability VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messprov_comnam_uix (component, name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores the message providers (modules and core sy'
;
CREATE TABLE mdl_message_processors (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(166) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='List of message output plugins'
;
CREATE TABLE mdl_files (
    id BIGINT(10) NOT NULL auto_increment,
    contenthash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    pathnamehash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    filearea VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    filepath VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    filename VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10),
    filesize BIGINT(10) NOT NULL,
    mimetype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    source LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    author VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    license VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    referencefileid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_file_comfilconite_ix (component, filearea, contextid, itemid)
, KEY mdl_file_con_ix (contenthash)
, UNIQUE KEY mdl_file_pat_uix (pathnamehash)
, KEY mdl_file_lic_ix (license)
, KEY mdl_file_fil_ix (filename)
, KEY mdl_file_con2_ix (contextid)
, KEY mdl_file_use_ix (userid)
, KEY mdl_file_ref_ix (referencefileid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='description of files, content is stored in sha1 file pool'
;
CREATE TABLE mdl_files_reference (
    id BIGINT(10) NOT NULL auto_increment,
    repositoryid BIGINT(10) NOT NULL,
    lastsync BIGINT(10),
    reference LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    referencehash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filerefe_refrep2_uix (referencehash, repositoryid)
, KEY mdl_filerefe_rep2_ix (repositoryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Store files references'
;
CREATE TABLE mdl_file_conversion (
    id BIGINT(10) NOT NULL auto_increment,
    usermodified BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    sourcefileid BIGINT(10) NOT NULL,
    targetformat VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    status BIGINT(10) DEFAULT 0,
    statusmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    converter VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    destfileid BIGINT(10),
    data LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_fileconv_sou2_ix (sourcefileid)
, KEY mdl_fileconv_des2_ix (destfileid)
, KEY mdl_fileconv_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to track file conversions.'
;
CREATE TABLE mdl_repository (
    id BIGINT(10) NOT NULL auto_increment,
    type VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    visible TINYINT(1) DEFAULT 1,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instances (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    typeid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL,
    username VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    password VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    readonly TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_repoinst_use_ix (userid)
, KEY mdl_repoinst_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instanceid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The config for intances'
;
CREATE TABLE mdl_backup_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    laststarttime BIGINT(10) NOT NULL DEFAULT 0,
    lastendtime BIGINT(10) NOT NULL DEFAULT 0,
    laststatus VARCHAR(1) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '5',
    nextstarttime BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backcour_cou2_uix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To store every course backup status'
;
CREATE TABLE mdl_block (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_bloc_nam2_uix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='contains all installed blocks'
;
CREATE TABLE mdl_block_instances (
    id BIGINT(10) NOT NULL auto_increment,
    blockname VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    parentcontextid BIGINT(10) NOT NULL,
    showinsubcontexts SMALLINT(4) NOT NULL,
    requiredbytheme SMALLINT(4) NOT NULL DEFAULT 0,
    pagetypepattern VARCHAR(64) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    subpagepattern VARCHAR(16) COLLATE utf8mb4_0900_ai_ci,
    defaultregion VARCHAR(16) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    defaultweight BIGINT(10) NOT NULL,
    configdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blocinst_parshopagsub2_ix (parentcontextid, showinsubcontexts, pagetypepattern, subpagepattern)
, KEY mdl_blocinst_tim2_ix (timemodified)
, KEY mdl_blocinst_blo_ix (blockname)
, KEY mdl_blocinst_par2_ix (parentcontextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores block instances. The type of block this is'
;
CREATE TABLE mdl_block_positions (
    id BIGINT(10) NOT NULL auto_increment,
    blockinstanceid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    pagetype VARCHAR(64) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    subpage VARCHAR(16) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    visible SMALLINT(4) NOT NULL,
    region VARCHAR(16) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    weight BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_blocposi_bloconpagsub2_uix (blockinstanceid, contextid, pagetype, subpage)
, KEY mdl_blocposi_blo2_ix (blockinstanceid)
, KEY mdl_blocposi_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores the position of a sticky block_instance on a another '
;
CREATE TABLE mdl_comments (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    commentarea VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    content LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    format TINYINT(2) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comm_concomite_ix (contextid, commentarea, itemid)
, KEY mdl_comm_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='moodle comments module'
;
CREATE TABLE mdl_external_services (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
    requiredcapability VARCHAR(150) COLLATE utf8mb4_0900_ai_ci,
    restrictedusers TINYINT(1) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    downloadfiles TINYINT(1) NOT NULL DEFAULT 0,
    uploadfiles TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_exteserv_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='built in and custom external services'
;
CREATE TABLE mdl_external_functions (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    methodname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classpath VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    capabilities VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    services VARCHAR(1333) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_extefunc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='list of all external functions'
;
CREATE TABLE mdl_external_services_functions (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    functionname VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservfunc_ext2_ix (externalserviceid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='lists functions available in each service group'
;
CREATE TABLE mdl_external_services_users (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    iprestriction VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservuser_ext2_ix (externalserviceid)
, KEY mdl_exteservuser_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='users allowed to use services with restricted users flag'
;
CREATE TABLE mdl_external_tokens (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    privatetoken VARCHAR(64) COLLATE utf8mb4_0900_ai_ci,
    tokentype SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    externalserviceid BIGINT(10) NOT NULL,
    sid VARCHAR(128) COLLATE utf8mb4_0900_ai_ci,
    contextid BIGINT(10) NOT NULL,
    creatorid BIGINT(10) NOT NULL DEFAULT 1,
    iprestriction VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    lastaccess BIGINT(10),
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_extetoke_tok2_ix (token)
, KEY mdl_extetoke_sid_ix (sid)
, KEY mdl_extetoke_use2_ix (userid)
, KEY mdl_extetoke_ext2_ix (externalserviceid)
, KEY mdl_extetoke_con2_ix (contextid)
, KEY mdl_extetoke_cre2_ix (creatorid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Security tokens for accessing of external services'
;
CREATE TABLE mdl_blog_association (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    blogid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogasso_con2_ix (contextid)
, KEY mdl_blogasso_blo2_ix (blogid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Associations of blog entries with courses and module instanc'
;
CREATE TABLE mdl_blog_external (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    url LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    filtertags VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    failedlastsync TINYINT(1) NOT NULL DEFAULT 0,
    timemodified BIGINT(10),
    timefetched BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogexte_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='External blog links used for RSS copying of blog entries to '
;
CREATE TABLE mdl_rating (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    ratingarea VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    scaleid BIGINT(10) NOT NULL,
    rating BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_rati_comratconite2_ix (component, ratingarea, contextid, itemid)
, KEY mdl_rati_con2_ix (contextid)
, KEY mdl_rati_use2_ix (userid)
, KEY mdl_rati_sca_ix (scaleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='moodle ratings'
;
CREATE TABLE mdl_license (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    fullname LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    version BIGINT(10) NOT NULL DEFAULT 0,
    custom TINYINT(1) NOT NULL DEFAULT 0,
    sortorder MEDIUMINT(5) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='store licenses used by moodle'
;
CREATE TABLE mdl_registration_hubs (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    hubname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    huburl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    secret VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='hub where the site is registered on with their associated to'
;
CREATE TABLE mdl_backup_controllers (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    operation VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'backup',
    type VARCHAR(10) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    format VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    interactive SMALLINT(4) NOT NULL,
    purpose SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    status SMALLINT(4) NOT NULL,
    execution SMALLINT(4) NOT NULL,
    executiontime BIGINT(10) NOT NULL,
    checksum VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    progress NUMERIC(15,14) NOT NULL DEFAULT 0,
    controller LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_backcont_typite2_ix (type, itemid)
, KEY mdl_backcont_useite2_ix (userid, itemid)
, UNIQUE KEY mdl_backcont_bac2_uix (backupid)
, KEY mdl_backcont_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To store the backup_controllers as they are used'
;
CREATE TABLE mdl_backup_logs (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    loglevel SMALLINT(4) NOT NULL,
    message LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backlogs_bacid2_uix (backupid, id)
, KEY mdl_backlogs_bac2_ix (backupid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To store all the logs from backup and restore operations (by'
;
CREATE TABLE mdl_profiling (
    id BIGINT(10) NOT NULL auto_increment,
    runid VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    data LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    totalexecutiontime BIGINT(10) NOT NULL,
    totalcputime BIGINT(10) NOT NULL,
    totalcalls BIGINT(10) NOT NULL,
    totalmemory BIGINT(10) NOT NULL,
    runreference TINYINT(2) NOT NULL DEFAULT 0,
    runcomment VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_prof_urlrun_ix (url, runreference)
, KEY mdl_prof_timrun_ix (timecreated, runreference)
, UNIQUE KEY mdl_prof_run_uix (runid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores the results of all the profiling runs'
;
CREATE TABLE mdl_course_published (
    id BIGINT(10) NOT NULL auto_increment,
    huburl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    courseid BIGINT(10) NOT NULL,
    timepublished BIGINT(10) NOT NULL,
    enrollable TINYINT(1) NOT NULL DEFAULT 1,
    hubcourseid BIGINT(10) NOT NULL,
    status TINYINT(1) DEFAULT 0,
    timechecked BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courpubl_hub_ix (hubcourseid)
, KEY mdl_courpubl_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Information about how and when an local courses were publish'
;
CREATE TABLE mdl_grading_areas (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    areaname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    activemethod VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradarea_concomare2_uix (contextid, component, areaname)
, KEY mdl_gradarea_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Identifies gradable areas where advanced grading can happen.'
;
CREATE TABLE mdl_grading_definitions (
    id BIGINT(10) NOT NULL auto_increment,
    areaid BIGINT(10) NOT NULL,
    method VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2),
    status BIGINT(10) NOT NULL DEFAULT 0,
    copiedfromid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    usercreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    timecopied BIGINT(10) DEFAULT 0,
    options LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graddefi_are2_ix (areaid)
, KEY mdl_graddefi_use3_ix (usermodified)
, UNIQUE KEY mdl_graddefi_aremet2_uix (areaid, method)
, KEY mdl_graddefi_use4_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Contains the basic information about an advanced grading for'
;
CREATE TABLE mdl_grading_instances (
    id BIGINT(10) NOT NULL auto_increment,
    definitionid BIGINT(10) NOT NULL,
    raterid BIGINT(10) NOT NULL,
    itemid BIGINT(10),
    rawgrade NUMERIC(10,5),
    status BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    feedbackformat TINYINT(2),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradinst_def2_ix (definitionid)
, KEY mdl_gradinst_rat2_ix (raterid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Grading form instance is an assessment record for one gradab'
;
CREATE TABLE mdl_event_subscriptions (
    id BIGINT(10) NOT NULL auto_increment,
    url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    pollinterval BIGINT(10) NOT NULL DEFAULT 0,
    lastupdated BIGINT(10),
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evensubs_cou_ix (courseid)
, KEY mdl_evensubs_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Tracks subscriptions to remote calendars.'
;
CREATE TABLE mdl_badge (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuername VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    issuerurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    issuercontact VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    expiredate BIGINT(10),
    expireperiod BIGINT(10),
    type TINYINT(1) NOT NULL DEFAULT 1,
    courseid BIGINT(10),
    message LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    messagesubject LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    attachment TINYINT(1) NOT NULL DEFAULT 1,
    notification TINYINT(1) NOT NULL DEFAULT 1,
    status TINYINT(1) NOT NULL DEFAULT 0,
    nextcron BIGINT(10),
    version VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    language VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    imageauthorname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    imageauthoremail VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    imageauthorurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    imagecaption LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badg_typ_ix (type)
, KEY mdl_badg_cou_ix (courseid)
, KEY mdl_badg_use_ix (usermodified)
, KEY mdl_badg_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines badge'
;
CREATE TABLE mdl_badge_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 1,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcrit_cri2_ix (criteriatype)
, UNIQUE KEY mdl_badgcrit_badcri2_uix (badgeid, criteriatype)
, KEY mdl_badgcrit_bad2_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines criteria for issuing badges'
;
CREATE TABLE mdl_badge_criteria_param (
    id BIGINT(10) NOT NULL auto_increment,
    critid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritpara_cri2_ix (critid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines parameters for badges criteria'
;
CREATE TABLE mdl_badge_issued (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    uniquehash LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    dateissued BIGINT(10) NOT NULL DEFAULT 0,
    dateexpire BIGINT(10),
    visible TINYINT(1) NOT NULL DEFAULT 0,
    issuernotified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_badgissu_baduse2_uix (badgeid, userid)
, KEY mdl_badgissu_bad2_ix (badgeid)
, KEY mdl_badgissu_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines issued badges'
;
CREATE TABLE mdl_badge_criteria_met (
    id BIGINT(10) NOT NULL auto_increment,
    issuedid BIGINT(10),
    critid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritmet_cri2_ix (critid)
, KEY mdl_badgcritmet_use2_ix (userid)
, KEY mdl_badgcritmet_iss2_ix (issuedid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines criteria that were met for an issued badge'
;
CREATE TABLE mdl_badge_endorsement (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    issuername VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    issuerurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    issueremail VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    claimid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    claimcomment LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    dateissued BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgendo_bad2_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines endorsement for badge'
;
CREATE TABLE mdl_badge_manual_award (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL,
    recipientid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    issuerrole BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgmanuawar_bad2_ix (badgeid)
, KEY mdl_badgmanuawar_rec2_ix (recipientid)
, KEY mdl_badgmanuawar_iss3_ix (issuerid)
, KEY mdl_badgmanuawar_iss4_ix (issuerrole)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Track manual award criteria for badges'
;
CREATE TABLE mdl_badge_backpack (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    email VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    backpackuid BIGINT(10) NOT NULL,
    autosync TINYINT(1) NOT NULL DEFAULT 0,
    password VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
    externalbackpackid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgback_use2_ix (userid)
, UNIQUE KEY mdl_badgback_useext2_uix (userid, externalbackpackid)
, KEY mdl_badgback_ext2_ix (externalbackpackid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines settings for connecting external backpack'
;
CREATE TABLE mdl_badge_backpack_oauth2 (
    id BIGINT(10) NOT NULL auto_increment,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    externalbackpackid BIGINT(10) NOT NULL,
    token LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    refreshtoken LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    expires BIGINT(10),
    scope LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgbackoaut_use3_ix (usermodified)
, KEY mdl_badgbackoaut_use4_ix (userid)
, KEY mdl_badgbackoaut_iss2_ix (issuerid)
, KEY mdl_badgbackoaut_ext2_ix (externalbackpackid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Default comment for the table, please edit me'
;
CREATE TABLE mdl_badge_external (
    id BIGINT(10) NOT NULL auto_increment,
    backpackid BIGINT(10) NOT NULL,
    collectionid BIGINT(10) NOT NULL,
    entityid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    assertion LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgexte_bac2_ix (backpackid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Setting for external badges display'
;
CREATE TABLE mdl_badge_external_identifier (
    id BIGINT(10) NOT NULL auto_increment,
    sitebackpackid BIGINT(10) NOT NULL,
    internalid VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    externalid VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    type VARCHAR(16) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgexteiden_sit2_ix (sitebackpackid)
, UNIQUE KEY mdl_badgexteiden_sitintex2_uix (sitebackpackid, internalid, externalid, type)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Setting for external badges mappings'
;
CREATE TABLE mdl_badge_alignment (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    targetname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    targeturl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    targetdescription LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    targetframework VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    targetcode VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgalig_bad2_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines alignment for badges'
;
CREATE TABLE mdl_badge_related (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    relatedbadgeid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgrela_bad2_ix (badgeid)
, KEY mdl_badgrela_rel2_ix (relatedbadgeid)
, UNIQUE KEY mdl_badgrela_badrel2_uix (badgeid, relatedbadgeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines badge related for badges'
;
CREATE TABLE mdl_badge_external_backpack (
    id BIGINT(10) NOT NULL auto_increment,
    backpackapiurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    backpackweburl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    apiversion VARCHAR(12) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '1.0',
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    oauth2_issuerid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_badgexteback_bac_uix (backpackapiurl)
, UNIQUE KEY mdl_badgexteback_bac2_uix (backpackweburl)
, KEY mdl_badgexteback_oau_ix (oauth2_issuerid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines settings for site level backpacks that a user can co'
;
CREATE TABLE mdl_user_devices (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    appid VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    model VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    platform VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    version VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    pushid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    uuid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    publickey LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userdevi_uuiuse_ix (uuid, userid)
, UNIQUE KEY mdl_userdevi_pususe_uix (pushid, userid)
, KEY mdl_userdevi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores user\'s mobile devices information in order'
;
CREATE TABLE mdl_user_password_resets (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timerequested BIGINT(10) NOT NULL,
    timererequested BIGINT(10) NOT NULL DEFAULT 0,
    token VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userpassrese_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='table tracking password reset confirmation tokens'
;
CREATE TABLE mdl_lock_db (
    id BIGINT(10) NOT NULL auto_increment,
    resourcekey VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    expires BIGINT(10),
    owner VARCHAR(36) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_lockdb_res_uix (resourcekey)
, KEY mdl_lockdb_exp_ix (expires)
, KEY mdl_lockdb_own_ix (owner)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores active and inactive lock types for db locking method.'
;
CREATE TABLE mdl_task_scheduled (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    lastruntime BIGINT(10),
    nextruntime BIGINT(10),
    minute VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    hour VARCHAR(70) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    day VARCHAR(90) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    month VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    dayofweek VARCHAR(25) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    faildelay BIGINT(10),
    customised TINYINT(2) NOT NULL DEFAULT 0,
    disabled TINYINT(1) NOT NULL DEFAULT 0,
    timestarted BIGINT(10),
    hostname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    pid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tasksche_cla_uix (classname)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='List of scheduled tasks to be run by cron.'
;
CREATE TABLE mdl_task_adhoc (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    nextruntime BIGINT(10) NOT NULL,
    faildelay BIGINT(10),
    customdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    userid BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timestarted BIGINT(10),
    hostname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    pid BIGINT(10),
    attemptsavailable TINYINT(2),
    firststartingtime BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_taskadho_nex2_ix (nextruntime)
, KEY mdl_taskadho_tim_ix (timestarted)
, KEY mdl_taskadho_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='List of adhoc tasks waiting to run.'
;
CREATE TABLE mdl_task_log (
    id BIGINT(10) NOT NULL auto_increment,
    type SMALLINT(4) NOT NULL,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    timestart NUMERIC(20,10) NOT NULL,
    timeend NUMERIC(20,10) NOT NULL,
    dbreads BIGINT(10) NOT NULL,
    dbwrites BIGINT(10) NOT NULL,
    result TINYINT(2) NOT NULL,
    output LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    hostname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    pid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_tasklog_cla_ix (classname)
, KEY mdl_tasklog_tim_ix (timestart)
, KEY mdl_tasklog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The log table for all tasks'
;
CREATE TABLE mdl_messageinbound_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    defaultexpiration BIGINT(10) NOT NULL DEFAULT 86400,
    validateaddress TINYINT(1) NOT NULL DEFAULT 1,
    enabled TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messhand_cla_uix (classname)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Inbound Message Handler definitions.'
;
CREATE TABLE mdl_messageinbound_datakeys (
    id BIGINT(10) NOT NULL auto_increment,
    handler BIGINT(10) NOT NULL,
    datavalue BIGINT(10) NOT NULL,
    datakey VARCHAR(64) COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    expires BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messdata_handat2_uix (handler, datavalue)
, KEY mdl_messdata_han2_ix (handler)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Inbound Message data item secret keys.'
;
CREATE TABLE mdl_messageinbound_messagelist (
    id BIGINT(10) NOT NULL auto_increment,
    messageid LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    userid BIGINT(10) NOT NULL,
    address LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messmess_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='A list of message IDs for existing replies'
;
CREATE TABLE mdl_competency (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat SMALLINT(4) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    competencyframeworkid BIGINT(10) NOT NULL,
    parentid BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sortorder BIGINT(10) NOT NULL,
    ruletype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    ruleoutcome TINYINT(2) NOT NULL DEFAULT 0,
    ruleconfig LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    scaleid BIGINT(10),
    scaleconfiguration LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_comp_comidn2_uix (competencyframeworkid, idnumber)
, KEY mdl_comp_rul2_ix (ruleoutcome)
, KEY mdl_comp_sca_ix (scaleid)
, KEY mdl_comp_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table contains the master record of each competency in '
;
CREATE TABLE mdl_competency_coursecompsetting (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    pushratingstouserplans TINYINT(2),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compcour_cou2_uix (courseid)
, KEY mdl_compcour_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table contains the course specific settings for compete'
;
CREATE TABLE mdl_competency_framework (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    contextid BIGINT(10) NOT NULL,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat SMALLINT(4) NOT NULL DEFAULT 0,
    scaleid BIGINT(11),
    scaleconfiguration LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    visible TINYINT(2) NOT NULL DEFAULT 1,
    taxonomies VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compfram_idn2_uix (idnumber)
, KEY mdl_compfram_con_ix (contextid)
, KEY mdl_compfram_sca_ix (scaleid)
, KEY mdl_compfram_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='List of competency frameworks.'
;
CREATE TABLE mdl_competency_coursecomp (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    ruleoutcome TINYINT(2) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compcour_courul2_ix (courseid, ruleoutcome)
, UNIQUE KEY mdl_compcour_coucom2_uix (courseid, competencyid)
, KEY mdl_compcour_cou3_ix (courseid)
, KEY mdl_compcour_com2_ix (competencyid)
, KEY mdl_compcour_use2_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a competency to a course.'
;
CREATE TABLE mdl_competency_plan (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat SMALLINT(4) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    templateid BIGINT(10),
    origtemplateid BIGINT(10),
    status TINYINT(1) NOT NULL,
    duedate BIGINT(10) DEFAULT 0,
    reviewerid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compplan_usesta2_ix (userid, status)
, KEY mdl_compplan_tem2_ix (templateid)
, KEY mdl_compplan_stadue2_ix (status, duedate)
, KEY mdl_compplan_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Learning plans'
;
CREATE TABLE mdl_competency_template (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    contextid BIGINT(10) NOT NULL,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat SMALLINT(4) NOT NULL DEFAULT 0,
    visible TINYINT(2) NOT NULL DEFAULT 1,
    duedate BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comptemp_con_ix (contextid)
, KEY mdl_comptemp_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Learning plan templates.'
;
CREATE TABLE mdl_competency_templatecomp (
    id BIGINT(10) NOT NULL auto_increment,
    templateid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comptemp_tem2_ix (templateid)
, KEY mdl_comptemp_com2_ix (competencyid)
, KEY mdl_comptemp_use2_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a competency to a learning plan template.'
;
CREATE TABLE mdl_competency_templatecohort (
    id BIGINT(10) NOT NULL auto_increment,
    templateid BIGINT(10) NOT NULL,
    cohortid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comptemp_tem3_ix (templateid)
, UNIQUE KEY mdl_comptemp_temcoh2_uix (templateid, cohortid)
, KEY mdl_comptemp_use3_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Default comment for the table, please edit me'
;
CREATE TABLE mdl_competency_relatedcomp (
    id BIGINT(10) NOT NULL auto_increment,
    competencyid BIGINT(10) NOT NULL,
    relatedcompetencyid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comprela_com_ix (competencyid)
, KEY mdl_comprela_rel_ix (relatedcompetencyid)
, KEY mdl_comprela_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Related competencies'
;
CREATE TABLE mdl_competency_usercomp (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    status TINYINT(2) NOT NULL DEFAULT 0,
    reviewerid BIGINT(10),
    proficiency TINYINT(2),
    grade BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compuser_usecom2_uix (userid, competencyid)
, KEY mdl_compuser_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='User competencies'
;
CREATE TABLE mdl_competency_usercompcourse (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    courseid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    proficiency TINYINT(2),
    grade BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compuser_usecoucom2_uix (userid, courseid, competencyid)
, KEY mdl_compuser_use2_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='User competencies in a course'
;
CREATE TABLE mdl_competency_usercompplan (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    planid BIGINT(10) NOT NULL,
    proficiency TINYINT(2),
    grade BIGINT(10),
    sortorder BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compuser_usecompla2_uix (userid, competencyid, planid)
, KEY mdl_compuser_use3_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='User competencies plans'
;
CREATE TABLE mdl_competency_plancomp (
    id BIGINT(10) NOT NULL auto_increment,
    planid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    sortorder BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compplan_placom2_uix (planid, competencyid)
, KEY mdl_compplan_use2_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Plan competencies'
;
CREATE TABLE mdl_competency_evidence (
    id BIGINT(10) NOT NULL auto_increment,
    usercompetencyid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    action TINYINT(2) NOT NULL,
    actionuserid BIGINT(10),
    descidentifier VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    desccomponent VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    desca LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    grade BIGINT(10),
    note LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compevid_use2_ix (usercompetencyid)
, KEY mdl_compevid_con_ix (contextid)
, KEY mdl_compevid_act_ix (actionuserid)
, KEY mdl_compevid_use3_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The evidence linked to a user competency'
;
CREATE TABLE mdl_competency_userevidence (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    descriptionformat TINYINT(1) NOT NULL,
    url LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compuser_use4_ix (userid)
, KEY mdl_compuser_use5_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The evidence of prior learning'
;
CREATE TABLE mdl_competency_userevidencecomp (
    id BIGINT(10) NOT NULL auto_increment,
    userevidenceid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compuser_use6_ix (userevidenceid)
, UNIQUE KEY mdl_compuser_usecom3_uix (userevidenceid, competencyid)
, KEY mdl_compuser_use7_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Relationship between user evidence and competencies'
;
CREATE TABLE mdl_competency_modulecomp (
    id BIGINT(10) NOT NULL auto_increment,
    cmid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    ruleoutcome TINYINT(2) NOT NULL,
    overridegrade TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compmodu_cmirul2_ix (cmid, ruleoutcome)
, UNIQUE KEY mdl_compmodu_cmicom2_uix (cmid, competencyid)
, KEY mdl_compmodu_cmi2_ix (cmid)
, KEY mdl_compmodu_com2_ix (competencyid)
, KEY mdl_compmodu_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a competency to a module.'
;
CREATE TABLE mdl_oauth2_endpoint (
    id BIGINT(10) NOT NULL auto_increment,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    url LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    issuerid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_oautendp_iss2_ix (issuerid)
, KEY mdl_oautendp_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Describes the named endpoint for an oauth2 service.'
;
CREATE TABLE mdl_oauth2_issuer (
    id BIGINT(10) NOT NULL auto_increment,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    image LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    baseurl LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    clientid LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    clientsecret LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    loginscopes LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    loginscopesoffline LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    loginparams LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    loginparamsoffline LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    alloweddomains LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    scopessupported LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    enabled TINYINT(2) NOT NULL DEFAULT 1,
    showonloginpage TINYINT(2) NOT NULL DEFAULT 1,
    basicauth TINYINT(2) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL,
    requireconfirmation TINYINT(2) NOT NULL DEFAULT 1,
    servicetype VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    loginpagename VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Details for an oauth 2 connect identity issuer.'
;
CREATE TABLE mdl_oauth2_system_account (
    id BIGINT(10) NOT NULL auto_increment,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    refreshtoken LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    grantedscopes LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    email LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    username LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_oautsystacco_iss2_uix (issuerid)
, KEY mdl_oautsystacco_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stored details used to get an access token as a system user '
;
CREATE TABLE mdl_oauth2_user_field_mapping (
    id BIGINT(10) NOT NULL auto_increment,
    timemodified BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    externalfield VARCHAR(500) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    internalfield VARCHAR(64) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_oautuserfielmapp_iss2_ix (issuerid)
, UNIQUE KEY mdl_oautuserfielmapp_issi2_uix (issuerid, internalfield)
, KEY mdl_oautuserfielmapp_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Mapping of oauth user fields to moodle fields.'
;
CREATE TABLE mdl_course_completion_defaults (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL,
    module BIGINT(10) NOT NULL,
    completion TINYINT(1) NOT NULL DEFAULT 0,
    completionview TINYINT(1) NOT NULL DEFAULT 0,
    completionusegrade TINYINT(1) NOT NULL DEFAULT 0,
    completionpassgrade TINYINT(1) NOT NULL DEFAULT 0,
    completionexpected BIGINT(10) NOT NULL DEFAULT 0,
    customrules LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_courcompdefa_coumod2_uix (course, module)
, KEY mdl_courcompdefa_mod2_ix (module)
, KEY mdl_courcompdefa_cou2_ix (course)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Default settings for activities completion'
;
CREATE TABLE mdl_analytics_models (
    id BIGINT(10) NOT NULL auto_increment,
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    trained TINYINT(1) NOT NULL DEFAULT 0,
    name VARCHAR(1333) COLLATE utf8mb4_0900_ai_ci,
    target VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    indicators LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timesplitting VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    predictionsprocessor VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    version BIGINT(10) NOT NULL,
    contextids LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10),
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analmode_enatra2_ix (enabled, trained)
, KEY mdl_analmode_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Analytic models.'
;
CREATE TABLE mdl_analytics_models_log (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL,
    version BIGINT(10) NOT NULL,
    evaluationmode VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    target VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    indicators LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timesplitting VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    score NUMERIC(10,5) NOT NULL DEFAULT 0,
    info LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    dir LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analmodelog_mod2_ix (modelid)
, KEY mdl_analmodelog_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Analytic models changes during evaluation.'
;
CREATE TABLE mdl_analytics_predictions (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    sampleid BIGINT(10) NOT NULL,
    rangeindex MEDIUMINT(5) NOT NULL,
    prediction NUMERIC(10,2) NOT NULL,
    predictionscore NUMERIC(10,5) NOT NULL,
    calculations LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timestart BIGINT(10),
    timeend BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analpred_modcon2_ix (modelid, contextid)
, KEY mdl_analpred_mod2_ix (modelid)
, KEY mdl_analpred_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Predictions'
;
CREATE TABLE mdl_analytics_train_samples (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL,
    analysableid BIGINT(10) NOT NULL,
    timesplitting VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sampleids LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analtraisamp_modanatim_ix (modelid, analysableid, timesplitting)
, KEY mdl_analtraisamp_mod_ix (modelid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Samples used for training'
;
CREATE TABLE mdl_analytics_predict_samples (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL,
    analysableid BIGINT(10) NOT NULL,
    timesplitting VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    rangeindex BIGINT(10) NOT NULL,
    sampleids LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analpredsamp_modanatimr_ix (modelid, analysableid, timesplitting, rangeindex)
, KEY mdl_analpredsamp_mod_ix (modelid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Samples already used for predictions.'
;
CREATE TABLE mdl_analytics_used_files (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL DEFAULT 0,
    fileid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    time BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analusedfile_modactfil2_ix (modelid, action, fileid)
, KEY mdl_analusedfile_mod2_ix (modelid)
, KEY mdl_analusedfile_fil2_ix (fileid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Files that have already been used for training and predictio'
;
CREATE TABLE mdl_analytics_indicator_calc (
    id BIGINT(10) NOT NULL auto_increment,
    starttime BIGINT(10) NOT NULL,
    endtime BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    sampleorigin VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sampleid BIGINT(10) NOT NULL,
    indicator VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value NUMERIC(10,2),
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analindicalc_staendcon2_ix (starttime, endtime, contextid)
, KEY mdl_analindicalc_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stored indicator calculations'
;
CREATE TABLE mdl_analytics_prediction_actions (
    id BIGINT(10) NOT NULL auto_increment,
    predictionid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    actionname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analpredacti_preuseact_ix (predictionid, userid, actionname)
, KEY mdl_analpredacti_pre_ix (predictionid)
, KEY mdl_analpredacti_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Register of user actions over predictions.'
;
CREATE TABLE mdl_oauth2_access_token (
    id BIGINT(10) NOT NULL auto_increment,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    token LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    expires BIGINT(10) NOT NULL,
    scope LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_oautaccetoke_iss2_uix (issuerid)
, KEY mdl_oautaccetoke_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores access tokens for system accounts in order to be able'
;
CREATE TABLE mdl_analytics_used_analysables (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL,
    action VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    analysableid BIGINT(10) NOT NULL,
    firstanalysis BIGINT(10) NOT NULL,
    timeanalysed BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analusedanal_modact2_ix (modelid, action)
, KEY mdl_analusedanal_ana2_ix (analysableid)
, KEY mdl_analusedanal_mod2_ix (modelid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='List of analysables used by each model'
;
CREATE TABLE mdl_search_index_requests (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    searcharea VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timerequested BIGINT(10) NOT NULL,
    partialarea VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    partialtime BIGINT(10) NOT NULL,
    indexpriority BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_searinderequ_indtim2_ix (indexpriority, timerequested)
, KEY mdl_searinderequ_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Records requests for (re)indexing of specific contexts. Entr'
;
CREATE TABLE mdl_favourite (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    ordering BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_favo_comiteiteconuse2_uix (component, itemtype, itemid, contextid, userid)
, KEY mdl_favo_con2_ix (contextid)
, KEY mdl_favo_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores the relationship between an arbitrary item (itemtype,'
;
CREATE TABLE mdl_customfield_category (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(400) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat BIGINT(10),
    sortorder BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    area VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_custcate_comareitesor2_ix (component, area, itemid, sortorder)
, KEY mdl_custcate_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='core_customfield category table'
;
CREATE TABLE mdl_customfield_field (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(400) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    type VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat BIGINT(10),
    sortorder BIGINT(10),
    categoryid BIGINT(10),
    configdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_custfiel_catsor2_ix (categoryid, sortorder)
, KEY mdl_custfiel_cat2_ix (categoryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='core_customfield field table'
;
CREATE TABLE mdl_customfield_data (
    id BIGINT(10) NOT NULL auto_increment,
    fieldid BIGINT(10) NOT NULL,
    instanceid BIGINT(10) NOT NULL,
    intvalue BIGINT(10),
    decvalue NUMERIC(10,5),
    shortcharvalue VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    charvalue VARCHAR(1333) COLLATE utf8mb4_0900_ai_ci,
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    valueformat BIGINT(10) NOT NULL,
    valuetrust TINYINT(2) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    contextid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_custdata_insfie_uix (instanceid, fieldid)
, KEY mdl_custdata_fieint_ix (fieldid, intvalue)
, KEY mdl_custdata_fiesho_ix (fieldid, shortcharvalue)
, KEY mdl_custdata_fiedec_ix (fieldid, decvalue)
, KEY mdl_custdata_fie_ix (fieldid)
, KEY mdl_custdata_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='core_customfield data table'
;
CREATE TABLE mdl_h5p_libraries (
    id BIGINT(10) NOT NULL auto_increment,
    machinename VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    title VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    majorversion SMALLINT(4) NOT NULL,
    minorversion SMALLINT(4) NOT NULL,
    patchversion SMALLINT(4) NOT NULL,
    runnable TINYINT(1) NOT NULL,
    fullscreen TINYINT(1) NOT NULL DEFAULT 0,
    embedtypes VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    preloadedjs LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    preloadedcss LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    droplibrarycss LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    semantics LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    addto LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    coremajor SMALLINT(4),
    coreminor SMALLINT(4),
    metadatasettings LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    tutorial LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    example LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    enabled TINYINT(1) DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_h5plibr_macmajminpatrun_ix (machinename, majorversion, minorversion, patchversion, runnable)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores information about libraries used by H5P content.'
;
CREATE TABLE mdl_h5p_library_dependencies (
    id BIGINT(10) NOT NULL auto_increment,
    libraryid BIGINT(10) NOT NULL,
    requiredlibraryid BIGINT(10) NOT NULL,
    dependencytype VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_h5plibrdepe_lib2_ix (libraryid)
, KEY mdl_h5plibrdepe_req2_ix (requiredlibraryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores H5P library dependencies'
;
CREATE TABLE mdl_h5p (
    id BIGINT(10) NOT NULL auto_increment,
    jsoncontent LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    mainlibraryid BIGINT(10) NOT NULL,
    displayoptions SMALLINT(4),
    pathnamehash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contenthash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    filtered LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_h5p_pat2_ix (pathnamehash)
, KEY mdl_h5p_mai2_ix (mainlibraryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores H5P content information'
;
CREATE TABLE mdl_h5p_contents_libraries (
    id BIGINT(10) NOT NULL auto_increment,
    h5pid BIGINT(10) NOT NULL,
    libraryid BIGINT(10) NOT NULL,
    dependencytype VARCHAR(10) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    dropcss TINYINT(1) NOT NULL,
    weight BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_h5pcontlibr_h5p2_ix (h5pid)
, KEY mdl_h5pcontlibr_lib2_ix (libraryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Store which library is used in which content.'
;
CREATE TABLE mdl_h5p_libraries_cachedassets (
    id BIGINT(10) NOT NULL auto_increment,
    libraryid BIGINT(10) NOT NULL,
    hash VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_h5plibrcach_lib2_ix (libraryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='H5P cached library assets'
;
CREATE TABLE mdl_contentbank_content (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contenttype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    visibility TINYINT(1) NOT NULL DEFAULT 1,
    instanceid BIGINT(10),
    configdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    usercreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_contcont_nam_ix (name)
, KEY mdl_contcont_conconins_ix (contextid, contenttype, instanceid)
, KEY mdl_contcont_con_ix (contextid)
, KEY mdl_contcont_use_ix (usermodified)
, KEY mdl_contcont_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores content data in the content bank.'
;
CREATE TABLE mdl_payment_accounts (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    contextid BIGINT(10) NOT NULL,
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    archived TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_paymacco_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Payment accounts'
;
CREATE TABLE mdl_payment_gateways (
    id BIGINT(10) NOT NULL auto_increment,
    accountid BIGINT(10) NOT NULL,
    gateway VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    config LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_paymgate_acc2_ix (accountid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Configuration for one gateway for one payment account'
;
CREATE TABLE mdl_payments (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    paymentarea VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    amount VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    currency VARCHAR(3) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    accountid BIGINT(10) NOT NULL,
    gateway VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_paym_gat2_ix (gateway)
, KEY mdl_paym_compayite2_ix (component, paymentarea, itemid)
, KEY mdl_paym_use2_ix (userid)
, KEY mdl_paym_acc2_ix (accountid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores information about payments'
;
CREATE TABLE mdl_infected_files (
    id BIGINT(10) NOT NULL auto_increment,
    filename LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    quarantinedfile LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    userid BIGINT(10) NOT NULL,
    reason LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_infefile_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to store infected file details.'
;
CREATE TABLE mdl_oauth2_refresh_token (
    id BIGINT(10) NOT NULL auto_increment,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    token LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    scopehash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_oautrefrtoke_useisssc2_uix (userid, issuerid, scopehash)
, KEY mdl_oautrefrtoke_iss2_ix (issuerid)
, KEY mdl_oautrefrtoke_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores refresh tokens which can be exchanged for access toke'
;
CREATE TABLE mdl_reportbuilder_report (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    type TINYINT(2) NOT NULL DEFAULT 0,
    uniquerows TINYINT(1) NOT NULL DEFAULT 0,
    conditiondata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    settingsdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    area VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_reporepo_use3_ix (usercreated)
, KEY mdl_reporepo_use4_ix (usermodified)
, KEY mdl_reporepo_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to represent a report'
;
CREATE TABLE mdl_reportbuilder_column (
    id BIGINT(10) NOT NULL auto_increment,
    reportid BIGINT(10) NOT NULL DEFAULT 0,
    uniqueidentifier VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    aggregation VARCHAR(32) COLLATE utf8mb4_0900_ai_ci,
    heading VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    columnorder BIGINT(10) NOT NULL,
    sortenabled TINYINT(1) NOT NULL DEFAULT 0,
    sortdirection TINYINT(1) NOT NULL,
    sortorder BIGINT(10),
    usercreated BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_repocolu_rep2_ix (reportid)
, KEY mdl_repocolu_use3_ix (usercreated)
, KEY mdl_repocolu_use4_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to represent a report column'
;
CREATE TABLE mdl_reportbuilder_filter (
    id BIGINT(10) NOT NULL auto_increment,
    reportid BIGINT(10) NOT NULL DEFAULT 0,
    uniqueidentifier VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    heading VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    iscondition TINYINT(1) NOT NULL DEFAULT 0,
    filterorder BIGINT(10) NOT NULL,
    usercreated BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_repofilt_repuniisc_uix (reportid, uniqueidentifier, iscondition)
, KEY mdl_repofilt_rep2_ix (reportid)
, KEY mdl_repofilt_use3_ix (usercreated)
, KEY mdl_repofilt_use4_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to represent a report filter/condition'
;
CREATE TABLE mdl_reportbuilder_audience (
    id BIGINT(10) NOT NULL auto_increment,
    reportid BIGINT(10) NOT NULL,
    heading VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    classname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    configdata LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    usercreated BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_repoaudi_rep2_ix (reportid)
, KEY mdl_repoaudi_use3_ix (usercreated)
, KEY mdl_repoaudi_use4_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines report audience'
;
CREATE TABLE mdl_reportbuilder_schedule (
    id BIGINT(10) NOT NULL auto_increment,
    reportid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    audiences LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    format VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    subject VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    message LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    messageformat BIGINT(10) NOT NULL,
    userviewas BIGINT(10) NOT NULL DEFAULT 0,
    timescheduled BIGINT(10) NOT NULL DEFAULT 0,
    recurrence BIGINT(10) NOT NULL DEFAULT 0,
    reportempty BIGINT(10) NOT NULL DEFAULT 0,
    timelastsent BIGINT(10) NOT NULL DEFAULT 0,
    timenextsend BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_reposche_rep2_ix (reportid)
, KEY mdl_reposche_use4_ix (userviewas)
, KEY mdl_reposche_use5_ix (usercreated)
, KEY mdl_reposche_use6_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to represent a report schedule'
;
CREATE TABLE mdl_adminpresets (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    comments LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    site VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    author VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    moodleversion VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    moodlerelease VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    iscore TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeimported BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to store presets data'
;
CREATE TABLE mdl_adminpresets_it (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetid BIGINT(10) NOT NULL,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiit_adm2_ix (adminpresetid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to store settings'
;
CREATE TABLE mdl_adminpresets_it_a (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10) NOT NULL,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiita_ite2_ix (itemid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Admin presets items attributes. For settings with attributes'
;
CREATE TABLE mdl_adminpresets_app (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    time BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiapp_adm2_ix (adminpresetid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Applied presets'
;
CREATE TABLE mdl_adminpresets_app_it (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetapplyid BIGINT(10) NOT NULL,
    configlogid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiappit_con2_ix (configlogid)
, KEY mdl_admiappit_adm2_ix (adminpresetapplyid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Admin presets applied items. To maintain the relation with c'
;
CREATE TABLE mdl_adminpresets_app_it_a (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetapplyid BIGINT(10) NOT NULL,
    configlogid BIGINT(10) NOT NULL,
    itemname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiappita_con2_ix (configlogid)
, KEY mdl_admiappita_adm2_ix (adminpresetapplyid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Attributes of the applied items'
;
CREATE TABLE mdl_adminpresets_plug (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetid BIGINT(10) NOT NULL,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled SMALLINT(4) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiplug_adm2_ix (adminpresetid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Admin presets plugins status, to store information about whe'
;
CREATE TABLE mdl_adminpresets_app_plug (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetapplyid BIGINT(10) NOT NULL,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value SMALLINT(4) NOT NULL DEFAULT 0,
    oldvalue SMALLINT(4) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiappplug_adm2_ix (adminpresetapplyid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Admin presets plugins applied'
;
CREATE TABLE mdl_course_modules_viewed (
    id BIGINT(10) NOT NULL auto_increment,
    coursemoduleid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmoduview_cou_ix (coursemoduleid)
, UNIQUE KEY mdl_courmoduview_usecou_uix (userid, coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Tracks the completion viewed (viewed with cmid/userid and ot'
;
CREATE TABLE mdl_xapi_states (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10),
    itemid BIGINT(10) NOT NULL,
    stateid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    statedata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    registration VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_xapistat_comite_ix (component, itemid)
, KEY mdl_xapistat_use_ix (userid)
, KEY mdl_xapistat_tim_ix (timemodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The stored xAPI states'
;
CREATE TABLE mdl_moodlenet_share_progress (
    id BIGINT(10) NOT NULL auto_increment,
    type TINYINT(2) NOT NULL,
    courseid BIGINT(10) NOT NULL,
    cmid BIGINT(10),
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    resourceurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    status TINYINT(2),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Records MoodleNet share progress'
Error code: ddlexecuteerror
* line 500 of /lib/dml/moodle_database.php: ddl_change_structure_exception thrown
* line 293 of /lib/dml/moodle_read_slave_trait.php: call to moodle_database->query_end()
* line 1228 of /lib/dml/mysqli_native_moodle_database.php: call to mysqli_native_moodle_database->query_end()
* line 77 of /lib/ddl/database_manager.php: call to mysqli_native_moodle_database->change_database_structure()
* line 427 of /lib/ddl/database_manager.php: call to database_manager->execute_sql_arr()
* line 372 of /lib/ddl/database_manager.php: call to database_manager->install_from_xmldb_structure()
* line 1796 of /lib/upgradelib.php: call to database_manager->install_from_xmldb_file()
* line 284 of /admin/index.php: call to install_core()

[04-Aug-2024 18:00:27 UTC] Default exception handler: DDL sql execution error Debug: Table 'mdl_config' already exists
CREATE TABLE mdl_config (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_conf_nam2_uix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Moodle configuration variables'
;
CREATE TABLE mdl_config_plugins (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'core',
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_confplug_plunam2_uix (plugin, name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Moodle modules and plugins configuration variables'
;
CREATE TABLE mdl_config_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    oldvalue LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_conflog_tim2_ix (timemodified)
, KEY mdl_conflog_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Changes done in server configuration through admin UI'
;
CREATE TABLE mdl_upgrade_log (
    id BIGINT(10) NOT NULL auto_increment,
    type BIGINT(10) NOT NULL,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    version VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    targetversion VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    info VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    details LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    backtrace LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_upgrlog_tim2_ix (timemodified)
, KEY mdl_upgrlog_typtim2_ix (type, timemodified)
, KEY mdl_upgrlog_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Upgrade logging'
;
CREATE TABLE mdl_course (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    fullname VARCHAR(254) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    summary LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    format VARCHAR(21) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'topics',
    showgrades TINYINT(2) NOT NULL DEFAULT 1,
    newsitems MEDIUMINT(5) NOT NULL DEFAULT 1,
    startdate BIGINT(10) NOT NULL DEFAULT 0,
    enddate BIGINT(10) NOT NULL DEFAULT 0,
    relativedatesmode TINYINT(1) NOT NULL DEFAULT 0,
    marker BIGINT(10) NOT NULL DEFAULT 0,
    maxbytes BIGINT(10) NOT NULL DEFAULT 0,
    legacyfiles SMALLINT(4) NOT NULL DEFAULT 0,
    showreports SMALLINT(4) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    downloadcontent TINYINT(1),
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupmodeforce SMALLINT(4) NOT NULL DEFAULT 0,
    defaultgroupingid BIGINT(10) NOT NULL DEFAULT 0,
    lang VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    calendartype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    requested TINYINT(1) NOT NULL DEFAULT 0,
    enablecompletion TINYINT(1) NOT NULL DEFAULT 0,
    completionnotify TINYINT(1) NOT NULL DEFAULT 0,
    cacherev BIGINT(10) NOT NULL DEFAULT 0,
    originalcourseid BIGINT(10),
    showactivitydates TINYINT(1) NOT NULL DEFAULT 0,
    showcompletionconditions TINYINT(1),
    pdfexportfont VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cour_cat_ix (category)
, KEY mdl_cour_idn_ix (idnumber)
, KEY mdl_cour_sho_ix (shortname)
, KEY mdl_cour_sor_ix (sortorder)
, KEY mdl_cour_ori_ix (originalcourseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Central course table'
;
CREATE TABLE mdl_course_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    coursecount BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcate_par2_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Course categories'
;
CREATE TABLE mdl_course_completion_aggr_methd (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 0,
    value NUMERIC(10,5),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompaggrmeth_cou2_ix (course)
, KEY mdl_courcompaggrmeth_cri2_ix (criteriatype)
, UNIQUE KEY mdl_courcompaggrmeth_couc2_uix (course, criteriatype)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Course completion aggregation methods for criteria'
;
CREATE TABLE mdl_course_completion_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    moduleinstance BIGINT(10),
    courseinstance BIGINT(10),
    enrolperiod BIGINT(10),
    timeend BIGINT(10),
    gradepass NUMERIC(10,5),
    role BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcrit_cou2_ix (course)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Course completion criteria'
;
CREATE TABLE mdl_course_completion_crit_compl (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriaid BIGINT(10) NOT NULL DEFAULT 0,
    gradefinal NUMERIC(10,5),
    unenroled BIGINT(10),
    timecompleted BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcritcomp_use2_ix (userid)
, KEY mdl_courcompcritcomp_cou2_ix (course)
, KEY mdl_courcompcritcomp_cri2_ix (criteriaid)
, KEY mdl_courcompcritcomp_tim2_ix (timecompleted)
, UNIQUE KEY mdl_courcompcritcomp_usec2_uix (userid, course, criteriaid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Course completion user records'
;
CREATE TABLE mdl_course_completions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    timeenrolled BIGINT(10) NOT NULL DEFAULT 0,
    timestarted BIGINT(10) NOT NULL DEFAULT 0,
    timecompleted BIGINT(10),
    reaggregate BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcomp_use2_ix (userid)
, KEY mdl_courcomp_cou2_ix (course)
, KEY mdl_courcomp_tim2_ix (timecompleted)
, UNIQUE KEY mdl_courcomp_usecou2_uix (userid, course)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Course completion records'
;
CREATE TABLE mdl_communication (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    instanceid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    instancetype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    provider VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    roomname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    avatarfilename VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    active TINYINT(1) NOT NULL DEFAULT 1,
    avatarsynced TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comm_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Communication records'
;
CREATE TABLE mdl_communication_user (
    id BIGINT(10) NOT NULL auto_increment,
    commid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    synced TINYINT(1) NOT NULL DEFAULT 0,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_commuser_com_ix (commid)
, KEY mdl_commuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Communication user records mapping'
;
CREATE TABLE mdl_enrol (
    id BIGINT(10) NOT NULL auto_increment,
    enrol VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    status BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    enrolperiod BIGINT(10) DEFAULT 0,
    enrolstartdate BIGINT(10) DEFAULT 0,
    enrolenddate BIGINT(10) DEFAULT 0,
    expirynotify TINYINT(1) DEFAULT 0,
    expirythreshold BIGINT(10) DEFAULT 0,
    notifyall TINYINT(1) DEFAULT 0,
    password VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
    cost VARCHAR(20) COLLATE utf8mb4_0900_ai_ci,
    currency VARCHAR(3) COLLATE utf8mb4_0900_ai_ci,
    roleid BIGINT(10) DEFAULT 0,
    customint1 BIGINT(10),
    customint2 BIGINT(10),
    customint3 BIGINT(10),
    customint4 BIGINT(10),
    customint5 BIGINT(10),
    customint6 BIGINT(10),
    customint7 BIGINT(10),
    customint8 BIGINT(10),
    customchar1 VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    customchar2 VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    customchar3 VARCHAR(1333) COLLATE utf8mb4_0900_ai_ci,
    customdec1 NUMERIC(12,7),
    customdec2 NUMERIC(12,7),
    customtext1 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    customtext2 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    customtext3 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    customtext4 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_enro_enr2_ix (enrol)
, KEY mdl_enro_cou2_ix (courseid)
, KEY mdl_enro_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Instances of enrolment plugins used in courses, fields marke'
;
CREATE TABLE mdl_user_enrolments (
    id BIGINT(10) NOT NULL auto_increment,
    status BIGINT(10) NOT NULL DEFAULT 0,
    enrolid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 2147483647,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userenro_enruse2_uix (enrolid, userid)
, KEY mdl_userenro_enr2_ix (enrolid)
, KEY mdl_userenro_use2_ix (userid)
, KEY mdl_userenro_mod2_ix (modifierid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Users participating in courses (aka enrolled users) - everyb'
;
CREATE TABLE mdl_course_modules (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    module BIGINT(10) NOT NULL DEFAULT 0,
    instance BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    added BIGINT(10) NOT NULL DEFAULT 0,
    score SMALLINT(4) NOT NULL DEFAULT 0,
    indent MEDIUMINT(5) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleoncoursepage TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    completion TINYINT(1) NOT NULL DEFAULT 0,
    completiongradeitemnumber BIGINT(10),
    completionview TINYINT(1) NOT NULL DEFAULT 0,
    completionexpected BIGINT(10) NOT NULL DEFAULT 0,
    completionpassgrade TINYINT(1) NOT NULL DEFAULT 0,
    showdescription TINYINT(1) NOT NULL DEFAULT 0,
    availability LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    deletioninprogress TINYINT(1) NOT NULL DEFAULT 0,
    downloadcontent TINYINT(1) DEFAULT 1,
    lang VARCHAR(30) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmodu_vis2_ix (visible)
, KEY mdl_courmodu_cou2_ix (course)
, KEY mdl_courmodu_mod2_ix (module)
, KEY mdl_courmodu_ins2_ix (instance)
, KEY mdl_courmodu_idncou2_ix (idnumber, course)
, KEY mdl_courmodu_gro2_ix (groupingid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='course_modules table retrofitted from MySQL'
;
CREATE TABLE mdl_course_modules_completion (
    id BIGINT(10) NOT NULL auto_increment,
    coursemoduleid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    completionstate TINYINT(1) NOT NULL,
    overrideby BIGINT(10),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmoducomp_cou2_ix (coursemoduleid)
, UNIQUE KEY mdl_courmoducomp_usecou2_uix (userid, coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores the completion state (completed or not completed, etc'
;
CREATE TABLE mdl_course_sections (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    summary LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    sequence LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    availability LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    itemid BIGINT(10),
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_coursect_cousec2_uix (course, section)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='to define the sections for each course'
;
CREATE TABLE mdl_course_request (
    id BIGINT(10) NOT NULL auto_increment,
    fullname VARCHAR(254) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    summary LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    category BIGINT(10) NOT NULL DEFAULT 0,
    reason LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    requester BIGINT(10) NOT NULL DEFAULT 0,
    password VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courrequ_sho2_ix (shortname)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='course requests'
;
CREATE TABLE mdl_course_format_options (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    format VARCHAR(21) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sectionid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_courformopti_couforse2_uix (courseid, format, sectionid, name)
, KEY mdl_courformopti_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores format-specific options for the course or course sect'
;
CREATE TABLE mdl_filter_active (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    active SMALLINT(4) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtacti_confil2_uix (contextid, filter)
, KEY mdl_filtacti_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores information about which filters are active in which c'
;
CREATE TABLE mdl_filter_config (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtconf_confilnam_uix (contextid, filter, name)
, KEY mdl_filtconf_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores per-context configuration settings for filters which '
;
CREATE TABLE mdl_event (
    id BIGINT(10) NOT NULL auto_increment,
    name LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    format SMALLINT(4) NOT NULL DEFAULT 0,
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    repeatid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    modulename VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    instance BIGINT(10) NOT NULL DEFAULT 0,
    type SMALLINT(4) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeduration BIGINT(10) NOT NULL DEFAULT 0,
    timesort BIGINT(10),
    visible SMALLINT(4) NOT NULL DEFAULT 1,
    uuid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sequence BIGINT(10) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    subscriptionid BIGINT(10),
    priority BIGINT(10),
    location LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_even_cou_ix (courseid)
, KEY mdl_even_use_ix (userid)
, KEY mdl_even_tim_ix (timestart)
, KEY mdl_even_tim2_ix (timeduration)
, KEY mdl_even_uui_ix (uuid)
, KEY mdl_even_typtim_ix (type, timesort)
, KEY mdl_even_grocoucatvisuse_ix (groupid, courseid, categoryid, visible, userid)
, KEY mdl_even_eve_ix (eventtype)
, KEY mdl_even_comeveins_ix (component, eventtype, instance)
, KEY mdl_even_modinseve_ix (modulename, instance, eventtype)
, KEY mdl_even_cat_ix (categoryid)
, KEY mdl_even_sub_ix (subscriptionid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='For everything with a time associated to it'
;
CREATE TABLE mdl_cache_filters (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    version BIGINT(10) NOT NULL DEFAULT 0,
    md5key VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    rawtext LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachfilt_filmd52_ix (filter, md5key)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='For keeping information about cached data'
;
CREATE TABLE mdl_log (
    id BIGINT(10) NOT NULL auto_increment,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    url VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    info VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_log_coumodact2_ix (course, module, action)
, KEY mdl_log_tim2_ix (time)
, KEY mdl_log_act2_ix (action)
, KEY mdl_log_usecou2_ix (userid, course)
, KEY mdl_log_cmi2_ix (cmid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Every action is logged as far as possible'
;
CREATE TABLE mdl_log_queries (
    id BIGINT(10) NOT NULL auto_increment,
    qtype MEDIUMINT(5) NOT NULL,
    sqltext LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    sqlparams LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    error MEDIUMINT(5) NOT NULL DEFAULT 0,
    info LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    backtrace LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    exectime NUMERIC(10,5) NOT NULL,
    timelogged BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Logged database queries.'
;
CREATE TABLE mdl_log_display (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    action VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    mtable VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    field VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_logdisp_modact2_uix (module, action)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='For a particular module/action, specifies a moodle table/fie'
;
CREATE TABLE mdl_message (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    smallmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    contexturlname LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeuserfromdeleted BIGINT(10) NOT NULL DEFAULT 0,
    timeusertodeleted BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    eventtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    customdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mess_useusetimtim2_ix (useridfrom, useridto, timeuserfromdeleted, timeusertodeleted)
, KEY mdl_mess_usetimnot3_ix (useridfrom, timeuserfromdeleted, notification)
, KEY mdl_mess_usetimnot4_ix (useridto, timeusertodeleted, notification)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all unread messages'
;
CREATE TABLE mdl_message_read (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    smallmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    contexturlname LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeread BIGINT(10) NOT NULL DEFAULT 0,
    timeuserfromdeleted BIGINT(10) NOT NULL DEFAULT 0,
    timeusertodeleted BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    eventtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messread_useusetimtim2_ix (useridfrom, useridto, timeuserfromdeleted, timeusertodeleted)
, KEY mdl_messread_nottim2_ix (notification, timeread)
, KEY mdl_messread_usetimnot3_ix (useridfrom, timeuserfromdeleted, notification)
, KEY mdl_messread_usetimnot4_ix (useridto, timeusertodeleted, notification)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all messages that have been read'
;
CREATE TABLE mdl_messages (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL,
    conversationid BIGINT(10) NOT NULL,
    subject LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessageformat TINYINT(1) NOT NULL DEFAULT 0,
    fullmessagehtml LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    smallmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    fullmessagetrust TINYINT(2) NOT NULL DEFAULT 0,
    customdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mess_contim2_ix (conversationid, timecreated)
, KEY mdl_mess_use2_ix (useridfrom)
, KEY mdl_mess_con2_ix (conversationid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all messages'
;
CREATE TABLE mdl_message_conversations (
    id BIGINT(10) NOT NULL auto_increment,
    type BIGINT(10) NOT NULL DEFAULT 1,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    convhash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    itemtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    itemid BIGINT(10),
    contextid BIGINT(10),
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messconv_typ2_ix (type)
, KEY mdl_messconv_con3_ix (convhash)
, KEY mdl_messconv_comiteitecon2_ix (component, itemtype, itemid, contextid)
, KEY mdl_messconv_con4_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all message conversations'
;
CREATE TABLE mdl_message_conversation_members (
    id BIGINT(10) NOT NULL auto_increment,
    conversationid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messconvmemb_con2_ix (conversationid)
, KEY mdl_messconvmemb_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all members in a conversations'
;
CREATE TABLE mdl_message_conversation_actions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    conversationid BIGINT(10) NOT NULL,
    action BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messconvacti_use2_ix (userid)
, KEY mdl_messconvacti_con2_ix (conversationid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all per-user actions on individual conversations'
;
CREATE TABLE mdl_message_user_actions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    messageid BIGINT(10) NOT NULL,
    action BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messuseracti_usemesac2_uix (userid, messageid, action)
, KEY mdl_messuseracti_use2_ix (userid)
, KEY mdl_messuseracti_mes2_ix (messageid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all per-user actions on individual messages'
;
CREATE TABLE mdl_notifications (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL,
    useridto BIGINT(10) NOT NULL,
    subject LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessageformat TINYINT(1) NOT NULL DEFAULT 0,
    fullmessagehtml LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    smallmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    eventtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    contexturl LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    contexturlname LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timeread BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    customdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_noti_use3_ix (useridfrom)
, KEY mdl_noti_tim_ix (timecreated)
, KEY mdl_noti_tim2_ix (timeread)
, KEY mdl_noti_use4_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all notifications'
;
CREATE TABLE mdl_message_contacts (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    contactid BIGINT(10) NOT NULL,
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messcont_usecon2_uix (userid, contactid)
, KEY mdl_messcont_use2_ix (userid)
, KEY mdl_messcont_con2_ix (contactid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Maintains lists of contacts between users'
;
CREATE TABLE mdl_message_contact_requests (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    requesteduserid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messcontrequ_usereq2_uix (userid, requesteduserid)
, KEY mdl_messcontrequ_use2_ix (userid)
, KEY mdl_messcontrequ_req2_ix (requesteduserid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Maintains list of contact requests between users'
;
CREATE TABLE mdl_message_users_blocked (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    blockeduserid BIGINT(10) NOT NULL,
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messuserbloc_useblo2_uix (userid, blockeduserid)
, KEY mdl_messuserbloc_use2_ix (userid)
, KEY mdl_messuserbloc_blo2_ix (blockeduserid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Maintains lists of blocked users'
;
CREATE TABLE mdl_modules (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    search VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_modu_nam2_ix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='modules available in the site'
;
CREATE TABLE mdl_my_pages (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) DEFAULT 0,
    name VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    private TINYINT(1) NOT NULL DEFAULT 1,
    sortorder MEDIUMINT(6) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mypage_usepri2_ix (userid, private)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Extra user pages for the My Moodle system'
;
CREATE TABLE mdl_sessions (
    id BIGINT(10) NOT NULL auto_increment,
    state BIGINT(10) NOT NULL DEFAULT 0,
    sid VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    sessdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    firstip VARCHAR(45) COLLATE utf8mb4_0900_ai_ci,
    lastip VARCHAR(45) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_sess_sta2_ix (state)
, UNIQUE KEY mdl_sess_sid2_uix (sid)
, KEY mdl_sess_tim3_ix (timecreated)
, KEY mdl_sess_tim4_ix (timemodified)
, KEY mdl_sess_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Database based session storage - now recommended'
;
CREATE TABLE mdl_user (
    id BIGINT(10) NOT NULL auto_increment,
    auth VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'manual',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    policyagreed TINYINT(1) NOT NULL DEFAULT 0,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    suspended TINYINT(1) NOT NULL DEFAULT 0,
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    password VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    firstname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    lastname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    email VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    emailstop TINYINT(1) NOT NULL DEFAULT 0,
    phone1 VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    phone2 VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    institution VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    department VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    address VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    city VARCHAR(120) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    country VARCHAR(2) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    lang VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'en',
    calendartype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'gregorian',
    theme VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timezone VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '99',
    firstaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastlogin BIGINT(10) NOT NULL DEFAULT 0,
    currentlogin BIGINT(10) NOT NULL DEFAULT 0,
    lastip VARCHAR(45) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    secret VARCHAR(15) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    picture BIGINT(10) NOT NULL DEFAULT 0,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 1,
    mailformat TINYINT(1) NOT NULL DEFAULT 1,
    maildigest TINYINT(1) NOT NULL DEFAULT 0,
    maildisplay TINYINT(2) NOT NULL DEFAULT 2,
    autosubscribe TINYINT(1) NOT NULL DEFAULT 1,
    trackforums TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    trustbitmask BIGINT(10) NOT NULL DEFAULT 0,
    imagealt VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    lastnamephonetic VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    firstnamephonetic VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    middlename VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    alternatename VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    moodlenetprofile VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_user_mneuse_uix (mnethostid, username)
, KEY mdl_user_del_ix (deleted)
, KEY mdl_user_con_ix (confirmed)
, KEY mdl_user_fir_ix (firstname)
, KEY mdl_user_las_ix (lastname)
, KEY mdl_user_cit_ix (city)
, KEY mdl_user_cou_ix (country)
, KEY mdl_user_las2_ix (lastaccess)
, KEY mdl_user_ema_ix (email)
, KEY mdl_user_aut_ix (auth)
, KEY mdl_user_idn_ix (idnumber)
, KEY mdl_user_fir2_ix (firstnamephonetic)
, KEY mdl_user_las3_ix (lastnamephonetic)
, KEY mdl_user_mid_ix (middlename)
, KEY mdl_user_alt_ix (alternatename)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='One record for each person'
;
CREATE TABLE mdl_user_preferences (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value VARCHAR(1333) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userpref_usenam_uix (userid, name)
, KEY mdl_userpref_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Allows modules to store arbitrary user preferences'
;
CREATE TABLE mdl_user_lastaccess (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeaccess BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userlast_usecou2_uix (userid, courseid)
, KEY mdl_userlast_use2_ix (userid)
, KEY mdl_userlast_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To keep track of course page access times, used in online pa'
;
CREATE TABLE mdl_user_password_history (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    hash VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userpasshist_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='A rotating log of hashes of previously used passwords for ea'
;
CREATE TABLE mdl_scale (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    scale LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scal_cou2_ix (courseid)
, KEY mdl_scal_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines grading scales'
;
CREATE TABLE mdl_scale_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    scale LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scalhist_act2_ix (action)
, KEY mdl_scalhist_tim2_ix (timemodified)
, KEY mdl_scalhist_old2_ix (oldid)
, KEY mdl_scalhist_cou2_ix (courseid)
, KEY mdl_scalhist_log2_ix (loggeduser)
, KEY mdl_scalhist_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='History table'
;
CREATE TABLE mdl_stats_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statdail_cou2_ix (courseid)
, KEY mdl_statdail_tim2_ix (timeend)
, KEY mdl_statdail_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='to accumulate daily stats'
;
CREATE TABLE mdl_stats_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statweek_cou2_ix (courseid)
, KEY mdl_statweek_tim2_ix (timeend)
, KEY mdl_statweek_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To accumulate weekly stats'
;
CREATE TABLE mdl_stats_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statmont_cou2_ix (courseid)
, KEY mdl_statmont_tim2_ix (timeend)
, KEY mdl_statmont_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To accumulate monthly stats'
;
CREATE TABLE mdl_stats_user_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserdail_cou2_ix (courseid)
, KEY mdl_statuserdail_use2_ix (userid)
, KEY mdl_statuserdail_rol2_ix (roleid)
, KEY mdl_statuserdail_tim2_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To accumulate daily stats per course/user'
;
CREATE TABLE mdl_stats_user_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserweek_cou2_ix (courseid)
, KEY mdl_statuserweek_use2_ix (userid)
, KEY mdl_statuserweek_rol2_ix (roleid)
, KEY mdl_statuserweek_tim2_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To accumulate weekly stats per course/user'
;
CREATE TABLE mdl_stats_user_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statusermont_cou2_ix (courseid)
, KEY mdl_statusermont_use2_ix (userid)
, KEY mdl_statusermont_rol2_ix (roleid)
, KEY mdl_statusermont_tim2_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To accumulate monthly stats per course/user'
;
CREATE TABLE mdl_post (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    moduleid BIGINT(10) NOT NULL DEFAULT 0,
    coursemoduleid BIGINT(10) NOT NULL DEFAULT 0,
    subject VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    summary LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    content LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    uniquehash VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    rating BIGINT(10) NOT NULL DEFAULT 0,
    format BIGINT(10) NOT NULL DEFAULT 0,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    attachment VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    publishstate VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'draft',
    lastmodified BIGINT(10) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_post_iduse2_uix (id, userid)
, KEY mdl_post_las2_ix (lastmodified)
, KEY mdl_post_mod2_ix (module)
, KEY mdl_post_sub2_ix (subject)
, KEY mdl_post_use2_ix (usermodified)
, KEY mdl_post_cou_ix (courseid)
, KEY mdl_post_cou2_ix (coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Generic post table to hold data blog entries etc in differen'
;
CREATE TABLE mdl_role (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    archetype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_role_sor2_uix (sortorder)
, UNIQUE KEY mdl_role_sho2_uix (shortname)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='moodle roles'
;
CREATE TABLE mdl_context (
    id BIGINT(10) NOT NULL auto_increment,
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    instanceid BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    depth TINYINT(2) NOT NULL DEFAULT 0,
    locked TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cont_conins_uix (contextlevel, instanceid)
, KEY mdl_cont_ins_ix (instanceid)
, KEY mdl_cont_pat_ix (path)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='one of these must be set'
;
CREATE TABLE mdl_context_temp (
    id BIGINT(10) NOT NULL,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    depth TINYINT(2) NOT NULL,
    locked TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Used by build_context_path() in upgrade and cron to keep con'
;
CREATE TABLE mdl_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    captype VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    riskbitmask BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_capa_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='this defines all capabilities'
;
CREATE TABLE mdl_role_allow_assign (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowassign BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloassi_rolall2_uix (roleid, allowassign)
, KEY mdl_rolealloassi_rol2_ix (roleid)
, KEY mdl_rolealloassi_all2_ix (allowassign)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='this defines what role can assign what role'
;
CREATE TABLE mdl_role_allow_override (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowoverride BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloover_rolall2_uix (roleid, allowoverride)
, KEY mdl_rolealloover_rol2_ix (roleid)
, KEY mdl_rolealloover_all2_ix (allowoverride)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='this defines what role can override what role'
;
CREATE TABLE mdl_role_allow_switch (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    allowswitch BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloswit_rolall2_uix (roleid, allowswitch)
, KEY mdl_rolealloswit_rol2_ix (roleid)
, KEY mdl_rolealloswit_all2_ix (allowswitch)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores which which other roles a user is allowed '
;
CREATE TABLE mdl_role_allow_view (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    allowview BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloview_rolall2_uix (roleid, allowview)
, KEY mdl_rolealloview_rol2_ix (roleid)
, KEY mdl_rolealloview_all2_ix (allowview)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores which which other roles a user is allowed '
;
CREATE TABLE mdl_role_assignments (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_roleassi_sor2_ix (sortorder)
, KEY mdl_roleassi_rolcon2_ix (roleid, contextid)
, KEY mdl_roleassi_useconrol2_ix (userid, contextid, roleid)
, KEY mdl_roleassi_comiteuse2_ix (component, itemid, userid)
, KEY mdl_roleassi_rol2_ix (roleid)
, KEY mdl_roleassi_con2_ix (contextid)
, KEY mdl_roleassi_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='assigning roles in different context'
;
CREATE TABLE mdl_role_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    capability VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    permission BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecapa_rolconcap_uix (roleid, contextid, capability)
, KEY mdl_rolecapa_rol_ix (roleid)
, KEY mdl_rolecapa_con_ix (contextid)
, KEY mdl_rolecapa_mod_ix (modifierid)
, KEY mdl_rolecapa_cap_ix (capability)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='permission has to be signed, overriding a capability for a p'
;
CREATE TABLE mdl_role_names (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolename_rolcon2_uix (roleid, contextid)
, KEY mdl_rolename_rol2_ix (roleid)
, KEY mdl_rolename_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='role names in native strings'
;
CREATE TABLE mdl_role_context_levels (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    contextlevel BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecontleve_conrol2_uix (contextlevel, roleid)
, KEY mdl_rolecontleve_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Lists which roles can be assigned at which context levels. T'
;
CREATE TABLE mdl_user_info_field (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'shortname',
    name LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    datatype VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    required TINYINT(2) NOT NULL DEFAULT 0,
    locked TINYINT(2) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 0,
    forceunique TINYINT(2) NOT NULL DEFAULT 0,
    signup TINYINT(2) NOT NULL DEFAULT 0,
    defaultdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    defaultdataformat TINYINT(2) NOT NULL DEFAULT 0,
    param1 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    param2 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    param3 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    param4 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    param5 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Customisable user profile fields'
;
CREATE TABLE mdl_user_info_category (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Customisable fields categories'
;
CREATE TABLE mdl_user_info_data (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    fieldid BIGINT(10) NOT NULL DEFAULT 0,
    data LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    dataformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userinfodata_usefie2_uix (userid, fieldid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Data for the customisable user fields'
;
CREATE TABLE mdl_question_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    info LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    infoformat TINYINT(2) NOT NULL DEFAULT 0,
    stamp VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 999,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quescate_con_ix (contextid)
, UNIQUE KEY mdl_quescate_consta_uix (contextid, stamp)
, UNIQUE KEY mdl_quescate_conidn_uix (contextid, idnumber)
, KEY mdl_quescate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Categories are for grouping questions'
;
CREATE TABLE mdl_question (
    id BIGINT(10) NOT NULL auto_increment,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    questiontext LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    questiontextformat TINYINT(2) NOT NULL DEFAULT 0,
    generalfeedback LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    generalfeedbackformat TINYINT(2) NOT NULL DEFAULT 0,
    defaultmark NUMERIC(12,7) NOT NULL DEFAULT 1,
    penalty NUMERIC(12,7) NOT NULL DEFAULT 0.3333333,
    qtype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    length BIGINT(10) NOT NULL DEFAULT 1,
    stamp VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    createdby BIGINT(10),
    modifiedby BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_ques_qty2_ix (qtype)
, KEY mdl_ques_par2_ix (parent)
, KEY mdl_ques_cre2_ix (createdby)
, KEY mdl_ques_mod2_ix (modifiedby)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores the definition of one version of a questio'
;
CREATE TABLE mdl_question_bank_entries (
    id BIGINT(10) NOT NULL auto_increment,
    questioncategoryid BIGINT(10) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    ownerid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesbankentr_queidn2_uix (questioncategoryid, idnumber)
, KEY mdl_quesbankentr_que2_ix (questioncategoryid)
, KEY mdl_quesbankentr_own2_ix (ownerid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Each question bank entry. This table has one row for each qu'
;
CREATE TABLE mdl_question_versions (
    id BIGINT(10) NOT NULL auto_increment,
    questionbankentryid BIGINT(10) NOT NULL DEFAULT 0,
    version BIGINT(10) NOT NULL DEFAULT 1,
    questionid BIGINT(10) NOT NULL DEFAULT 0,
    status VARCHAR(10) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'ready',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesvers_que3_ix (questionbankentryid)
, KEY mdl_quesvers_que4_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='A join table linking the different question version definiti'
;
CREATE TABLE mdl_question_references (
    id BIGINT(10) NOT NULL auto_increment,
    usingcontextid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    questionarea VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
    itemid BIGINT(10),
    questionbankentryid BIGINT(10) NOT NULL DEFAULT 0,
    version BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesrefe_usicomqueite2_uix (usingcontextid, component, questionarea, itemid)
, KEY mdl_quesrefe_usi2_ix (usingcontextid)
, KEY mdl_quesrefe_que2_ix (questionbankentryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Records where a specific question is used.'
;
CREATE TABLE mdl_question_set_references (
    id BIGINT(10) NOT NULL auto_increment,
    usingcontextid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    questionarea VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
    itemid BIGINT(10),
    questionscontextid BIGINT(10) NOT NULL DEFAULT 0,
    filtercondition LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quessetrefe_usicomque2_uix (usingcontextid, component, questionarea, itemid)
, KEY mdl_quessetrefe_usi2_ix (usingcontextid)
, KEY mdl_quessetrefe_que2_ix (questionscontextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Records where groups of questions are used.'
;
CREATE TABLE mdl_question_answers (
    id BIGINT(10) NOT NULL auto_increment,
    question BIGINT(10) NOT NULL DEFAULT 0,
    answer LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    answerformat TINYINT(2) NOT NULL DEFAULT 0,
    fraction NUMERIC(12,7) NOT NULL DEFAULT 0,
    feedback LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    feedbackformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesansw_que2_ix (question)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Answers, with a fractional grade (0-1) and feedback'
;
CREATE TABLE mdl_question_hints (
    id BIGINT(10) NOT NULL auto_increment,
    questionid BIGINT(10) NOT NULL,
    hint LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    hintformat SMALLINT(4) NOT NULL DEFAULT 0,
    shownumcorrect TINYINT(1),
    clearwrong TINYINT(1),
    options VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_queshint_que2_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores the the part of the question definition that gives di'
;
CREATE TABLE mdl_question_usages (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    preferredbehaviour VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesusag_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table\'s main purpose it to assign a unique id to each a'
;
CREATE TABLE mdl_question_attempts (
    id BIGINT(10) NOT NULL auto_increment,
    questionusageid BIGINT(10) NOT NULL,
    slot BIGINT(10) NOT NULL,
    behaviour VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10) NOT NULL DEFAULT 1,
    maxmark NUMERIC(12,7) NOT NULL,
    minfraction NUMERIC(12,7) NOT NULL,
    maxfraction NUMERIC(12,7) NOT NULL DEFAULT 1,
    flagged TINYINT(1) NOT NULL DEFAULT 0,
    questionsummary LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    rightanswer LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    responsesummary LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesatte_queslo2_uix (questionusageid, slot)
, KEY mdl_quesatte_beh2_ix (behaviour)
, KEY mdl_quesatte_que3_ix (questionid)
, KEY mdl_quesatte_que4_ix (questionusageid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Each row here corresponds to an attempt at one question, as '
;
CREATE TABLE mdl_question_attempt_steps (
    id BIGINT(10) NOT NULL auto_increment,
    questionattemptid BIGINT(10) NOT NULL,
    sequencenumber BIGINT(10) NOT NULL,
    state VARCHAR(13) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    fraction NUMERIC(12,7),
    timecreated BIGINT(10) NOT NULL,
    userid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestep_queseq2_uix (questionattemptid, sequencenumber)
, KEY mdl_quesattestep_que2_ix (questionattemptid)
, KEY mdl_quesattestep_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores one step in in a question attempt. As well as the dat'
;
CREATE TABLE mdl_question_attempt_step_data (
    id BIGINT(10) NOT NULL auto_increment,
    attemptstepid BIGINT(10) NOT NULL,
    name VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesattestepdata_att2_ix (attemptstepid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Each question_attempt_step has an associative array of the d'
;
CREATE TABLE mdl_question_statistics (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    slot BIGINT(10),
    subquestion SMALLINT(4) NOT NULL,
    variant BIGINT(10),
    s BIGINT(10) NOT NULL DEFAULT 0,
    effectiveweight NUMERIC(15,5),
    negcovar TINYINT(2) NOT NULL DEFAULT 0,
    discriminationindex NUMERIC(15,5),
    discriminativeefficiency NUMERIC(15,5),
    sd NUMERIC(15,10),
    facility NUMERIC(15,10),
    subquestions LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    maxmark NUMERIC(12,7),
    positions LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    randomguessscore NUMERIC(12,7),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesstat_que_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Statistics for individual questions used in an activity.'
;
CREATE TABLE mdl_question_response_analysis (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    whichtries VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10),
    subqid VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    aid VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    response LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    credit NUMERIC(15,5) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesrespanal_que_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Analysis of student responses given to questions.'
;
CREATE TABLE mdl_question_response_count (
    id BIGINT(10) NOT NULL auto_increment,
    analysisid BIGINT(10) NOT NULL,
    try BIGINT(10) NOT NULL,
    rcount BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesrespcoun_ana2_ix (analysisid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Count for each responses for each try at a question.'
;
CREATE TABLE mdl_mnet_application (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    display_name VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    xmlrpc_server_url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sso_land_url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sso_jump_url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Information about applications on remote hosts'
;
CREATE TABLE mdl_mnet_host (
    id BIGINT(10) NOT NULL auto_increment,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    wwwroot VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    ip_address VARCHAR(45) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(80) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    public_key LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    public_key_expires BIGINT(10) NOT NULL DEFAULT 0,
    transport TINYINT(2) NOT NULL DEFAULT 0,
    portno MEDIUMINT(5) NOT NULL DEFAULT 0,
    last_connect_time BIGINT(10) NOT NULL DEFAULT 0,
    last_log_id BIGINT(10) NOT NULL DEFAULT 0,
    force_theme TINYINT(1) NOT NULL DEFAULT 0,
    theme VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    applicationid BIGINT(10) NOT NULL DEFAULT 1,
    sslverification TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnethost_las_ix (last_log_id)
, KEY mdl_mnethost_app2_ix (applicationid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Information about the local and remote hosts for RPC'
;
CREATE TABLE mdl_mnet_host2service (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    publish TINYINT(1) NOT NULL DEFAULT 0,
    subscribe TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnethost_hosser2_uix (hostid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Information about the services for a given host'
;
CREATE TABLE mdl_mnet_log (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    remoteid BIGINT(10) NOT NULL DEFAULT 0,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    coursename VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    module VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    url VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    info VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetlog_hosusecou2_ix (hostid, userid, course)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    help LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    profile LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    filename VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(150) COLLATE utf8mb4_0900_ai_ci,
    static TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetrpc_enaxml2_ix (enabled, xmlrpcpath)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Functions or methods that we may publish or subscribe to'
;
CREATE TABLE mdl_mnet_remote_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table describes functions that might be called remotely'
;
CREATE TABLE mdl_mnet_service (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    apiversion VARCHAR(10) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    offer TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='A service is a group of functions'
;
CREATE TABLE mdl_mnet_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetserv_rpcser2_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_remote_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetremoserv_rpcser2_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_session (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    token VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    useragent VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    confirm_timeout BIGINT(10) NOT NULL DEFAULT 0,
    session_id VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    expires BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetsess_tok2_uix (token)
, KEY mdl_mnetsess_use_ix (userid)
, KEY mdl_mnetsess_mne_ix (mnethostid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_sso_access_control (
    id BIGINT(10) NOT NULL auto_increment,
    username VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    mnet_host_id BIGINT(10) NOT NULL DEFAULT 0,
    accessctrl VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'allow',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetssoaccecont_mneus2_uix (mnet_host_id, username)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Users by host permitted (or not) to login from a remote prov'
;
CREATE TABLE mdl_events_queue (
    id BIGINT(10) NOT NULL auto_increment,
    eventdata LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    stackdump LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    userid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueu_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table is for storing queued events. It stores only one '
;
CREATE TABLE mdl_events_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    eventname VARCHAR(166) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    component VARCHAR(166) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    handlerfile VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    handlerfunction LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    schedule VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    internal TINYINT(2) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_evenhand_evecom2_uix (eventname, component)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table is for storing which components requests what typ'
;
CREATE TABLE mdl_events_queue_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    queuedeventid BIGINT(10) NOT NULL,
    handlerid BIGINT(10) NOT NULL,
    status BIGINT(10),
    errormessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueuhand_que2_ix (queuedeventid)
, KEY mdl_evenqueuhand_han2_ix (handlerid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This is the list of queued handlers for processing. The even'
;
CREATE TABLE mdl_grade_outcomes (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    fullname LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutc_cou_ix (courseid)
, KEY mdl_gradoutc_sca_ix (scaleid)
, KEY mdl_gradoutc_use_ix (usermodified)
, UNIQUE KEY mdl_gradoutc_cousho_uix (courseid, shortname)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table describes the outcomes used in the system. An out'
;
CREATE TABLE mdl_grade_outcomes_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    outcomeid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutccour_cou2_ix (courseid)
, KEY mdl_gradoutccour_out2_ix (outcomeid)
, UNIQUE KEY mdl_gradoutccour_couout2_uix (courseid, outcomeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='stores what outcomes are used in what courses.'
;
CREATE TABLE mdl_grade_categories (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    fullname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcate_cou2_ix (courseid)
, KEY mdl_gradcate_par2_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table keeps information about categories, used for grou'
;
CREATE TABLE mdl_grade_items (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    itemtype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) COLLATE utf8mb4_0900_ai_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    idnumber VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    calculation LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef2 NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    weightoverride TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditem_locloc_ix (locked, locktime)
, KEY mdl_graditem_itenee_ix (itemtype, needsupdate)
, KEY mdl_graditem_gra_ix (gradetype)
, KEY mdl_graditem_idncou_ix (idnumber, courseid)
, KEY mdl_graditem_iteiteitecou_ix (itemtype, itemmodule, iteminstance, courseid)
, KEY mdl_graditem_cou_ix (courseid)
, KEY mdl_graditem_cat_ix (categoryid)
, KEY mdl_graditem_sca_ix (scaleid)
, KEY mdl_graditem_out_ix (outcomeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table keeps information about gradeable items (ie colum'
;
CREATE TABLE mdl_grade_grades (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    aggregationstatus VARCHAR(10) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'unknown',
    aggregationweight NUMERIC(10,5),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgrad_locloc2_ix (locked, locktime)
, KEY mdl_gradgrad_ite2_ix (itemid)
, KEY mdl_gradgrad_use3_ix (userid)
, KEY mdl_gradgrad_raw2_ix (rawscaleid)
, KEY mdl_gradgrad_use4_ix (usermodified)
, UNIQUE KEY mdl_gradgrad_useite2_uix (userid, itemid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='grade_grades  This table keeps individual grades for each us'
;
CREATE TABLE mdl_grade_outcomes_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    fullname LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutchist_act2_ix (action)
, KEY mdl_gradoutchist_tim2_ix (timemodified)
, KEY mdl_gradoutchist_old2_ix (oldid)
, KEY mdl_gradoutchist_cou2_ix (courseid)
, KEY mdl_gradoutchist_sca2_ix (scaleid)
, KEY mdl_gradoutchist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='History table'
;
CREATE TABLE mdl_grade_categories_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    fullname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcatehist_act2_ix (action)
, KEY mdl_gradcatehist_tim2_ix (timemodified)
, KEY mdl_gradcatehist_old2_ix (oldid)
, KEY mdl_gradcatehist_cou2_ix (courseid)
, KEY mdl_gradcatehist_par2_ix (parent)
, KEY mdl_gradcatehist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='History of grade_categories'
;
CREATE TABLE mdl_grade_items_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    itemtype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) COLLATE utf8mb4_0900_ai_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    idnumber VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    calculation LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef2 NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
    weightoverride TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditemhist_act2_ix (action)
, KEY mdl_graditemhist_tim2_ix (timemodified)
, KEY mdl_graditemhist_old2_ix (oldid)
, KEY mdl_graditemhist_cou2_ix (courseid)
, KEY mdl_graditemhist_cat2_ix (categoryid)
, KEY mdl_graditemhist_sca2_ix (scaleid)
, KEY mdl_graditemhist_out2_ix (outcomeid)
, KEY mdl_graditemhist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='History of grade_items'
;
CREATE TABLE mdl_grade_grades_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgradhist_act2_ix (action)
, KEY mdl_gradgradhist_tim2_ix (timemodified)
, KEY mdl_gradgradhist_useitetim2_ix (userid, itemid, timemodified)
, KEY mdl_gradgradhist_old2_ix (oldid)
, KEY mdl_gradgradhist_ite2_ix (itemid)
, KEY mdl_gradgradhist_use3_ix (userid)
, KEY mdl_gradgradhist_raw2_ix (rawscaleid)
, KEY mdl_gradgradhist_use4_ix (usermodified)
, KEY mdl_gradgradhist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='History table'
;
CREATE TABLE mdl_grade_import_newitem (
    id BIGINT(10) NOT NULL auto_increment,
    itemname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimponewi_imp2_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='temporary table for storing new grade_item names from grade '
;
CREATE TABLE mdl_grade_import_values (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10),
    newgradeitem BIGINT(10),
    userid BIGINT(10) NOT NULL,
    finalgrade NUMERIC(10,5),
    feedback LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10),
    importonlyfeedback TINYINT(1) DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimpovalu_ite2_ix (itemid)
, KEY mdl_gradimpovalu_new2_ix (newgradeitem)
, KEY mdl_gradimpovalu_imp2_ix (importer)
, KEY mdl_gradimpovalu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Temporary table for importing grades'
;
CREATE TABLE mdl_tag_coll (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    isdefault TINYINT(2) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    sortorder MEDIUMINT(5) NOT NULL DEFAULT 0,
    searchable TINYINT(2) NOT NULL DEFAULT 1,
    customurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines different set of tags'
;
CREATE TABLE mdl_tag_area (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    tagcollid BIGINT(10) NOT NULL,
    callback VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    callbackfile VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    showstandard TINYINT(1) NOT NULL DEFAULT 0,
    multiplecontexts TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tagarea_comite2_uix (component, itemtype)
, KEY mdl_tagarea_tag2_ix (tagcollid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines various tag areas, one area is identified by compone'
;
CREATE TABLE mdl_tag (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    tagcollid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    rawname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    isstandard TINYINT(1) NOT NULL DEFAULT 0,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    flag SMALLINT(4) DEFAULT 0,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tag_tagnam_uix (tagcollid, name)
, KEY mdl_tag_tagiss_ix (tagcollid, isstandard)
, KEY mdl_tag_use_ix (userid)
, KEY mdl_tag_tag_ix (tagcollid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Tag table - this generic table will replace the old "tags" t'
;
CREATE TABLE mdl_tag_correlation (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    correlatedtags LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_tagcorr_tag2_ix (tagid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The rationale for the \'tag_correlation\' table is performance'
;
CREATE TABLE mdl_tag_instance (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    contextid BIGINT(10),
    tiuserid BIGINT(10) NOT NULL DEFAULT 0,
    ordering BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_taginst_comiteitecont2_uix (component, itemtype, itemid, contextid, tiuserid, tagid)
, KEY mdl_taginst_itecomtagcon2_ix (itemtype, component, tagid, contextid)
, KEY mdl_taginst_tag2_ix (tagid)
, KEY mdl_taginst_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='tag_instance table holds the information of associations bet'
;
CREATE TABLE mdl_groups (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(254) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    enrolmentkey VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
    picture BIGINT(10) NOT NULL DEFAULT 0,
    visibility TINYINT(1) NOT NULL DEFAULT 0,
    participation TINYINT(1) NOT NULL DEFAULT 1,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn2_ix (idnumber)
, KEY mdl_grou_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Each record represents a group.'
;
CREATE TABLE mdl_groupings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    configdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn3_ix (idnumber)
, KEY mdl_grou_cou3_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='A grouping is a collection of groups. WAS: groups_groupings'
;
CREATE TABLE mdl_groups_members (
    id BIGINT(10) NOT NULL auto_increment,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_groumemb_gro2_ix (groupid)
, KEY mdl_groumemb_use2_ix (userid)
, UNIQUE KEY mdl_groumemb_usegro2_uix (userid, groupid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a user to a group.'
;
CREATE TABLE mdl_groupings_groups (
    id BIGINT(10) NOT NULL auto_increment,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grougrou_gro3_ix (groupingid)
, KEY mdl_grougrou_gro4_ix (groupid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a grouping to a group (note, groups can be in multiple '
;
CREATE TABLE mdl_cohort (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(254) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    theme VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_coho_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Each record represents one cohort (aka site-wide group).'
;
CREATE TABLE mdl_cohort_members (
    id BIGINT(10) NOT NULL auto_increment,
    cohortid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cohomemb_cohuse2_uix (cohortid, userid)
, KEY mdl_cohomemb_coh2_ix (cohortid)
, KEY mdl_cohomemb_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a user to a cohort.'
;
CREATE TABLE mdl_user_private_key (
    id BIGINT(10) NOT NULL auto_increment,
    script VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10),
    iprestriction VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userprivkey_scrval2_ix (script, value)
, KEY mdl_userprivkey_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='access keys used in cookieless scripts - rss, etc.'
;
CREATE TABLE mdl_grade_letters (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    lowerboundary NUMERIC(10,5) NOT NULL,
    letter VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradlett_conlowlet_uix (contextid, lowerboundary, letter)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Repository for grade letters, for courses and other moodle e'
;
CREATE TABLE mdl_cache_flags (
    id BIGINT(10) NOT NULL auto_increment,
    flagtype VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    expiry BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachflag_fla_ix (flagtype)
, KEY mdl_cachflag_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Cache of time-sensitive flags'
;
CREATE TABLE mdl_grade_settings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradsett_counam_uix (courseid, name)
, KEY mdl_gradsett_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='gradebook settings'
;
CREATE TABLE mdl_portfolio_instance (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='base table (not including config data) for instances of port'
;
CREATE TABLE mdl_portfolio_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstconf_nam_ix (name)
, KEY mdl_portinstconf_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='config for portfolio plugin instances'
;
CREATE TABLE mdl_portfolio_instance_user (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstuser_ins2_ix (instance)
, KEY mdl_portinstuser_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='user data for portfolio instances.'
;
CREATE TABLE mdl_portfolio_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    time BIGINT(10) NOT NULL,
    portfolio BIGINT(10) NOT NULL,
    caller_class VARCHAR(150) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    caller_file VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    caller_component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    caller_sha1 VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    tempdataid BIGINT(10) NOT NULL DEFAULT 0,
    returnurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    continueurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portlog_use2_ix (userid)
, KEY mdl_portlog_por2_ix (portfolio)
, KEY mdl_portlog_tem_ix (tempdataid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='log of portfolio transfers (used to later check for duplicat'
;
CREATE TABLE mdl_portfolio_tempdata (
    id BIGINT(10) NOT NULL auto_increment,
    data LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    expirytime BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10) DEFAULT 0,
    queued TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_porttemp_use2_ix (userid)
, KEY mdl_porttemp_ins2_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='stores temporary data for portfolio exports. the id of this '
;
CREATE TABLE mdl_message_providers (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    component VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    capability VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messprov_comnam_uix (component, name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores the message providers (modules and core sy'
;
CREATE TABLE mdl_message_processors (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(166) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='List of message output plugins'
;
CREATE TABLE mdl_files (
    id BIGINT(10) NOT NULL auto_increment,
    contenthash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    pathnamehash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    filearea VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    filepath VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    filename VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10),
    filesize BIGINT(10) NOT NULL,
    mimetype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    source LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    author VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    license VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    referencefileid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_file_comfilconite_ix (component, filearea, contextid, itemid)
, KEY mdl_file_con_ix (contenthash)
, UNIQUE KEY mdl_file_pat_uix (pathnamehash)
, KEY mdl_file_lic_ix (license)
, KEY mdl_file_fil_ix (filename)
, KEY mdl_file_con2_ix (contextid)
, KEY mdl_file_use_ix (userid)
, KEY mdl_file_ref_ix (referencefileid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='description of files, content is stored in sha1 file pool'
;
CREATE TABLE mdl_files_reference (
    id BIGINT(10) NOT NULL auto_increment,
    repositoryid BIGINT(10) NOT NULL,
    lastsync BIGINT(10),
    reference LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    referencehash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filerefe_refrep2_uix (referencehash, repositoryid)
, KEY mdl_filerefe_rep2_ix (repositoryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Store files references'
;
CREATE TABLE mdl_file_conversion (
    id BIGINT(10) NOT NULL auto_increment,
    usermodified BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    sourcefileid BIGINT(10) NOT NULL,
    targetformat VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    status BIGINT(10) DEFAULT 0,
    statusmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    converter VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    destfileid BIGINT(10),
    data LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_fileconv_sou2_ix (sourcefileid)
, KEY mdl_fileconv_des2_ix (destfileid)
, KEY mdl_fileconv_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to track file conversions.'
;
CREATE TABLE mdl_repository (
    id BIGINT(10) NOT NULL auto_increment,
    type VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    visible TINYINT(1) DEFAULT 1,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instances (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    typeid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL,
    username VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    password VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    readonly TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_repoinst_use_ix (userid)
, KEY mdl_repoinst_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instanceid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The config for intances'
;
CREATE TABLE mdl_backup_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    laststarttime BIGINT(10) NOT NULL DEFAULT 0,
    lastendtime BIGINT(10) NOT NULL DEFAULT 0,
    laststatus VARCHAR(1) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '5',
    nextstarttime BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backcour_cou2_uix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To store every course backup status'
;
CREATE TABLE mdl_block (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_bloc_nam2_uix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='contains all installed blocks'
;
CREATE TABLE mdl_block_instances (
    id BIGINT(10) NOT NULL auto_increment,
    blockname VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    parentcontextid BIGINT(10) NOT NULL,
    showinsubcontexts SMALLINT(4) NOT NULL,
    requiredbytheme SMALLINT(4) NOT NULL DEFAULT 0,
    pagetypepattern VARCHAR(64) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    subpagepattern VARCHAR(16) COLLATE utf8mb4_0900_ai_ci,
    defaultregion VARCHAR(16) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    defaultweight BIGINT(10) NOT NULL,
    configdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blocinst_parshopagsub2_ix (parentcontextid, showinsubcontexts, pagetypepattern, subpagepattern)
, KEY mdl_blocinst_tim2_ix (timemodified)
, KEY mdl_blocinst_blo_ix (blockname)
, KEY mdl_blocinst_par2_ix (parentcontextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores block instances. The type of block this is'
;
CREATE TABLE mdl_block_positions (
    id BIGINT(10) NOT NULL auto_increment,
    blockinstanceid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    pagetype VARCHAR(64) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    subpage VARCHAR(16) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    visible SMALLINT(4) NOT NULL,
    region VARCHAR(16) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    weight BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_blocposi_bloconpagsub2_uix (blockinstanceid, contextid, pagetype, subpage)
, KEY mdl_blocposi_blo2_ix (blockinstanceid)
, KEY mdl_blocposi_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores the position of a sticky block_instance on a another '
;
CREATE TABLE mdl_comments (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    commentarea VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    content LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    format TINYINT(2) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comm_concomite_ix (contextid, commentarea, itemid)
, KEY mdl_comm_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='moodle comments module'
;
CREATE TABLE mdl_external_services (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
    requiredcapability VARCHAR(150) COLLATE utf8mb4_0900_ai_ci,
    restrictedusers TINYINT(1) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    downloadfiles TINYINT(1) NOT NULL DEFAULT 0,
    uploadfiles TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_exteserv_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='built in and custom external services'
;
CREATE TABLE mdl_external_functions (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    methodname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classpath VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    capabilities VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    services VARCHAR(1333) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_extefunc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='list of all external functions'
;
CREATE TABLE mdl_external_services_functions (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    functionname VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservfunc_ext2_ix (externalserviceid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='lists functions available in each service group'
;
CREATE TABLE mdl_external_services_users (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    iprestriction VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservuser_ext2_ix (externalserviceid)
, KEY mdl_exteservuser_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='users allowed to use services with restricted users flag'
;
CREATE TABLE mdl_external_tokens (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    privatetoken VARCHAR(64) COLLATE utf8mb4_0900_ai_ci,
    tokentype SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    externalserviceid BIGINT(10) NOT NULL,
    sid VARCHAR(128) COLLATE utf8mb4_0900_ai_ci,
    contextid BIGINT(10) NOT NULL,
    creatorid BIGINT(10) NOT NULL DEFAULT 1,
    iprestriction VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    lastaccess BIGINT(10),
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_extetoke_tok2_ix (token)
, KEY mdl_extetoke_sid_ix (sid)
, KEY mdl_extetoke_use2_ix (userid)
, KEY mdl_extetoke_ext2_ix (externalserviceid)
, KEY mdl_extetoke_con2_ix (contextid)
, KEY mdl_extetoke_cre2_ix (creatorid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Security tokens for accessing of external services'
;
CREATE TABLE mdl_blog_association (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    blogid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogasso_con2_ix (contextid)
, KEY mdl_blogasso_blo2_ix (blogid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Associations of blog entries with courses and module instanc'
;
CREATE TABLE mdl_blog_external (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    url LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    filtertags VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    failedlastsync TINYINT(1) NOT NULL DEFAULT 0,
    timemodified BIGINT(10),
    timefetched BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogexte_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='External blog links used for RSS copying of blog entries to '
;
CREATE TABLE mdl_rating (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    ratingarea VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    scaleid BIGINT(10) NOT NULL,
    rating BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_rati_comratconite2_ix (component, ratingarea, contextid, itemid)
, KEY mdl_rati_con2_ix (contextid)
, KEY mdl_rati_use2_ix (userid)
, KEY mdl_rati_sca_ix (scaleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='moodle ratings'
;
CREATE TABLE mdl_license (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    fullname LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    version BIGINT(10) NOT NULL DEFAULT 0,
    custom TINYINT(1) NOT NULL DEFAULT 0,
    sortorder MEDIUMINT(5) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='store licenses used by moodle'
;
CREATE TABLE mdl_registration_hubs (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    hubname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    huburl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    secret VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='hub where the site is registered on with their associated to'
;
CREATE TABLE mdl_backup_controllers (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    operation VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'backup',
    type VARCHAR(10) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    format VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    interactive SMALLINT(4) NOT NULL,
    purpose SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    status SMALLINT(4) NOT NULL,
    execution SMALLINT(4) NOT NULL,
    executiontime BIGINT(10) NOT NULL,
    checksum VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    progress NUMERIC(15,14) NOT NULL DEFAULT 0,
    controller LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_backcont_typite2_ix (type, itemid)
, KEY mdl_backcont_useite2_ix (userid, itemid)
, UNIQUE KEY mdl_backcont_bac2_uix (backupid)
, KEY mdl_backcont_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To store the backup_controllers as they are used'
;
CREATE TABLE mdl_backup_logs (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    loglevel SMALLINT(4) NOT NULL,
    message LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backlogs_bacid2_uix (backupid, id)
, KEY mdl_backlogs_bac2_ix (backupid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To store all the logs from backup and restore operations (by'
;
CREATE TABLE mdl_profiling (
    id BIGINT(10) NOT NULL auto_increment,
    runid VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    data LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    totalexecutiontime BIGINT(10) NOT NULL,
    totalcputime BIGINT(10) NOT NULL,
    totalcalls BIGINT(10) NOT NULL,
    totalmemory BIGINT(10) NOT NULL,
    runreference TINYINT(2) NOT NULL DEFAULT 0,
    runcomment VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_prof_urlrun_ix (url, runreference)
, KEY mdl_prof_timrun_ix (timecreated, runreference)
, UNIQUE KEY mdl_prof_run_uix (runid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores the results of all the profiling runs'
;
CREATE TABLE mdl_course_published (
    id BIGINT(10) NOT NULL auto_increment,
    huburl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    courseid BIGINT(10) NOT NULL,
    timepublished BIGINT(10) NOT NULL,
    enrollable TINYINT(1) NOT NULL DEFAULT 1,
    hubcourseid BIGINT(10) NOT NULL,
    status TINYINT(1) DEFAULT 0,
    timechecked BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courpubl_hub_ix (hubcourseid)
, KEY mdl_courpubl_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Information about how and when an local courses were publish'
;
CREATE TABLE mdl_grading_areas (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    areaname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    activemethod VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradarea_concomare2_uix (contextid, component, areaname)
, KEY mdl_gradarea_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Identifies gradable areas where advanced grading can happen.'
;
CREATE TABLE mdl_grading_definitions (
    id BIGINT(10) NOT NULL auto_increment,
    areaid BIGINT(10) NOT NULL,
    method VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2),
    status BIGINT(10) NOT NULL DEFAULT 0,
    copiedfromid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    usercreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    timecopied BIGINT(10) DEFAULT 0,
    options LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graddefi_are2_ix (areaid)
, KEY mdl_graddefi_use3_ix (usermodified)
, UNIQUE KEY mdl_graddefi_aremet2_uix (areaid, method)
, KEY mdl_graddefi_use4_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Contains the basic information about an advanced grading for'
;
CREATE TABLE mdl_grading_instances (
    id BIGINT(10) NOT NULL auto_increment,
    definitionid BIGINT(10) NOT NULL,
    raterid BIGINT(10) NOT NULL,
    itemid BIGINT(10),
    rawgrade NUMERIC(10,5),
    status BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    feedbackformat TINYINT(2),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradinst_def2_ix (definitionid)
, KEY mdl_gradinst_rat2_ix (raterid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Grading form instance is an assessment record for one gradab'
;
CREATE TABLE mdl_event_subscriptions (
    id BIGINT(10) NOT NULL auto_increment,
    url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    pollinterval BIGINT(10) NOT NULL DEFAULT 0,
    lastupdated BIGINT(10),
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evensubs_cou_ix (courseid)
, KEY mdl_evensubs_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Tracks subscriptions to remote calendars.'
;
CREATE TABLE mdl_badge (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuername VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    issuerurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    issuercontact VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    expiredate BIGINT(10),
    expireperiod BIGINT(10),
    type TINYINT(1) NOT NULL DEFAULT 1,
    courseid BIGINT(10),
    message LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    messagesubject LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    attachment TINYINT(1) NOT NULL DEFAULT 1,
    notification TINYINT(1) NOT NULL DEFAULT 1,
    status TINYINT(1) NOT NULL DEFAULT 0,
    nextcron BIGINT(10),
    version VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    language VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    imageauthorname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    imageauthoremail VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    imageauthorurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    imagecaption LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badg_typ_ix (type)
, KEY mdl_badg_cou_ix (courseid)
, KEY mdl_badg_use_ix (usermodified)
, KEY mdl_badg_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines badge'
;
CREATE TABLE mdl_badge_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 1,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcrit_cri2_ix (criteriatype)
, UNIQUE KEY mdl_badgcrit_badcri2_uix (badgeid, criteriatype)
, KEY mdl_badgcrit_bad2_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines criteria for issuing badges'
;
CREATE TABLE mdl_badge_criteria_param (
    id BIGINT(10) NOT NULL auto_increment,
    critid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritpara_cri2_ix (critid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines parameters for badges criteria'
;
CREATE TABLE mdl_badge_issued (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    uniquehash LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    dateissued BIGINT(10) NOT NULL DEFAULT 0,
    dateexpire BIGINT(10),
    visible TINYINT(1) NOT NULL DEFAULT 0,
    issuernotified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_badgissu_baduse2_uix (badgeid, userid)
, KEY mdl_badgissu_bad2_ix (badgeid)
, KEY mdl_badgissu_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines issued badges'
;
CREATE TABLE mdl_badge_criteria_met (
    id BIGINT(10) NOT NULL auto_increment,
    issuedid BIGINT(10),
    critid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritmet_cri2_ix (critid)
, KEY mdl_badgcritmet_use2_ix (userid)
, KEY mdl_badgcritmet_iss2_ix (issuedid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines criteria that were met for an issued badge'
;
CREATE TABLE mdl_badge_endorsement (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    issuername VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    issuerurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    issueremail VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    claimid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    claimcomment LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    dateissued BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgendo_bad2_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines endorsement for badge'
;
CREATE TABLE mdl_badge_manual_award (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL,
    recipientid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    issuerrole BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgmanuawar_bad2_ix (badgeid)
, KEY mdl_badgmanuawar_rec2_ix (recipientid)
, KEY mdl_badgmanuawar_iss3_ix (issuerid)
, KEY mdl_badgmanuawar_iss4_ix (issuerrole)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Track manual award criteria for badges'
;
CREATE TABLE mdl_badge_backpack (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    email VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    backpackuid BIGINT(10) NOT NULL,
    autosync TINYINT(1) NOT NULL DEFAULT 0,
    password VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
    externalbackpackid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgback_use2_ix (userid)
, UNIQUE KEY mdl_badgback_useext2_uix (userid, externalbackpackid)
, KEY mdl_badgback_ext2_ix (externalbackpackid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines settings for connecting external backpack'
;
CREATE TABLE mdl_badge_backpack_oauth2 (
    id BIGINT(10) NOT NULL auto_increment,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    externalbackpackid BIGINT(10) NOT NULL,
    token LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    refreshtoken LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    expires BIGINT(10),
    scope LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgbackoaut_use3_ix (usermodified)
, KEY mdl_badgbackoaut_use4_ix (userid)
, KEY mdl_badgbackoaut_iss2_ix (issuerid)
, KEY mdl_badgbackoaut_ext2_ix (externalbackpackid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Default comment for the table, please edit me'
;
CREATE TABLE mdl_badge_external (
    id BIGINT(10) NOT NULL auto_increment,
    backpackid BIGINT(10) NOT NULL,
    collectionid BIGINT(10) NOT NULL,
    entityid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    assertion LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgexte_bac2_ix (backpackid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Setting for external badges display'
;
CREATE TABLE mdl_badge_external_identifier (
    id BIGINT(10) NOT NULL auto_increment,
    sitebackpackid BIGINT(10) NOT NULL,
    internalid VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    externalid VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    type VARCHAR(16) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgexteiden_sit2_ix (sitebackpackid)
, UNIQUE KEY mdl_badgexteiden_sitintex2_uix (sitebackpackid, internalid, externalid, type)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Setting for external badges mappings'
;
CREATE TABLE mdl_badge_alignment (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    targetname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    targeturl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    targetdescription LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    targetframework VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    targetcode VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgalig_bad2_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines alignment for badges'
;
CREATE TABLE mdl_badge_related (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    relatedbadgeid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgrela_bad2_ix (badgeid)
, KEY mdl_badgrela_rel2_ix (relatedbadgeid)
, UNIQUE KEY mdl_badgrela_badrel2_uix (badgeid, relatedbadgeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines badge related for badges'
;
CREATE TABLE mdl_badge_external_backpack (
    id BIGINT(10) NOT NULL auto_increment,
    backpackapiurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    backpackweburl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    apiversion VARCHAR(12) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '1.0',
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    oauth2_issuerid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_badgexteback_bac_uix (backpackapiurl)
, UNIQUE KEY mdl_badgexteback_bac2_uix (backpackweburl)
, KEY mdl_badgexteback_oau_ix (oauth2_issuerid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines settings for site level backpacks that a user can co'
;
CREATE TABLE mdl_user_devices (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    appid VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    model VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    platform VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    version VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    pushid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    uuid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    publickey LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userdevi_uuiuse_ix (uuid, userid)
, UNIQUE KEY mdl_userdevi_pususe_uix (pushid, userid)
, KEY mdl_userdevi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores user\'s mobile devices information in order'
;
CREATE TABLE mdl_user_password_resets (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timerequested BIGINT(10) NOT NULL,
    timererequested BIGINT(10) NOT NULL DEFAULT 0,
    token VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userpassrese_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='table tracking password reset confirmation tokens'
;
CREATE TABLE mdl_lock_db (
    id BIGINT(10) NOT NULL auto_increment,
    resourcekey VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    expires BIGINT(10),
    owner VARCHAR(36) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_lockdb_res_uix (resourcekey)
, KEY mdl_lockdb_exp_ix (expires)
, KEY mdl_lockdb_own_ix (owner)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores active and inactive lock types for db locking method.'
;
CREATE TABLE mdl_task_scheduled (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    lastruntime BIGINT(10),
    nextruntime BIGINT(10),
    minute VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    hour VARCHAR(70) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    day VARCHAR(90) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    month VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    dayofweek VARCHAR(25) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    faildelay BIGINT(10),
    customised TINYINT(2) NOT NULL DEFAULT 0,
    disabled TINYINT(1) NOT NULL DEFAULT 0,
    timestarted BIGINT(10),
    hostname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    pid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tasksche_cla_uix (classname)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='List of scheduled tasks to be run by cron.'
;
CREATE TABLE mdl_task_adhoc (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    nextruntime BIGINT(10) NOT NULL,
    faildelay BIGINT(10),
    customdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    userid BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timestarted BIGINT(10),
    hostname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    pid BIGINT(10),
    attemptsavailable TINYINT(2),
    firststartingtime BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_taskadho_nex2_ix (nextruntime)
, KEY mdl_taskadho_tim_ix (timestarted)
, KEY mdl_taskadho_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='List of adhoc tasks waiting to run.'
;
CREATE TABLE mdl_task_log (
    id BIGINT(10) NOT NULL auto_increment,
    type SMALLINT(4) NOT NULL,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    timestart NUMERIC(20,10) NOT NULL,
    timeend NUMERIC(20,10) NOT NULL,
    dbreads BIGINT(10) NOT NULL,
    dbwrites BIGINT(10) NOT NULL,
    result TINYINT(2) NOT NULL,
    output LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    hostname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    pid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_tasklog_cla_ix (classname)
, KEY mdl_tasklog_tim_ix (timestart)
, KEY mdl_tasklog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The log table for all tasks'
;
CREATE TABLE mdl_messageinbound_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    defaultexpiration BIGINT(10) NOT NULL DEFAULT 86400,
    validateaddress TINYINT(1) NOT NULL DEFAULT 1,
    enabled TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messhand_cla_uix (classname)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Inbound Message Handler definitions.'
;
CREATE TABLE mdl_messageinbound_datakeys (
    id BIGINT(10) NOT NULL auto_increment,
    handler BIGINT(10) NOT NULL,
    datavalue BIGINT(10) NOT NULL,
    datakey VARCHAR(64) COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    expires BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messdata_handat2_uix (handler, datavalue)
, KEY mdl_messdata_han2_ix (handler)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Inbound Message data item secret keys.'
;
CREATE TABLE mdl_messageinbound_messagelist (
    id BIGINT(10) NOT NULL auto_increment,
    messageid LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    userid BIGINT(10) NOT NULL,
    address LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messmess_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='A list of message IDs for existing replies'
;
CREATE TABLE mdl_competency (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat SMALLINT(4) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    competencyframeworkid BIGINT(10) NOT NULL,
    parentid BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sortorder BIGINT(10) NOT NULL,
    ruletype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    ruleoutcome TINYINT(2) NOT NULL DEFAULT 0,
    ruleconfig LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    scaleid BIGINT(10),
    scaleconfiguration LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_comp_comidn2_uix (competencyframeworkid, idnumber)
, KEY mdl_comp_rul2_ix (ruleoutcome)
, KEY mdl_comp_sca_ix (scaleid)
, KEY mdl_comp_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table contains the master record of each competency in '
;
CREATE TABLE mdl_competency_coursecompsetting (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    pushratingstouserplans TINYINT(2),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compcour_cou2_uix (courseid)
, KEY mdl_compcour_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table contains the course specific settings for compete'
;
CREATE TABLE mdl_competency_framework (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    contextid BIGINT(10) NOT NULL,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat SMALLINT(4) NOT NULL DEFAULT 0,
    scaleid BIGINT(11),
    scaleconfiguration LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    visible TINYINT(2) NOT NULL DEFAULT 1,
    taxonomies VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compfram_idn2_uix (idnumber)
, KEY mdl_compfram_con_ix (contextid)
, KEY mdl_compfram_sca_ix (scaleid)
, KEY mdl_compfram_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='List of competency frameworks.'
;
CREATE TABLE mdl_competency_coursecomp (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    ruleoutcome TINYINT(2) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compcour_courul2_ix (courseid, ruleoutcome)
, UNIQUE KEY mdl_compcour_coucom2_uix (courseid, competencyid)
, KEY mdl_compcour_cou3_ix (courseid)
, KEY mdl_compcour_com2_ix (competencyid)
, KEY mdl_compcour_use2_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a competency to a course.'
;
CREATE TABLE mdl_competency_plan (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat SMALLINT(4) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    templateid BIGINT(10),
    origtemplateid BIGINT(10),
    status TINYINT(1) NOT NULL,
    duedate BIGINT(10) DEFAULT 0,
    reviewerid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compplan_usesta2_ix (userid, status)
, KEY mdl_compplan_tem2_ix (templateid)
, KEY mdl_compplan_stadue2_ix (status, duedate)
, KEY mdl_compplan_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Learning plans'
;
CREATE TABLE mdl_competency_template (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    contextid BIGINT(10) NOT NULL,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat SMALLINT(4) NOT NULL DEFAULT 0,
    visible TINYINT(2) NOT NULL DEFAULT 1,
    duedate BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comptemp_con_ix (contextid)
, KEY mdl_comptemp_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Learning plan templates.'
;
CREATE TABLE mdl_competency_templatecomp (
    id BIGINT(10) NOT NULL auto_increment,
    templateid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comptemp_tem2_ix (templateid)
, KEY mdl_comptemp_com2_ix (competencyid)
, KEY mdl_comptemp_use2_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a competency to a learning plan template.'
;
CREATE TABLE mdl_competency_templatecohort (
    id BIGINT(10) NOT NULL auto_increment,
    templateid BIGINT(10) NOT NULL,
    cohortid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comptemp_tem3_ix (templateid)
, UNIQUE KEY mdl_comptemp_temcoh2_uix (templateid, cohortid)
, KEY mdl_comptemp_use3_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Default comment for the table, please edit me'
;
CREATE TABLE mdl_competency_relatedcomp (
    id BIGINT(10) NOT NULL auto_increment,
    competencyid BIGINT(10) NOT NULL,
    relatedcompetencyid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comprela_com_ix (competencyid)
, KEY mdl_comprela_rel_ix (relatedcompetencyid)
, KEY mdl_comprela_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Related competencies'
;
CREATE TABLE mdl_competency_usercomp (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    status TINYINT(2) NOT NULL DEFAULT 0,
    reviewerid BIGINT(10),
    proficiency TINYINT(2),
    grade BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compuser_usecom2_uix (userid, competencyid)
, KEY mdl_compuser_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='User competencies'
;
CREATE TABLE mdl_competency_usercompcourse (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    courseid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    proficiency TINYINT(2),
    grade BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compuser_usecoucom2_uix (userid, courseid, competencyid)
, KEY mdl_compuser_use2_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='User competencies in a course'
;
CREATE TABLE mdl_competency_usercompplan (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    planid BIGINT(10) NOT NULL,
    proficiency TINYINT(2),
    grade BIGINT(10),
    sortorder BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compuser_usecompla2_uix (userid, competencyid, planid)
, KEY mdl_compuser_use3_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='User competencies plans'
;
CREATE TABLE mdl_competency_plancomp (
    id BIGINT(10) NOT NULL auto_increment,
    planid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    sortorder BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compplan_placom2_uix (planid, competencyid)
, KEY mdl_compplan_use2_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Plan competencies'
;
CREATE TABLE mdl_competency_evidence (
    id BIGINT(10) NOT NULL auto_increment,
    usercompetencyid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    action TINYINT(2) NOT NULL,
    actionuserid BIGINT(10),
    descidentifier VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    desccomponent VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    desca LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    grade BIGINT(10),
    note LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compevid_use2_ix (usercompetencyid)
, KEY mdl_compevid_con_ix (contextid)
, KEY mdl_compevid_act_ix (actionuserid)
, KEY mdl_compevid_use3_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The evidence linked to a user competency'
;
CREATE TABLE mdl_competency_userevidence (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    descriptionformat TINYINT(1) NOT NULL,
    url LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compuser_use4_ix (userid)
, KEY mdl_compuser_use5_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The evidence of prior learning'
;
CREATE TABLE mdl_competency_userevidencecomp (
    id BIGINT(10) NOT NULL auto_increment,
    userevidenceid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compuser_use6_ix (userevidenceid)
, UNIQUE KEY mdl_compuser_usecom3_uix (userevidenceid, competencyid)
, KEY mdl_compuser_use7_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Relationship between user evidence and competencies'
;
CREATE TABLE mdl_competency_modulecomp (
    id BIGINT(10) NOT NULL auto_increment,
    cmid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    ruleoutcome TINYINT(2) NOT NULL,
    overridegrade TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compmodu_cmirul2_ix (cmid, ruleoutcome)
, UNIQUE KEY mdl_compmodu_cmicom2_uix (cmid, competencyid)
, KEY mdl_compmodu_cmi2_ix (cmid)
, KEY mdl_compmodu_com2_ix (competencyid)
, KEY mdl_compmodu_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a competency to a module.'
;
CREATE TABLE mdl_oauth2_endpoint (
    id BIGINT(10) NOT NULL auto_increment,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    url LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    issuerid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_oautendp_iss2_ix (issuerid)
, KEY mdl_oautendp_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Describes the named endpoint for an oauth2 service.'
;
CREATE TABLE mdl_oauth2_issuer (
    id BIGINT(10) NOT NULL auto_increment,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    image LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    baseurl LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    clientid LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    clientsecret LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    loginscopes LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    loginscopesoffline LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    loginparams LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    loginparamsoffline LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    alloweddomains LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    scopessupported LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    enabled TINYINT(2) NOT NULL DEFAULT 1,
    showonloginpage TINYINT(2) NOT NULL DEFAULT 1,
    basicauth TINYINT(2) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL,
    requireconfirmation TINYINT(2) NOT NULL DEFAULT 1,
    servicetype VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    loginpagename VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Details for an oauth 2 connect identity issuer.'
;
CREATE TABLE mdl_oauth2_system_account (
    id BIGINT(10) NOT NULL auto_increment,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    refreshtoken LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    grantedscopes LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    email LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    username LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_oautsystacco_iss2_uix (issuerid)
, KEY mdl_oautsystacco_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stored details used to get an access token as a system user '
;
CREATE TABLE mdl_oauth2_user_field_mapping (
    id BIGINT(10) NOT NULL auto_increment,
    timemodified BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    externalfield VARCHAR(500) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    internalfield VARCHAR(64) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_oautuserfielmapp_iss2_ix (issuerid)
, UNIQUE KEY mdl_oautuserfielmapp_issi2_uix (issuerid, internalfield)
, KEY mdl_oautuserfielmapp_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Mapping of oauth user fields to moodle fields.'
;
CREATE TABLE mdl_course_completion_defaults (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL,
    module BIGINT(10) NOT NULL,
    completion TINYINT(1) NOT NULL DEFAULT 0,
    completionview TINYINT(1) NOT NULL DEFAULT 0,
    completionusegrade TINYINT(1) NOT NULL DEFAULT 0,
    completionpassgrade TINYINT(1) NOT NULL DEFAULT 0,
    completionexpected BIGINT(10) NOT NULL DEFAULT 0,
    customrules LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_courcompdefa_coumod2_uix (course, module)
, KEY mdl_courcompdefa_mod2_ix (module)
, KEY mdl_courcompdefa_cou2_ix (course)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Default settings for activities completion'
;
CREATE TABLE mdl_analytics_models (
    id BIGINT(10) NOT NULL auto_increment,
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    trained TINYINT(1) NOT NULL DEFAULT 0,
    name VARCHAR(1333) COLLATE utf8mb4_0900_ai_ci,
    target VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    indicators LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timesplitting VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    predictionsprocessor VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    version BIGINT(10) NOT NULL,
    contextids LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10),
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analmode_enatra2_ix (enabled, trained)
, KEY mdl_analmode_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Analytic models.'
;
CREATE TABLE mdl_analytics_models_log (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL,
    version BIGINT(10) NOT NULL,
    evaluationmode VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    target VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    indicators LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timesplitting VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    score NUMERIC(10,5) NOT NULL DEFAULT 0,
    info LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    dir LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analmodelog_mod2_ix (modelid)
, KEY mdl_analmodelog_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Analytic models changes during evaluation.'
;
CREATE TABLE mdl_analytics_predictions (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    sampleid BIGINT(10) NOT NULL,
    rangeindex MEDIUMINT(5) NOT NULL,
    prediction NUMERIC(10,2) NOT NULL,
    predictionscore NUMERIC(10,5) NOT NULL,
    calculations LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timestart BIGINT(10),
    timeend BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analpred_modcon2_ix (modelid, contextid)
, KEY mdl_analpred_mod2_ix (modelid)
, KEY mdl_analpred_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Predictions'
;
CREATE TABLE mdl_analytics_train_samples (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL,
    analysableid BIGINT(10) NOT NULL,
    timesplitting VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sampleids LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analtraisamp_modanatim_ix (modelid, analysableid, timesplitting)
, KEY mdl_analtraisamp_mod_ix (modelid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Samples used for training'
;
CREATE TABLE mdl_analytics_predict_samples (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL,
    analysableid BIGINT(10) NOT NULL,
    timesplitting VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    rangeindex BIGINT(10) NOT NULL,
    sampleids LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analpredsamp_modanatimr_ix (modelid, analysableid, timesplitting, rangeindex)
, KEY mdl_analpredsamp_mod_ix (modelid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Samples already used for predictions.'
;
CREATE TABLE mdl_analytics_used_files (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL DEFAULT 0,
    fileid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    time BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analusedfile_modactfil2_ix (modelid, action, fileid)
, KEY mdl_analusedfile_mod2_ix (modelid)
, KEY mdl_analusedfile_fil2_ix (fileid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Files that have already been used for training and predictio'
;
CREATE TABLE mdl_analytics_indicator_calc (
    id BIGINT(10) NOT NULL auto_increment,
    starttime BIGINT(10) NOT NULL,
    endtime BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    sampleorigin VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sampleid BIGINT(10) NOT NULL,
    indicator VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value NUMERIC(10,2),
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analindicalc_staendcon2_ix (starttime, endtime, contextid)
, KEY mdl_analindicalc_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stored indicator calculations'
;
CREATE TABLE mdl_analytics_prediction_actions (
    id BIGINT(10) NOT NULL auto_increment,
    predictionid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    actionname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analpredacti_preuseact_ix (predictionid, userid, actionname)
, KEY mdl_analpredacti_pre_ix (predictionid)
, KEY mdl_analpredacti_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Register of user actions over predictions.'
;
CREATE TABLE mdl_oauth2_access_token (
    id BIGINT(10) NOT NULL auto_increment,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    token LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    expires BIGINT(10) NOT NULL,
    scope LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_oautaccetoke_iss2_uix (issuerid)
, KEY mdl_oautaccetoke_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores access tokens for system accounts in order to be able'
;
CREATE TABLE mdl_analytics_used_analysables (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL,
    action VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    analysableid BIGINT(10) NOT NULL,
    firstanalysis BIGINT(10) NOT NULL,
    timeanalysed BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analusedanal_modact2_ix (modelid, action)
, KEY mdl_analusedanal_ana2_ix (analysableid)
, KEY mdl_analusedanal_mod2_ix (modelid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='List of analysables used by each model'
;
CREATE TABLE mdl_search_index_requests (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    searcharea VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timerequested BIGINT(10) NOT NULL,
    partialarea VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    partialtime BIGINT(10) NOT NULL,
    indexpriority BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_searinderequ_indtim2_ix (indexpriority, timerequested)
, KEY mdl_searinderequ_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Records requests for (re)indexing of specific contexts. Entr'
;
CREATE TABLE mdl_favourite (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    ordering BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_favo_comiteiteconuse2_uix (component, itemtype, itemid, contextid, userid)
, KEY mdl_favo_con2_ix (contextid)
, KEY mdl_favo_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores the relationship between an arbitrary item (itemtype,'
;
CREATE TABLE mdl_customfield_category (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(400) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat BIGINT(10),
    sortorder BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    area VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_custcate_comareitesor2_ix (component, area, itemid, sortorder)
, KEY mdl_custcate_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='core_customfield category table'
;
CREATE TABLE mdl_customfield_field (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(400) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    type VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat BIGINT(10),
    sortorder BIGINT(10),
    categoryid BIGINT(10),
    configdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_custfiel_catsor2_ix (categoryid, sortorder)
, KEY mdl_custfiel_cat2_ix (categoryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='core_customfield field table'
;
CREATE TABLE mdl_customfield_data (
    id BIGINT(10) NOT NULL auto_increment,
    fieldid BIGINT(10) NOT NULL,
    instanceid BIGINT(10) NOT NULL,
    intvalue BIGINT(10),
    decvalue NUMERIC(10,5),
    shortcharvalue VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    charvalue VARCHAR(1333) COLLATE utf8mb4_0900_ai_ci,
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    valueformat BIGINT(10) NOT NULL,
    valuetrust TINYINT(2) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    contextid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_custdata_insfie_uix (instanceid, fieldid)
, KEY mdl_custdata_fieint_ix (fieldid, intvalue)
, KEY mdl_custdata_fiesho_ix (fieldid, shortcharvalue)
, KEY mdl_custdata_fiedec_ix (fieldid, decvalue)
, KEY mdl_custdata_fie_ix (fieldid)
, KEY mdl_custdata_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='core_customfield data table'
;
CREATE TABLE mdl_h5p_libraries (
    id BIGINT(10) NOT NULL auto_increment,
    machinename VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    title VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    majorversion SMALLINT(4) NOT NULL,
    minorversion SMALLINT(4) NOT NULL,
    patchversion SMALLINT(4) NOT NULL,
    runnable TINYINT(1) NOT NULL,
    fullscreen TINYINT(1) NOT NULL DEFAULT 0,
    embedtypes VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    preloadedjs LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    preloadedcss LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    droplibrarycss LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    semantics LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    addto LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    coremajor SMALLINT(4),
    coreminor SMALLINT(4),
    metadatasettings LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    tutorial LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    example LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    enabled TINYINT(1) DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_h5plibr_macmajminpatrun_ix (machinename, majorversion, minorversion, patchversion, runnable)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores information about libraries used by H5P content.'
;
CREATE TABLE mdl_h5p_library_dependencies (
    id BIGINT(10) NOT NULL auto_increment,
    libraryid BIGINT(10) NOT NULL,
    requiredlibraryid BIGINT(10) NOT NULL,
    dependencytype VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_h5plibrdepe_lib2_ix (libraryid)
, KEY mdl_h5plibrdepe_req2_ix (requiredlibraryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores H5P library dependencies'
;
CREATE TABLE mdl_h5p (
    id BIGINT(10) NOT NULL auto_increment,
    jsoncontent LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    mainlibraryid BIGINT(10) NOT NULL,
    displayoptions SMALLINT(4),
    pathnamehash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contenthash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    filtered LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_h5p_pat2_ix (pathnamehash)
, KEY mdl_h5p_mai2_ix (mainlibraryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores H5P content information'
;
CREATE TABLE mdl_h5p_contents_libraries (
    id BIGINT(10) NOT NULL auto_increment,
    h5pid BIGINT(10) NOT NULL,
    libraryid BIGINT(10) NOT NULL,
    dependencytype VARCHAR(10) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    dropcss TINYINT(1) NOT NULL,
    weight BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_h5pcontlibr_h5p2_ix (h5pid)
, KEY mdl_h5pcontlibr_lib2_ix (libraryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Store which library is used in which content.'
;
CREATE TABLE mdl_h5p_libraries_cachedassets (
    id BIGINT(10) NOT NULL auto_increment,
    libraryid BIGINT(10) NOT NULL,
    hash VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_h5plibrcach_lib2_ix (libraryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='H5P cached library assets'
;
CREATE TABLE mdl_contentbank_content (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contenttype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    visibility TINYINT(1) NOT NULL DEFAULT 1,
    instanceid BIGINT(10),
    configdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    usercreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_contcont_nam_ix (name)
, KEY mdl_contcont_conconins_ix (contextid, contenttype, instanceid)
, KEY mdl_contcont_con_ix (contextid)
, KEY mdl_contcont_use_ix (usermodified)
, KEY mdl_contcont_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores content data in the content bank.'
;
CREATE TABLE mdl_payment_accounts (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    contextid BIGINT(10) NOT NULL,
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    archived TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_paymacco_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Payment accounts'
;
CREATE TABLE mdl_payment_gateways (
    id BIGINT(10) NOT NULL auto_increment,
    accountid BIGINT(10) NOT NULL,
    gateway VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    config LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_paymgate_acc2_ix (accountid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Configuration for one gateway for one payment account'
;
CREATE TABLE mdl_payments (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    paymentarea VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    amount VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    currency VARCHAR(3) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    accountid BIGINT(10) NOT NULL,
    gateway VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_paym_gat2_ix (gateway)
, KEY mdl_paym_compayite2_ix (component, paymentarea, itemid)
, KEY mdl_paym_use2_ix (userid)
, KEY mdl_paym_acc2_ix (accountid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores information about payments'
;
CREATE TABLE mdl_infected_files (
    id BIGINT(10) NOT NULL auto_increment,
    filename LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    quarantinedfile LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    userid BIGINT(10) NOT NULL,
    reason LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_infefile_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to store infected file details.'
;
CREATE TABLE mdl_oauth2_refresh_token (
    id BIGINT(10) NOT NULL auto_increment,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    token LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    scopehash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_oautrefrtoke_useisssc2_uix (userid, issuerid, scopehash)
, KEY mdl_oautrefrtoke_iss2_ix (issuerid)
, KEY mdl_oautrefrtoke_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores refresh tokens which can be exchanged for access toke'
;
CREATE TABLE mdl_reportbuilder_report (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    type TINYINT(2) NOT NULL DEFAULT 0,
    uniquerows TINYINT(1) NOT NULL DEFAULT 0,
    conditiondata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    settingsdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    area VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_reporepo_use3_ix (usercreated)
, KEY mdl_reporepo_use4_ix (usermodified)
, KEY mdl_reporepo_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to represent a report'
;
CREATE TABLE mdl_reportbuilder_column (
    id BIGINT(10) NOT NULL auto_increment,
    reportid BIGINT(10) NOT NULL DEFAULT 0,
    uniqueidentifier VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    aggregation VARCHAR(32) COLLATE utf8mb4_0900_ai_ci,
    heading VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    columnorder BIGINT(10) NOT NULL,
    sortenabled TINYINT(1) NOT NULL DEFAULT 0,
    sortdirection TINYINT(1) NOT NULL,
    sortorder BIGINT(10),
    usercreated BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_repocolu_rep2_ix (reportid)
, KEY mdl_repocolu_use3_ix (usercreated)
, KEY mdl_repocolu_use4_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to represent a report column'
;
CREATE TABLE mdl_reportbuilder_filter (
    id BIGINT(10) NOT NULL auto_increment,
    reportid BIGINT(10) NOT NULL DEFAULT 0,
    uniqueidentifier VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    heading VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    iscondition TINYINT(1) NOT NULL DEFAULT 0,
    filterorder BIGINT(10) NOT NULL,
    usercreated BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_repofilt_repuniisc_uix (reportid, uniqueidentifier, iscondition)
, KEY mdl_repofilt_rep2_ix (reportid)
, KEY mdl_repofilt_use3_ix (usercreated)
, KEY mdl_repofilt_use4_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to represent a report filter/condition'
;
CREATE TABLE mdl_reportbuilder_audience (
    id BIGINT(10) NOT NULL auto_increment,
    reportid BIGINT(10) NOT NULL,
    heading VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    classname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    configdata LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    usercreated BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_repoaudi_rep2_ix (reportid)
, KEY mdl_repoaudi_use3_ix (usercreated)
, KEY mdl_repoaudi_use4_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines report audience'
;
CREATE TABLE mdl_reportbuilder_schedule (
    id BIGINT(10) NOT NULL auto_increment,
    reportid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    audiences LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    format VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    subject VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    message LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    messageformat BIGINT(10) NOT NULL,
    userviewas BIGINT(10) NOT NULL DEFAULT 0,
    timescheduled BIGINT(10) NOT NULL DEFAULT 0,
    recurrence BIGINT(10) NOT NULL DEFAULT 0,
    reportempty BIGINT(10) NOT NULL DEFAULT 0,
    timelastsent BIGINT(10) NOT NULL DEFAULT 0,
    timenextsend BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_reposche_rep2_ix (reportid)
, KEY mdl_reposche_use4_ix (userviewas)
, KEY mdl_reposche_use5_ix (usercreated)
, KEY mdl_reposche_use6_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to represent a report schedule'
;
CREATE TABLE mdl_adminpresets (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    comments LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    site VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    author VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    moodleversion VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    moodlerelease VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    iscore TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeimported BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to store presets data'
;
CREATE TABLE mdl_adminpresets_it (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetid BIGINT(10) NOT NULL,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiit_adm2_ix (adminpresetid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to store settings'
;
CREATE TABLE mdl_adminpresets_it_a (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10) NOT NULL,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiita_ite2_ix (itemid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Admin presets items attributes. For settings with attributes'
;
CREATE TABLE mdl_adminpresets_app (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    time BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiapp_adm2_ix (adminpresetid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Applied presets'
;
CREATE TABLE mdl_adminpresets_app_it (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetapplyid BIGINT(10) NOT NULL,
    configlogid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiappit_con2_ix (configlogid)
, KEY mdl_admiappit_adm2_ix (adminpresetapplyid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Admin presets applied items. To maintain the relation with c'
;
CREATE TABLE mdl_adminpresets_app_it_a (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetapplyid BIGINT(10) NOT NULL,
    configlogid BIGINT(10) NOT NULL,
    itemname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiappita_con2_ix (configlogid)
, KEY mdl_admiappita_adm2_ix (adminpresetapplyid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Attributes of the applied items'
;
CREATE TABLE mdl_adminpresets_plug (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetid BIGINT(10) NOT NULL,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled SMALLINT(4) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiplug_adm2_ix (adminpresetid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Admin presets plugins status, to store information about whe'
;
CREATE TABLE mdl_adminpresets_app_plug (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetapplyid BIGINT(10) NOT NULL,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value SMALLINT(4) NOT NULL DEFAULT 0,
    oldvalue SMALLINT(4) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiappplug_adm2_ix (adminpresetapplyid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Admin presets plugins applied'
;
CREATE TABLE mdl_course_modules_viewed (
    id BIGINT(10) NOT NULL auto_increment,
    coursemoduleid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmoduview_cou_ix (coursemoduleid)
, UNIQUE KEY mdl_courmoduview_usecou_uix (userid, coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Tracks the completion viewed (viewed with cmid/userid and ot'
;
CREATE TABLE mdl_xapi_states (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10),
    itemid BIGINT(10) NOT NULL,
    stateid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    statedata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    registration VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_xapistat_comite_ix (component, itemid)
, KEY mdl_xapistat_use_ix (userid)
, KEY mdl_xapistat_tim_ix (timemodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The stored xAPI states'
;
CREATE TABLE mdl_moodlenet_share_progress (
    id BIGINT(10) NOT NULL auto_increment,
    type TINYINT(2) NOT NULL,
    courseid BIGINT(10) NOT NULL,
    cmid BIGINT(10),
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    resourceurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    status TINYINT(2),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Records MoodleNet share progress'
Error code: ddlexecuteerror
* line 500 of /lib/dml/moodle_database.php: ddl_change_structure_exception thrown
* line 293 of /lib/dml/moodle_read_slave_trait.php: call to moodle_database->query_end()
* line 1223 of /lib/dml/mysqli_native_moodle_database.php: call to mysqli_native_moodle_database->query_end()
* line 77 of /lib/ddl/database_manager.php: call to mysqli_native_moodle_database->change_database_structure()
* line 427 of /lib/ddl/database_manager.php: call to database_manager->execute_sql_arr()
* line 372 of /lib/ddl/database_manager.php: call to database_manager->install_from_xmldb_structure()
* line 1796 of /lib/upgradelib.php: call to database_manager->install_from_xmldb_file()
* line 284 of /admin/index.php: call to install_core()

[04-Aug-2024 18:01:53 UTC] Default exception handler: DDL sql execution error Debug: Table 'mdl_upgrade_log' already exists
CREATE TABLE mdl_config (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_conf_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Moodle configuration variables'
;
CREATE TABLE mdl_config_plugins (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'core',
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_confplug_plunam_uix (plugin, name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Moodle modules and plugins configuration variables'
;
CREATE TABLE mdl_config_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    oldvalue LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_conflog_tim_ix (timemodified)
, KEY mdl_conflog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Changes done in server configuration through admin UI'
;
CREATE TABLE mdl_upgrade_log (
    id BIGINT(10) NOT NULL auto_increment,
    type BIGINT(10) NOT NULL,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    version VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    targetversion VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    info VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    details LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    backtrace LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_upgrlog_tim2_ix (timemodified)
, KEY mdl_upgrlog_typtim2_ix (type, timemodified)
, KEY mdl_upgrlog_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Upgrade logging'
;
CREATE TABLE mdl_course (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    fullname VARCHAR(254) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    summary LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    format VARCHAR(21) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'topics',
    showgrades TINYINT(2) NOT NULL DEFAULT 1,
    newsitems MEDIUMINT(5) NOT NULL DEFAULT 1,
    startdate BIGINT(10) NOT NULL DEFAULT 0,
    enddate BIGINT(10) NOT NULL DEFAULT 0,
    relativedatesmode TINYINT(1) NOT NULL DEFAULT 0,
    marker BIGINT(10) NOT NULL DEFAULT 0,
    maxbytes BIGINT(10) NOT NULL DEFAULT 0,
    legacyfiles SMALLINT(4) NOT NULL DEFAULT 0,
    showreports SMALLINT(4) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    downloadcontent TINYINT(1),
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupmodeforce SMALLINT(4) NOT NULL DEFAULT 0,
    defaultgroupingid BIGINT(10) NOT NULL DEFAULT 0,
    lang VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    calendartype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    requested TINYINT(1) NOT NULL DEFAULT 0,
    enablecompletion TINYINT(1) NOT NULL DEFAULT 0,
    completionnotify TINYINT(1) NOT NULL DEFAULT 0,
    cacherev BIGINT(10) NOT NULL DEFAULT 0,
    originalcourseid BIGINT(10),
    showactivitydates TINYINT(1) NOT NULL DEFAULT 0,
    showcompletionconditions TINYINT(1),
    pdfexportfont VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cour_cat_ix (category)
, KEY mdl_cour_idn_ix (idnumber)
, KEY mdl_cour_sho_ix (shortname)
, KEY mdl_cour_sor_ix (sortorder)
, KEY mdl_cour_ori_ix (originalcourseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Central course table'
;
CREATE TABLE mdl_course_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    coursecount BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Course categories'
;
CREATE TABLE mdl_course_completion_aggr_methd (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 0,
    value NUMERIC(10,5),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompaggrmeth_cou_ix (course)
, KEY mdl_courcompaggrmeth_cri_ix (criteriatype)
, UNIQUE KEY mdl_courcompaggrmeth_coucr_uix (course, criteriatype)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Course completion aggregation methods for criteria'
;
CREATE TABLE mdl_course_completion_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    moduleinstance BIGINT(10),
    courseinstance BIGINT(10),
    enrolperiod BIGINT(10),
    timeend BIGINT(10),
    gradepass NUMERIC(10,5),
    role BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcrit_cou_ix (course)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Course completion criteria'
;
CREATE TABLE mdl_course_completion_crit_compl (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriaid BIGINT(10) NOT NULL DEFAULT 0,
    gradefinal NUMERIC(10,5),
    unenroled BIGINT(10),
    timecompleted BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcritcomp_use_ix (userid)
, KEY mdl_courcompcritcomp_cou_ix (course)
, KEY mdl_courcompcritcomp_cri_ix (criteriaid)
, KEY mdl_courcompcritcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcompcritcomp_useco_uix (userid, course, criteriaid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Course completion user records'
;
CREATE TABLE mdl_course_completions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    timeenrolled BIGINT(10) NOT NULL DEFAULT 0,
    timestarted BIGINT(10) NOT NULL DEFAULT 0,
    timecompleted BIGINT(10),
    reaggregate BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcomp_use_ix (userid)
, KEY mdl_courcomp_cou_ix (course)
, KEY mdl_courcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcomp_usecou_uix (userid, course)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Course completion records'
;
CREATE TABLE mdl_communication (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    instanceid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    instancetype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    provider VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    roomname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    avatarfilename VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    active TINYINT(1) NOT NULL DEFAULT 1,
    avatarsynced TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comm_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Communication records'
;
CREATE TABLE mdl_communication_user (
    id BIGINT(10) NOT NULL auto_increment,
    commid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    synced TINYINT(1) NOT NULL DEFAULT 0,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_commuser_com_ix (commid)
, KEY mdl_commuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Communication user records mapping'
;
CREATE TABLE mdl_enrol (
    id BIGINT(10) NOT NULL auto_increment,
    enrol VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    status BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    enrolperiod BIGINT(10) DEFAULT 0,
    enrolstartdate BIGINT(10) DEFAULT 0,
    enrolenddate BIGINT(10) DEFAULT 0,
    expirynotify TINYINT(1) DEFAULT 0,
    expirythreshold BIGINT(10) DEFAULT 0,
    notifyall TINYINT(1) DEFAULT 0,
    password VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
    cost VARCHAR(20) COLLATE utf8mb4_0900_ai_ci,
    currency VARCHAR(3) COLLATE utf8mb4_0900_ai_ci,
    roleid BIGINT(10) DEFAULT 0,
    customint1 BIGINT(10),
    customint2 BIGINT(10),
    customint3 BIGINT(10),
    customint4 BIGINT(10),
    customint5 BIGINT(10),
    customint6 BIGINT(10),
    customint7 BIGINT(10),
    customint8 BIGINT(10),
    customchar1 VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    customchar2 VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    customchar3 VARCHAR(1333) COLLATE utf8mb4_0900_ai_ci,
    customdec1 NUMERIC(12,7),
    customdec2 NUMERIC(12,7),
    customtext1 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    customtext2 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    customtext3 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    customtext4 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_enro_enr2_ix (enrol)
, KEY mdl_enro_cou2_ix (courseid)
, KEY mdl_enro_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Instances of enrolment plugins used in courses, fields marke'
;
CREATE TABLE mdl_user_enrolments (
    id BIGINT(10) NOT NULL auto_increment,
    status BIGINT(10) NOT NULL DEFAULT 0,
    enrolid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 2147483647,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userenro_enruse2_uix (enrolid, userid)
, KEY mdl_userenro_enr2_ix (enrolid)
, KEY mdl_userenro_use2_ix (userid)
, KEY mdl_userenro_mod2_ix (modifierid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Users participating in courses (aka enrolled users) - everyb'
;
CREATE TABLE mdl_course_modules (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    module BIGINT(10) NOT NULL DEFAULT 0,
    instance BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    added BIGINT(10) NOT NULL DEFAULT 0,
    score SMALLINT(4) NOT NULL DEFAULT 0,
    indent MEDIUMINT(5) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleoncoursepage TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    completion TINYINT(1) NOT NULL DEFAULT 0,
    completiongradeitemnumber BIGINT(10),
    completionview TINYINT(1) NOT NULL DEFAULT 0,
    completionexpected BIGINT(10) NOT NULL DEFAULT 0,
    completionpassgrade TINYINT(1) NOT NULL DEFAULT 0,
    showdescription TINYINT(1) NOT NULL DEFAULT 0,
    availability LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    deletioninprogress TINYINT(1) NOT NULL DEFAULT 0,
    downloadcontent TINYINT(1) DEFAULT 1,
    lang VARCHAR(30) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmodu_vis_ix (visible)
, KEY mdl_courmodu_cou_ix (course)
, KEY mdl_courmodu_mod_ix (module)
, KEY mdl_courmodu_ins_ix (instance)
, KEY mdl_courmodu_idncou_ix (idnumber, course)
, KEY mdl_courmodu_gro_ix (groupingid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='course_modules table retrofitted from MySQL'
;
CREATE TABLE mdl_course_modules_completion (
    id BIGINT(10) NOT NULL auto_increment,
    coursemoduleid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    completionstate TINYINT(1) NOT NULL,
    overrideby BIGINT(10),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmoducomp_cou_ix (coursemoduleid)
, UNIQUE KEY mdl_courmoducomp_usecou_uix (userid, coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores the completion state (completed or not completed, etc'
;
CREATE TABLE mdl_course_sections (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    summary LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    sequence LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    availability LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    itemid BIGINT(10),
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_coursect_cousec2_uix (course, section)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='to define the sections for each course'
;
CREATE TABLE mdl_course_request (
    id BIGINT(10) NOT NULL auto_increment,
    fullname VARCHAR(254) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    summary LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    category BIGINT(10) NOT NULL DEFAULT 0,
    reason LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    requester BIGINT(10) NOT NULL DEFAULT 0,
    password VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courrequ_sho2_ix (shortname)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='course requests'
;
CREATE TABLE mdl_course_format_options (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    format VARCHAR(21) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sectionid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_courformopti_couforsec_uix (courseid, format, sectionid, name)
, KEY mdl_courformopti_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores format-specific options for the course or course sect'
;
CREATE TABLE mdl_filter_active (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    active SMALLINT(4) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtacti_confil2_uix (contextid, filter)
, KEY mdl_filtacti_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores information about which filters are active in which c'
;
CREATE TABLE mdl_filter_config (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtconf_confilnam_uix (contextid, filter, name)
, KEY mdl_filtconf_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores per-context configuration settings for filters which '
;
CREATE TABLE mdl_event (
    id BIGINT(10) NOT NULL auto_increment,
    name LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    format SMALLINT(4) NOT NULL DEFAULT 0,
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    repeatid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    modulename VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    instance BIGINT(10) NOT NULL DEFAULT 0,
    type SMALLINT(4) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeduration BIGINT(10) NOT NULL DEFAULT 0,
    timesort BIGINT(10),
    visible SMALLINT(4) NOT NULL DEFAULT 1,
    uuid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sequence BIGINT(10) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    subscriptionid BIGINT(10),
    priority BIGINT(10),
    location LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_even_cou_ix (courseid)
, KEY mdl_even_use_ix (userid)
, KEY mdl_even_tim_ix (timestart)
, KEY mdl_even_tim2_ix (timeduration)
, KEY mdl_even_uui_ix (uuid)
, KEY mdl_even_typtim_ix (type, timesort)
, KEY mdl_even_grocoucatvisuse_ix (groupid, courseid, categoryid, visible, userid)
, KEY mdl_even_eve_ix (eventtype)
, KEY mdl_even_comeveins_ix (component, eventtype, instance)
, KEY mdl_even_modinseve_ix (modulename, instance, eventtype)
, KEY mdl_even_cat_ix (categoryid)
, KEY mdl_even_sub_ix (subscriptionid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='For everything with a time associated to it'
;
CREATE TABLE mdl_cache_filters (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    version BIGINT(10) NOT NULL DEFAULT 0,
    md5key VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    rawtext LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachfilt_filmd5_ix (filter, md5key)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='For keeping information about cached data'
;
CREATE TABLE mdl_log (
    id BIGINT(10) NOT NULL auto_increment,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    url VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    info VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_log_coumodact2_ix (course, module, action)
, KEY mdl_log_tim2_ix (time)
, KEY mdl_log_act2_ix (action)
, KEY mdl_log_usecou2_ix (userid, course)
, KEY mdl_log_cmi2_ix (cmid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Every action is logged as far as possible'
;
CREATE TABLE mdl_log_queries (
    id BIGINT(10) NOT NULL auto_increment,
    qtype MEDIUMINT(5) NOT NULL,
    sqltext LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    sqlparams LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    error MEDIUMINT(5) NOT NULL DEFAULT 0,
    info LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    backtrace LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    exectime NUMERIC(10,5) NOT NULL,
    timelogged BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Logged database queries.'
;
CREATE TABLE mdl_log_display (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    action VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    mtable VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    field VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_logdisp_modact2_uix (module, action)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='For a particular module/action, specifies a moodle table/fie'
;
CREATE TABLE mdl_message (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    smallmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    contexturlname LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeuserfromdeleted BIGINT(10) NOT NULL DEFAULT 0,
    timeusertodeleted BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    eventtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    customdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mess_useusetimtim2_ix (useridfrom, useridto, timeuserfromdeleted, timeusertodeleted)
, KEY mdl_mess_usetimnot3_ix (useridfrom, timeuserfromdeleted, notification)
, KEY mdl_mess_usetimnot4_ix (useridto, timeusertodeleted, notification)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all unread messages'
;
CREATE TABLE mdl_message_read (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    smallmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    contexturlname LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeread BIGINT(10) NOT NULL DEFAULT 0,
    timeuserfromdeleted BIGINT(10) NOT NULL DEFAULT 0,
    timeusertodeleted BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    eventtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messread_useusetimtim2_ix (useridfrom, useridto, timeuserfromdeleted, timeusertodeleted)
, KEY mdl_messread_nottim2_ix (notification, timeread)
, KEY mdl_messread_usetimnot3_ix (useridfrom, timeuserfromdeleted, notification)
, KEY mdl_messread_usetimnot4_ix (useridto, timeusertodeleted, notification)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all messages that have been read'
;
CREATE TABLE mdl_messages (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL,
    conversationid BIGINT(10) NOT NULL,
    subject LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessageformat TINYINT(1) NOT NULL DEFAULT 0,
    fullmessagehtml LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    smallmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    fullmessagetrust TINYINT(2) NOT NULL DEFAULT 0,
    customdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mess_contim2_ix (conversationid, timecreated)
, KEY mdl_mess_use2_ix (useridfrom)
, KEY mdl_mess_con2_ix (conversationid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all messages'
;
CREATE TABLE mdl_message_conversations (
    id BIGINT(10) NOT NULL auto_increment,
    type BIGINT(10) NOT NULL DEFAULT 1,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    convhash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    itemtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    itemid BIGINT(10),
    contextid BIGINT(10),
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messconv_typ2_ix (type)
, KEY mdl_messconv_con3_ix (convhash)
, KEY mdl_messconv_comiteitecon2_ix (component, itemtype, itemid, contextid)
, KEY mdl_messconv_con4_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all message conversations'
;
CREATE TABLE mdl_message_conversation_members (
    id BIGINT(10) NOT NULL auto_increment,
    conversationid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messconvmemb_con2_ix (conversationid)
, KEY mdl_messconvmemb_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all members in a conversations'
;
CREATE TABLE mdl_message_conversation_actions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    conversationid BIGINT(10) NOT NULL,
    action BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messconvacti_use2_ix (userid)
, KEY mdl_messconvacti_con2_ix (conversationid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all per-user actions on individual conversations'
;
CREATE TABLE mdl_message_user_actions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    messageid BIGINT(10) NOT NULL,
    action BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messuseracti_usemesac2_uix (userid, messageid, action)
, KEY mdl_messuseracti_use2_ix (userid)
, KEY mdl_messuseracti_mes2_ix (messageid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all per-user actions on individual messages'
;
CREATE TABLE mdl_notifications (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL,
    useridto BIGINT(10) NOT NULL,
    subject LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    fullmessageformat TINYINT(1) NOT NULL DEFAULT 0,
    fullmessagehtml LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    smallmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    eventtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    contexturl LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    contexturlname LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timeread BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    customdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_noti_use3_ix (useridfrom)
, KEY mdl_noti_tim_ix (timecreated)
, KEY mdl_noti_tim2_ix (timeread)
, KEY mdl_noti_use4_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores all notifications'
;
CREATE TABLE mdl_message_contacts (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    contactid BIGINT(10) NOT NULL,
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messcont_usecon2_uix (userid, contactid)
, KEY mdl_messcont_use2_ix (userid)
, KEY mdl_messcont_con2_ix (contactid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Maintains lists of contacts between users'
;
CREATE TABLE mdl_message_contact_requests (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    requesteduserid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messcontrequ_usereq2_uix (userid, requesteduserid)
, KEY mdl_messcontrequ_use2_ix (userid)
, KEY mdl_messcontrequ_req2_ix (requesteduserid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Maintains list of contact requests between users'
;
CREATE TABLE mdl_message_users_blocked (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    blockeduserid BIGINT(10) NOT NULL,
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messuserbloc_useblo2_uix (userid, blockeduserid)
, KEY mdl_messuserbloc_use2_ix (userid)
, KEY mdl_messuserbloc_blo2_ix (blockeduserid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Maintains lists of blocked users'
;
CREATE TABLE mdl_modules (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    search VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_modu_nam2_ix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='modules available in the site'
;
CREATE TABLE mdl_my_pages (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) DEFAULT 0,
    name VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    private TINYINT(1) NOT NULL DEFAULT 1,
    sortorder MEDIUMINT(6) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mypage_usepri2_ix (userid, private)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Extra user pages for the My Moodle system'
;
CREATE TABLE mdl_sessions (
    id BIGINT(10) NOT NULL auto_increment,
    state BIGINT(10) NOT NULL DEFAULT 0,
    sid VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    sessdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    firstip VARCHAR(45) COLLATE utf8mb4_0900_ai_ci,
    lastip VARCHAR(45) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_sess_sta2_ix (state)
, UNIQUE KEY mdl_sess_sid2_uix (sid)
, KEY mdl_sess_tim3_ix (timecreated)
, KEY mdl_sess_tim4_ix (timemodified)
, KEY mdl_sess_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Database based session storage - now recommended'
;
CREATE TABLE mdl_user (
    id BIGINT(10) NOT NULL auto_increment,
    auth VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'manual',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    policyagreed TINYINT(1) NOT NULL DEFAULT 0,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    suspended TINYINT(1) NOT NULL DEFAULT 0,
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    password VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    firstname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    lastname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    email VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    emailstop TINYINT(1) NOT NULL DEFAULT 0,
    phone1 VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    phone2 VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    institution VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    department VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    address VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    city VARCHAR(120) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    country VARCHAR(2) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    lang VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'en',
    calendartype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'gregorian',
    theme VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timezone VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '99',
    firstaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastlogin BIGINT(10) NOT NULL DEFAULT 0,
    currentlogin BIGINT(10) NOT NULL DEFAULT 0,
    lastip VARCHAR(45) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    secret VARCHAR(15) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    picture BIGINT(10) NOT NULL DEFAULT 0,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 1,
    mailformat TINYINT(1) NOT NULL DEFAULT 1,
    maildigest TINYINT(1) NOT NULL DEFAULT 0,
    maildisplay TINYINT(2) NOT NULL DEFAULT 2,
    autosubscribe TINYINT(1) NOT NULL DEFAULT 1,
    trackforums TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    trustbitmask BIGINT(10) NOT NULL DEFAULT 0,
    imagealt VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    lastnamephonetic VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    firstnamephonetic VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    middlename VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    alternatename VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    moodlenetprofile VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_user_mneuse_uix (mnethostid, username)
, KEY mdl_user_del_ix (deleted)
, KEY mdl_user_con_ix (confirmed)
, KEY mdl_user_fir_ix (firstname)
, KEY mdl_user_las_ix (lastname)
, KEY mdl_user_cit_ix (city)
, KEY mdl_user_cou_ix (country)
, KEY mdl_user_las2_ix (lastaccess)
, KEY mdl_user_ema_ix (email)
, KEY mdl_user_aut_ix (auth)
, KEY mdl_user_idn_ix (idnumber)
, KEY mdl_user_fir2_ix (firstnamephonetic)
, KEY mdl_user_las3_ix (lastnamephonetic)
, KEY mdl_user_mid_ix (middlename)
, KEY mdl_user_alt_ix (alternatename)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='One record for each person'
;
CREATE TABLE mdl_user_preferences (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value VARCHAR(1333) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userpref_usenam_uix (userid, name)
, KEY mdl_userpref_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Allows modules to store arbitrary user preferences'
;
CREATE TABLE mdl_user_lastaccess (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeaccess BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userlast_usecou2_uix (userid, courseid)
, KEY mdl_userlast_use2_ix (userid)
, KEY mdl_userlast_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To keep track of course page access times, used in online pa'
;
CREATE TABLE mdl_user_password_history (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    hash VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userpasshist_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='A rotating log of hashes of previously used passwords for ea'
;
CREATE TABLE mdl_scale (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    scale LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scal_cou2_ix (courseid)
, KEY mdl_scal_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines grading scales'
;
CREATE TABLE mdl_scale_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    scale LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scalhist_act2_ix (action)
, KEY mdl_scalhist_tim2_ix (timemodified)
, KEY mdl_scalhist_old2_ix (oldid)
, KEY mdl_scalhist_cou2_ix (courseid)
, KEY mdl_scalhist_log2_ix (loggeduser)
, KEY mdl_scalhist_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='History table'
;
CREATE TABLE mdl_stats_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statdail_cou2_ix (courseid)
, KEY mdl_statdail_tim2_ix (timeend)
, KEY mdl_statdail_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='to accumulate daily stats'
;
CREATE TABLE mdl_stats_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statweek_cou2_ix (courseid)
, KEY mdl_statweek_tim2_ix (timeend)
, KEY mdl_statweek_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To accumulate weekly stats'
;
CREATE TABLE mdl_stats_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statmont_cou2_ix (courseid)
, KEY mdl_statmont_tim2_ix (timeend)
, KEY mdl_statmont_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To accumulate monthly stats'
;
CREATE TABLE mdl_stats_user_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserdail_cou2_ix (courseid)
, KEY mdl_statuserdail_use2_ix (userid)
, KEY mdl_statuserdail_rol2_ix (roleid)
, KEY mdl_statuserdail_tim2_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To accumulate daily stats per course/user'
;
CREATE TABLE mdl_stats_user_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserweek_cou2_ix (courseid)
, KEY mdl_statuserweek_use2_ix (userid)
, KEY mdl_statuserweek_rol2_ix (roleid)
, KEY mdl_statuserweek_tim2_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To accumulate weekly stats per course/user'
;
CREATE TABLE mdl_stats_user_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statusermont_cou2_ix (courseid)
, KEY mdl_statusermont_use2_ix (userid)
, KEY mdl_statusermont_rol2_ix (roleid)
, KEY mdl_statusermont_tim2_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To accumulate monthly stats per course/user'
;
CREATE TABLE mdl_post (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    moduleid BIGINT(10) NOT NULL DEFAULT 0,
    coursemoduleid BIGINT(10) NOT NULL DEFAULT 0,
    subject VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    summary LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    content LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    uniquehash VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    rating BIGINT(10) NOT NULL DEFAULT 0,
    format BIGINT(10) NOT NULL DEFAULT 0,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    attachment VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    publishstate VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'draft',
    lastmodified BIGINT(10) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_post_iduse2_uix (id, userid)
, KEY mdl_post_las2_ix (lastmodified)
, KEY mdl_post_mod2_ix (module)
, KEY mdl_post_sub2_ix (subject)
, KEY mdl_post_use2_ix (usermodified)
, KEY mdl_post_cou_ix (courseid)
, KEY mdl_post_cou2_ix (coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Generic post table to hold data blog entries etc in differen'
;
CREATE TABLE mdl_role (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    archetype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_role_sor2_uix (sortorder)
, UNIQUE KEY mdl_role_sho2_uix (shortname)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='moodle roles'
;
CREATE TABLE mdl_context (
    id BIGINT(10) NOT NULL auto_increment,
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    instanceid BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    depth TINYINT(2) NOT NULL DEFAULT 0,
    locked TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cont_conins_uix (contextlevel, instanceid)
, KEY mdl_cont_ins_ix (instanceid)
, KEY mdl_cont_pat_ix (path)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='one of these must be set'
;
CREATE TABLE mdl_context_temp (
    id BIGINT(10) NOT NULL,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    depth TINYINT(2) NOT NULL,
    locked TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Used by build_context_path() in upgrade and cron to keep con'
;
CREATE TABLE mdl_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    captype VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    riskbitmask BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_capa_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='this defines all capabilities'
;
CREATE TABLE mdl_role_allow_assign (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowassign BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloassi_rolall2_uix (roleid, allowassign)
, KEY mdl_rolealloassi_rol2_ix (roleid)
, KEY mdl_rolealloassi_all2_ix (allowassign)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='this defines what role can assign what role'
;
CREATE TABLE mdl_role_allow_override (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowoverride BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloover_rolall2_uix (roleid, allowoverride)
, KEY mdl_rolealloover_rol2_ix (roleid)
, KEY mdl_rolealloover_all2_ix (allowoverride)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='this defines what role can override what role'
;
CREATE TABLE mdl_role_allow_switch (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    allowswitch BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloswit_rolall2_uix (roleid, allowswitch)
, KEY mdl_rolealloswit_rol2_ix (roleid)
, KEY mdl_rolealloswit_all2_ix (allowswitch)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores which which other roles a user is allowed '
;
CREATE TABLE mdl_role_allow_view (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    allowview BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloview_rolall2_uix (roleid, allowview)
, KEY mdl_rolealloview_rol2_ix (roleid)
, KEY mdl_rolealloview_all2_ix (allowview)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores which which other roles a user is allowed '
;
CREATE TABLE mdl_role_assignments (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_roleassi_sor2_ix (sortorder)
, KEY mdl_roleassi_rolcon2_ix (roleid, contextid)
, KEY mdl_roleassi_useconrol2_ix (userid, contextid, roleid)
, KEY mdl_roleassi_comiteuse2_ix (component, itemid, userid)
, KEY mdl_roleassi_rol2_ix (roleid)
, KEY mdl_roleassi_con2_ix (contextid)
, KEY mdl_roleassi_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='assigning roles in different context'
;
CREATE TABLE mdl_role_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    capability VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    permission BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecapa_rolconcap_uix (roleid, contextid, capability)
, KEY mdl_rolecapa_rol_ix (roleid)
, KEY mdl_rolecapa_con_ix (contextid)
, KEY mdl_rolecapa_mod_ix (modifierid)
, KEY mdl_rolecapa_cap_ix (capability)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='permission has to be signed, overriding a capability for a p'
;
CREATE TABLE mdl_role_names (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolename_rolcon2_uix (roleid, contextid)
, KEY mdl_rolename_rol2_ix (roleid)
, KEY mdl_rolename_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='role names in native strings'
;
CREATE TABLE mdl_role_context_levels (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    contextlevel BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecontleve_conrol2_uix (contextlevel, roleid)
, KEY mdl_rolecontleve_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Lists which roles can be assigned at which context levels. T'
;
CREATE TABLE mdl_user_info_field (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'shortname',
    name LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    datatype VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    required TINYINT(2) NOT NULL DEFAULT 0,
    locked TINYINT(2) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 0,
    forceunique TINYINT(2) NOT NULL DEFAULT 0,
    signup TINYINT(2) NOT NULL DEFAULT 0,
    defaultdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    defaultdataformat TINYINT(2) NOT NULL DEFAULT 0,
    param1 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    param2 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    param3 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    param4 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    param5 LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Customisable user profile fields'
;
CREATE TABLE mdl_user_info_category (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Customisable fields categories'
;
CREATE TABLE mdl_user_info_data (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    fieldid BIGINT(10) NOT NULL DEFAULT 0,
    data LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    dataformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userinfodata_usefie2_uix (userid, fieldid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Data for the customisable user fields'
;
CREATE TABLE mdl_question_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    info LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    infoformat TINYINT(2) NOT NULL DEFAULT 0,
    stamp VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 999,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quescate_con_ix (contextid)
, UNIQUE KEY mdl_quescate_consta_uix (contextid, stamp)
, UNIQUE KEY mdl_quescate_conidn_uix (contextid, idnumber)
, KEY mdl_quescate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Categories are for grouping questions'
;
CREATE TABLE mdl_question (
    id BIGINT(10) NOT NULL auto_increment,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    questiontext LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    questiontextformat TINYINT(2) NOT NULL DEFAULT 0,
    generalfeedback LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    generalfeedbackformat TINYINT(2) NOT NULL DEFAULT 0,
    defaultmark NUMERIC(12,7) NOT NULL DEFAULT 1,
    penalty NUMERIC(12,7) NOT NULL DEFAULT 0.3333333,
    qtype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    length BIGINT(10) NOT NULL DEFAULT 1,
    stamp VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    createdby BIGINT(10),
    modifiedby BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_ques_qty2_ix (qtype)
, KEY mdl_ques_par2_ix (parent)
, KEY mdl_ques_cre2_ix (createdby)
, KEY mdl_ques_mod2_ix (modifiedby)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores the definition of one version of a questio'
;
CREATE TABLE mdl_question_bank_entries (
    id BIGINT(10) NOT NULL auto_increment,
    questioncategoryid BIGINT(10) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    ownerid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesbankentr_queidn2_uix (questioncategoryid, idnumber)
, KEY mdl_quesbankentr_que2_ix (questioncategoryid)
, KEY mdl_quesbankentr_own2_ix (ownerid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Each question bank entry. This table has one row for each qu'
;
CREATE TABLE mdl_question_versions (
    id BIGINT(10) NOT NULL auto_increment,
    questionbankentryid BIGINT(10) NOT NULL DEFAULT 0,
    version BIGINT(10) NOT NULL DEFAULT 1,
    questionid BIGINT(10) NOT NULL DEFAULT 0,
    status VARCHAR(10) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'ready',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesvers_que3_ix (questionbankentryid)
, KEY mdl_quesvers_que4_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='A join table linking the different question version definiti'
;
CREATE TABLE mdl_question_references (
    id BIGINT(10) NOT NULL auto_increment,
    usingcontextid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    questionarea VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
    itemid BIGINT(10),
    questionbankentryid BIGINT(10) NOT NULL DEFAULT 0,
    version BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesrefe_usicomqueite2_uix (usingcontextid, component, questionarea, itemid)
, KEY mdl_quesrefe_usi2_ix (usingcontextid)
, KEY mdl_quesrefe_que2_ix (questionbankentryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Records where a specific question is used.'
;
CREATE TABLE mdl_question_set_references (
    id BIGINT(10) NOT NULL auto_increment,
    usingcontextid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    questionarea VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
    itemid BIGINT(10),
    questionscontextid BIGINT(10) NOT NULL DEFAULT 0,
    filtercondition LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quessetrefe_usicomque2_uix (usingcontextid, component, questionarea, itemid)
, KEY mdl_quessetrefe_usi2_ix (usingcontextid)
, KEY mdl_quessetrefe_que2_ix (questionscontextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Records where groups of questions are used.'
;
CREATE TABLE mdl_question_answers (
    id BIGINT(10) NOT NULL auto_increment,
    question BIGINT(10) NOT NULL DEFAULT 0,
    answer LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    answerformat TINYINT(2) NOT NULL DEFAULT 0,
    fraction NUMERIC(12,7) NOT NULL DEFAULT 0,
    feedback LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    feedbackformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesansw_que2_ix (question)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Answers, with a fractional grade (0-1) and feedback'
;
CREATE TABLE mdl_question_hints (
    id BIGINT(10) NOT NULL auto_increment,
    questionid BIGINT(10) NOT NULL,
    hint LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    hintformat SMALLINT(4) NOT NULL DEFAULT 0,
    shownumcorrect TINYINT(1),
    clearwrong TINYINT(1),
    options VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_queshint_que2_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores the the part of the question definition that gives di'
;
CREATE TABLE mdl_question_usages (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    preferredbehaviour VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesusag_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table\'s main purpose it to assign a unique id to each a'
;
CREATE TABLE mdl_question_attempts (
    id BIGINT(10) NOT NULL auto_increment,
    questionusageid BIGINT(10) NOT NULL,
    slot BIGINT(10) NOT NULL,
    behaviour VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10) NOT NULL DEFAULT 1,
    maxmark NUMERIC(12,7) NOT NULL,
    minfraction NUMERIC(12,7) NOT NULL,
    maxfraction NUMERIC(12,7) NOT NULL DEFAULT 1,
    flagged TINYINT(1) NOT NULL DEFAULT 0,
    questionsummary LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    rightanswer LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    responsesummary LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesatte_queslo2_uix (questionusageid, slot)
, KEY mdl_quesatte_beh2_ix (behaviour)
, KEY mdl_quesatte_que3_ix (questionid)
, KEY mdl_quesatte_que4_ix (questionusageid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Each row here corresponds to an attempt at one question, as '
;
CREATE TABLE mdl_question_attempt_steps (
    id BIGINT(10) NOT NULL auto_increment,
    questionattemptid BIGINT(10) NOT NULL,
    sequencenumber BIGINT(10) NOT NULL,
    state VARCHAR(13) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    fraction NUMERIC(12,7),
    timecreated BIGINT(10) NOT NULL,
    userid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestep_queseq2_uix (questionattemptid, sequencenumber)
, KEY mdl_quesattestep_que2_ix (questionattemptid)
, KEY mdl_quesattestep_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores one step in in a question attempt. As well as the dat'
;
CREATE TABLE mdl_question_attempt_step_data (
    id BIGINT(10) NOT NULL auto_increment,
    attemptstepid BIGINT(10) NOT NULL,
    name VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesattestepdata_att2_ix (attemptstepid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Each question_attempt_step has an associative array of the d'
;
CREATE TABLE mdl_question_statistics (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    slot BIGINT(10),
    subquestion SMALLINT(4) NOT NULL,
    variant BIGINT(10),
    s BIGINT(10) NOT NULL DEFAULT 0,
    effectiveweight NUMERIC(15,5),
    negcovar TINYINT(2) NOT NULL DEFAULT 0,
    discriminationindex NUMERIC(15,5),
    discriminativeefficiency NUMERIC(15,5),
    sd NUMERIC(15,10),
    facility NUMERIC(15,10),
    subquestions LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    maxmark NUMERIC(12,7),
    positions LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    randomguessscore NUMERIC(12,7),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesstat_que_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Statistics for individual questions used in an activity.'
;
CREATE TABLE mdl_question_response_analysis (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    whichtries VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10),
    subqid VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    aid VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    response LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    credit NUMERIC(15,5) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesrespanal_que_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Analysis of student responses given to questions.'
;
CREATE TABLE mdl_question_response_count (
    id BIGINT(10) NOT NULL auto_increment,
    analysisid BIGINT(10) NOT NULL,
    try BIGINT(10) NOT NULL,
    rcount BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesrespcoun_ana2_ix (analysisid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Count for each responses for each try at a question.'
;
CREATE TABLE mdl_mnet_application (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    display_name VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    xmlrpc_server_url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sso_land_url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sso_jump_url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Information about applications on remote hosts'
;
CREATE TABLE mdl_mnet_host (
    id BIGINT(10) NOT NULL auto_increment,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    wwwroot VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    ip_address VARCHAR(45) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(80) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    public_key LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    public_key_expires BIGINT(10) NOT NULL DEFAULT 0,
    transport TINYINT(2) NOT NULL DEFAULT 0,
    portno MEDIUMINT(5) NOT NULL DEFAULT 0,
    last_connect_time BIGINT(10) NOT NULL DEFAULT 0,
    last_log_id BIGINT(10) NOT NULL DEFAULT 0,
    force_theme TINYINT(1) NOT NULL DEFAULT 0,
    theme VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    applicationid BIGINT(10) NOT NULL DEFAULT 1,
    sslverification TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnethost_las_ix (last_log_id)
, KEY mdl_mnethost_app2_ix (applicationid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Information about the local and remote hosts for RPC'
;
CREATE TABLE mdl_mnet_host2service (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    publish TINYINT(1) NOT NULL DEFAULT 0,
    subscribe TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnethost_hosser2_uix (hostid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Information about the services for a given host'
;
CREATE TABLE mdl_mnet_log (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    remoteid BIGINT(10) NOT NULL DEFAULT 0,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    coursename VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    module VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    url VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    info VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetlog_hosusecou2_ix (hostid, userid, course)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    help LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    profile LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    filename VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(150) COLLATE utf8mb4_0900_ai_ci,
    static TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetrpc_enaxml2_ix (enabled, xmlrpcpath)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Functions or methods that we may publish or subscribe to'
;
CREATE TABLE mdl_mnet_remote_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table describes functions that might be called remotely'
;
CREATE TABLE mdl_mnet_service (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    apiversion VARCHAR(10) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    offer TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='A service is a group of functions'
;
CREATE TABLE mdl_mnet_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetserv_rpcser2_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_remote_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetremoserv_rpcser2_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_session (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    token VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    useragent VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    confirm_timeout BIGINT(10) NOT NULL DEFAULT 0,
    session_id VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    expires BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetsess_tok2_uix (token)
, KEY mdl_mnetsess_use_ix (userid)
, KEY mdl_mnetsess_mne_ix (mnethostid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_sso_access_control (
    id BIGINT(10) NOT NULL auto_increment,
    username VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    mnet_host_id BIGINT(10) NOT NULL DEFAULT 0,
    accessctrl VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'allow',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetssoaccecont_mneus2_uix (mnet_host_id, username)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Users by host permitted (or not) to login from a remote prov'
;
CREATE TABLE mdl_events_queue (
    id BIGINT(10) NOT NULL auto_increment,
    eventdata LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    stackdump LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    userid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueu_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table is for storing queued events. It stores only one '
;
CREATE TABLE mdl_events_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    eventname VARCHAR(166) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    component VARCHAR(166) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    handlerfile VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    handlerfunction LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    schedule VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    internal TINYINT(2) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_evenhand_evecom2_uix (eventname, component)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table is for storing which components requests what typ'
;
CREATE TABLE mdl_events_queue_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    queuedeventid BIGINT(10) NOT NULL,
    handlerid BIGINT(10) NOT NULL,
    status BIGINT(10),
    errormessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueuhand_que2_ix (queuedeventid)
, KEY mdl_evenqueuhand_han2_ix (handlerid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This is the list of queued handlers for processing. The even'
;
CREATE TABLE mdl_grade_outcomes (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    fullname LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutc_cou_ix (courseid)
, KEY mdl_gradoutc_sca_ix (scaleid)
, KEY mdl_gradoutc_use_ix (usermodified)
, UNIQUE KEY mdl_gradoutc_cousho_uix (courseid, shortname)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table describes the outcomes used in the system. An out'
;
CREATE TABLE mdl_grade_outcomes_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    outcomeid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutccour_cou2_ix (courseid)
, KEY mdl_gradoutccour_out2_ix (outcomeid)
, UNIQUE KEY mdl_gradoutccour_couout2_uix (courseid, outcomeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='stores what outcomes are used in what courses.'
;
CREATE TABLE mdl_grade_categories (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    fullname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcate_cou2_ix (courseid)
, KEY mdl_gradcate_par2_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table keeps information about categories, used for grou'
;
CREATE TABLE mdl_grade_items (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    itemtype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) COLLATE utf8mb4_0900_ai_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    idnumber VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    calculation LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef2 NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    weightoverride TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditem_locloc_ix (locked, locktime)
, KEY mdl_graditem_itenee_ix (itemtype, needsupdate)
, KEY mdl_graditem_gra_ix (gradetype)
, KEY mdl_graditem_idncou_ix (idnumber, courseid)
, KEY mdl_graditem_iteiteitecou_ix (itemtype, itemmodule, iteminstance, courseid)
, KEY mdl_graditem_cou_ix (courseid)
, KEY mdl_graditem_cat_ix (categoryid)
, KEY mdl_graditem_sca_ix (scaleid)
, KEY mdl_graditem_out_ix (outcomeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table keeps information about gradeable items (ie colum'
;
CREATE TABLE mdl_grade_grades (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    aggregationstatus VARCHAR(10) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'unknown',
    aggregationweight NUMERIC(10,5),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgrad_locloc2_ix (locked, locktime)
, KEY mdl_gradgrad_ite2_ix (itemid)
, KEY mdl_gradgrad_use3_ix (userid)
, KEY mdl_gradgrad_raw2_ix (rawscaleid)
, KEY mdl_gradgrad_use4_ix (usermodified)
, UNIQUE KEY mdl_gradgrad_useite2_uix (userid, itemid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='grade_grades  This table keeps individual grades for each us'
;
CREATE TABLE mdl_grade_outcomes_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    fullname LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutchist_act2_ix (action)
, KEY mdl_gradoutchist_tim2_ix (timemodified)
, KEY mdl_gradoutchist_old2_ix (oldid)
, KEY mdl_gradoutchist_cou2_ix (courseid)
, KEY mdl_gradoutchist_sca2_ix (scaleid)
, KEY mdl_gradoutchist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='History table'
;
CREATE TABLE mdl_grade_categories_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    fullname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcatehist_act2_ix (action)
, KEY mdl_gradcatehist_tim2_ix (timemodified)
, KEY mdl_gradcatehist_old2_ix (oldid)
, KEY mdl_gradcatehist_cou2_ix (courseid)
, KEY mdl_gradcatehist_par2_ix (parent)
, KEY mdl_gradcatehist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='History of grade_categories'
;
CREATE TABLE mdl_grade_items_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    itemtype VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) COLLATE utf8mb4_0900_ai_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    idnumber VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    calculation LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef2 NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
    weightoverride TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditemhist_act2_ix (action)
, KEY mdl_graditemhist_tim2_ix (timemodified)
, KEY mdl_graditemhist_old2_ix (oldid)
, KEY mdl_graditemhist_cou2_ix (courseid)
, KEY mdl_graditemhist_cat2_ix (categoryid)
, KEY mdl_graditemhist_sca2_ix (scaleid)
, KEY mdl_graditemhist_out2_ix (outcomeid)
, KEY mdl_graditemhist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='History of grade_items'
;
CREATE TABLE mdl_grade_grades_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgradhist_act2_ix (action)
, KEY mdl_gradgradhist_tim2_ix (timemodified)
, KEY mdl_gradgradhist_useitetim2_ix (userid, itemid, timemodified)
, KEY mdl_gradgradhist_old2_ix (oldid)
, KEY mdl_gradgradhist_ite2_ix (itemid)
, KEY mdl_gradgradhist_use3_ix (userid)
, KEY mdl_gradgradhist_raw2_ix (rawscaleid)
, KEY mdl_gradgradhist_use4_ix (usermodified)
, KEY mdl_gradgradhist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='History table'
;
CREATE TABLE mdl_grade_import_newitem (
    id BIGINT(10) NOT NULL auto_increment,
    itemname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimponewi_imp2_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='temporary table for storing new grade_item names from grade '
;
CREATE TABLE mdl_grade_import_values (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10),
    newgradeitem BIGINT(10),
    userid BIGINT(10) NOT NULL,
    finalgrade NUMERIC(10,5),
    feedback LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10),
    importonlyfeedback TINYINT(1) DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimpovalu_ite2_ix (itemid)
, KEY mdl_gradimpovalu_new2_ix (newgradeitem)
, KEY mdl_gradimpovalu_imp2_ix (importer)
, KEY mdl_gradimpovalu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Temporary table for importing grades'
;
CREATE TABLE mdl_tag_coll (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    isdefault TINYINT(2) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    sortorder MEDIUMINT(5) NOT NULL DEFAULT 0,
    searchable TINYINT(2) NOT NULL DEFAULT 1,
    customurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines different set of tags'
;
CREATE TABLE mdl_tag_area (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    tagcollid BIGINT(10) NOT NULL,
    callback VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    callbackfile VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    showstandard TINYINT(1) NOT NULL DEFAULT 0,
    multiplecontexts TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tagarea_comite2_uix (component, itemtype)
, KEY mdl_tagarea_tag2_ix (tagcollid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines various tag areas, one area is identified by compone'
;
CREATE TABLE mdl_tag (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    tagcollid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    rawname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    isstandard TINYINT(1) NOT NULL DEFAULT 0,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    flag SMALLINT(4) DEFAULT 0,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tag_tagnam_uix (tagcollid, name)
, KEY mdl_tag_tagiss_ix (tagcollid, isstandard)
, KEY mdl_tag_use_ix (userid)
, KEY mdl_tag_tag_ix (tagcollid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Tag table - this generic table will replace the old "tags" t'
;
CREATE TABLE mdl_tag_correlation (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    correlatedtags LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_tagcorr_tag2_ix (tagid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The rationale for the \'tag_correlation\' table is performance'
;
CREATE TABLE mdl_tag_instance (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    contextid BIGINT(10),
    tiuserid BIGINT(10) NOT NULL DEFAULT 0,
    ordering BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_taginst_comiteitecont2_uix (component, itemtype, itemid, contextid, tiuserid, tagid)
, KEY mdl_taginst_itecomtagcon2_ix (itemtype, component, tagid, contextid)
, KEY mdl_taginst_tag2_ix (tagid)
, KEY mdl_taginst_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='tag_instance table holds the information of associations bet'
;
CREATE TABLE mdl_groups (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(254) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    enrolmentkey VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
    picture BIGINT(10) NOT NULL DEFAULT 0,
    visibility TINYINT(1) NOT NULL DEFAULT 0,
    participation TINYINT(1) NOT NULL DEFAULT 1,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn2_ix (idnumber)
, KEY mdl_grou_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Each record represents a group.'
;
CREATE TABLE mdl_groupings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    configdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn3_ix (idnumber)
, KEY mdl_grou_cou3_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='A grouping is a collection of groups. WAS: groups_groupings'
;
CREATE TABLE mdl_groups_members (
    id BIGINT(10) NOT NULL auto_increment,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_groumemb_gro2_ix (groupid)
, KEY mdl_groumemb_use2_ix (userid)
, UNIQUE KEY mdl_groumemb_usegro2_uix (userid, groupid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a user to a group.'
;
CREATE TABLE mdl_groupings_groups (
    id BIGINT(10) NOT NULL auto_increment,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grougrou_gro3_ix (groupingid)
, KEY mdl_grougrou_gro4_ix (groupid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a grouping to a group (note, groups can be in multiple '
;
CREATE TABLE mdl_cohort (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(254) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    theme VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_coho_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Each record represents one cohort (aka site-wide group).'
;
CREATE TABLE mdl_cohort_members (
    id BIGINT(10) NOT NULL auto_increment,
    cohortid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cohomemb_cohuse_uix (cohortid, userid)
, KEY mdl_cohomemb_coh_ix (cohortid)
, KEY mdl_cohomemb_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a user to a cohort.'
;
CREATE TABLE mdl_user_private_key (
    id BIGINT(10) NOT NULL auto_increment,
    script VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10),
    iprestriction VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userprivkey_scrval2_ix (script, value)
, KEY mdl_userprivkey_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='access keys used in cookieless scripts - rss, etc.'
;
CREATE TABLE mdl_grade_letters (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    lowerboundary NUMERIC(10,5) NOT NULL,
    letter VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradlett_conlowlet_uix (contextid, lowerboundary, letter)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Repository for grade letters, for courses and other moodle e'
;
CREATE TABLE mdl_cache_flags (
    id BIGINT(10) NOT NULL auto_increment,
    flagtype VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    expiry BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachflag_fla_ix (flagtype)
, KEY mdl_cachflag_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Cache of time-sensitive flags'
;
CREATE TABLE mdl_grade_settings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradsett_counam_uix (courseid, name)
, KEY mdl_gradsett_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='gradebook settings'
;
CREATE TABLE mdl_portfolio_instance (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='base table (not including config data) for instances of port'
;
CREATE TABLE mdl_portfolio_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstconf_nam_ix (name)
, KEY mdl_portinstconf_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='config for portfolio plugin instances'
;
CREATE TABLE mdl_portfolio_instance_user (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstuser_ins2_ix (instance)
, KEY mdl_portinstuser_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='user data for portfolio instances.'
;
CREATE TABLE mdl_portfolio_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    time BIGINT(10) NOT NULL,
    portfolio BIGINT(10) NOT NULL,
    caller_class VARCHAR(150) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    caller_file VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    caller_component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    caller_sha1 VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    tempdataid BIGINT(10) NOT NULL DEFAULT 0,
    returnurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    continueurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portlog_use2_ix (userid)
, KEY mdl_portlog_por2_ix (portfolio)
, KEY mdl_portlog_tem_ix (tempdataid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='log of portfolio transfers (used to later check for duplicat'
;
CREATE TABLE mdl_portfolio_tempdata (
    id BIGINT(10) NOT NULL auto_increment,
    data LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    expirytime BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10) DEFAULT 0,
    queued TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_porttemp_use2_ix (userid)
, KEY mdl_porttemp_ins2_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='stores temporary data for portfolio exports. the id of this '
;
CREATE TABLE mdl_message_providers (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    component VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    capability VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messprov_comnam_uix (component, name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores the message providers (modules and core sy'
;
CREATE TABLE mdl_message_processors (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(166) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='List of message output plugins'
;
CREATE TABLE mdl_files (
    id BIGINT(10) NOT NULL auto_increment,
    contenthash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    pathnamehash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    filearea VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    filepath VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    filename VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10),
    filesize BIGINT(10) NOT NULL,
    mimetype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    source LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    author VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    license VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    referencefileid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_file_comfilconite_ix (component, filearea, contextid, itemid)
, KEY mdl_file_con_ix (contenthash)
, UNIQUE KEY mdl_file_pat_uix (pathnamehash)
, KEY mdl_file_lic_ix (license)
, KEY mdl_file_fil_ix (filename)
, KEY mdl_file_con2_ix (contextid)
, KEY mdl_file_use_ix (userid)
, KEY mdl_file_ref_ix (referencefileid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='description of files, content is stored in sha1 file pool'
;
CREATE TABLE mdl_files_reference (
    id BIGINT(10) NOT NULL auto_increment,
    repositoryid BIGINT(10) NOT NULL,
    lastsync BIGINT(10),
    reference LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    referencehash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filerefe_refrep2_uix (referencehash, repositoryid)
, KEY mdl_filerefe_rep2_ix (repositoryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Store files references'
;
CREATE TABLE mdl_file_conversion (
    id BIGINT(10) NOT NULL auto_increment,
    usermodified BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    sourcefileid BIGINT(10) NOT NULL,
    targetformat VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    status BIGINT(10) DEFAULT 0,
    statusmessage LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    converter VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    destfileid BIGINT(10),
    data LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_fileconv_sou2_ix (sourcefileid)
, KEY mdl_fileconv_des2_ix (destfileid)
, KEY mdl_fileconv_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to track file conversions.'
;
CREATE TABLE mdl_repository (
    id BIGINT(10) NOT NULL auto_increment,
    type VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    visible TINYINT(1) DEFAULT 1,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instances (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    typeid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL,
    username VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    password VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    readonly TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_repoinst_use_ix (userid)
, KEY mdl_repoinst_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instanceid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The config for intances'
;
CREATE TABLE mdl_backup_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    laststarttime BIGINT(10) NOT NULL DEFAULT 0,
    lastendtime BIGINT(10) NOT NULL DEFAULT 0,
    laststatus VARCHAR(1) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '5',
    nextstarttime BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backcour_cou_uix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To store every course backup status'
;
CREATE TABLE mdl_block (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_bloc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='contains all installed blocks'
;
CREATE TABLE mdl_block_instances (
    id BIGINT(10) NOT NULL auto_increment,
    blockname VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    parentcontextid BIGINT(10) NOT NULL,
    showinsubcontexts SMALLINT(4) NOT NULL,
    requiredbytheme SMALLINT(4) NOT NULL DEFAULT 0,
    pagetypepattern VARCHAR(64) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    subpagepattern VARCHAR(16) COLLATE utf8mb4_0900_ai_ci,
    defaultregion VARCHAR(16) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    defaultweight BIGINT(10) NOT NULL,
    configdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blocinst_parshopagsub_ix (parentcontextid, showinsubcontexts, pagetypepattern, subpagepattern)
, KEY mdl_blocinst_tim_ix (timemodified)
, KEY mdl_blocinst_blo_ix (blockname)
, KEY mdl_blocinst_par_ix (parentcontextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores block instances. The type of block this is'
;
CREATE TABLE mdl_block_positions (
    id BIGINT(10) NOT NULL auto_increment,
    blockinstanceid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    pagetype VARCHAR(64) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    subpage VARCHAR(16) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    visible SMALLINT(4) NOT NULL,
    region VARCHAR(16) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    weight BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_blocposi_bloconpagsub_uix (blockinstanceid, contextid, pagetype, subpage)
, KEY mdl_blocposi_blo_ix (blockinstanceid)
, KEY mdl_blocposi_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores the position of a sticky block_instance on a another '
;
CREATE TABLE mdl_comments (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    commentarea VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    content LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    format TINYINT(2) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comm_concomite_ix (contextid, commentarea, itemid)
, KEY mdl_comm_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='moodle comments module'
;
CREATE TABLE mdl_external_services (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
    requiredcapability VARCHAR(150) COLLATE utf8mb4_0900_ai_ci,
    restrictedusers TINYINT(1) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    downloadfiles TINYINT(1) NOT NULL DEFAULT 0,
    uploadfiles TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_exteserv_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='built in and custom external services'
;
CREATE TABLE mdl_external_functions (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    methodname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classpath VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    capabilities VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    services VARCHAR(1333) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_extefunc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='list of all external functions'
;
CREATE TABLE mdl_external_services_functions (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    functionname VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservfunc_ext2_ix (externalserviceid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='lists functions available in each service group'
;
CREATE TABLE mdl_external_services_users (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    iprestriction VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservuser_ext2_ix (externalserviceid)
, KEY mdl_exteservuser_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='users allowed to use services with restricted users flag'
;
CREATE TABLE mdl_external_tokens (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    privatetoken VARCHAR(64) COLLATE utf8mb4_0900_ai_ci,
    tokentype SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    externalserviceid BIGINT(10) NOT NULL,
    sid VARCHAR(128) COLLATE utf8mb4_0900_ai_ci,
    contextid BIGINT(10) NOT NULL,
    creatorid BIGINT(10) NOT NULL DEFAULT 1,
    iprestriction VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    lastaccess BIGINT(10),
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_extetoke_tok2_ix (token)
, KEY mdl_extetoke_sid_ix (sid)
, KEY mdl_extetoke_use2_ix (userid)
, KEY mdl_extetoke_ext2_ix (externalserviceid)
, KEY mdl_extetoke_con2_ix (contextid)
, KEY mdl_extetoke_cre2_ix (creatorid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Security tokens for accessing of external services'
;
CREATE TABLE mdl_blog_association (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    blogid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogasso_con_ix (contextid)
, KEY mdl_blogasso_blo_ix (blogid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Associations of blog entries with courses and module instanc'
;
CREATE TABLE mdl_blog_external (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    url LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    filtertags VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    failedlastsync TINYINT(1) NOT NULL DEFAULT 0,
    timemodified BIGINT(10),
    timefetched BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogexte_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='External blog links used for RSS copying of blog entries to '
;
CREATE TABLE mdl_rating (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    ratingarea VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    scaleid BIGINT(10) NOT NULL,
    rating BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_rati_comratconite2_ix (component, ratingarea, contextid, itemid)
, KEY mdl_rati_con2_ix (contextid)
, KEY mdl_rati_use2_ix (userid)
, KEY mdl_rati_sca_ix (scaleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='moodle ratings'
;
CREATE TABLE mdl_license (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    fullname LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    version BIGINT(10) NOT NULL DEFAULT 0,
    custom TINYINT(1) NOT NULL DEFAULT 0,
    sortorder MEDIUMINT(5) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='store licenses used by moodle'
;
CREATE TABLE mdl_registration_hubs (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    hubname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    huburl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    secret VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='hub where the site is registered on with their associated to'
;
CREATE TABLE mdl_backup_controllers (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    operation VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'backup',
    type VARCHAR(10) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    format VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    interactive SMALLINT(4) NOT NULL,
    purpose SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    status SMALLINT(4) NOT NULL,
    execution SMALLINT(4) NOT NULL,
    executiontime BIGINT(10) NOT NULL,
    checksum VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    progress NUMERIC(15,14) NOT NULL DEFAULT 0,
    controller LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_backcont_typite_ix (type, itemid)
, KEY mdl_backcont_useite_ix (userid, itemid)
, UNIQUE KEY mdl_backcont_bac_uix (backupid)
, KEY mdl_backcont_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To store the backup_controllers as they are used'
;
CREATE TABLE mdl_backup_logs (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    loglevel SMALLINT(4) NOT NULL,
    message LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backlogs_bacid_uix (backupid, id)
, KEY mdl_backlogs_bac_ix (backupid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='To store all the logs from backup and restore operations (by'
;
CREATE TABLE mdl_profiling (
    id BIGINT(10) NOT NULL auto_increment,
    runid VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    data LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    totalexecutiontime BIGINT(10) NOT NULL,
    totalcputime BIGINT(10) NOT NULL,
    totalcalls BIGINT(10) NOT NULL,
    totalmemory BIGINT(10) NOT NULL,
    runreference TINYINT(2) NOT NULL DEFAULT 0,
    runcomment VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_prof_urlrun_ix (url, runreference)
, KEY mdl_prof_timrun_ix (timecreated, runreference)
, UNIQUE KEY mdl_prof_run_uix (runid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores the results of all the profiling runs'
;
CREATE TABLE mdl_course_published (
    id BIGINT(10) NOT NULL auto_increment,
    huburl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    courseid BIGINT(10) NOT NULL,
    timepublished BIGINT(10) NOT NULL,
    enrollable TINYINT(1) NOT NULL DEFAULT 1,
    hubcourseid BIGINT(10) NOT NULL,
    status TINYINT(1) DEFAULT 0,
    timechecked BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courpubl_hub_ix (hubcourseid)
, KEY mdl_courpubl_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Information about how and when an local courses were publish'
;
CREATE TABLE mdl_grading_areas (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    areaname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    activemethod VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradarea_concomare2_uix (contextid, component, areaname)
, KEY mdl_gradarea_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Identifies gradable areas where advanced grading can happen.'
;
CREATE TABLE mdl_grading_definitions (
    id BIGINT(10) NOT NULL auto_increment,
    areaid BIGINT(10) NOT NULL,
    method VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2),
    status BIGINT(10) NOT NULL DEFAULT 0,
    copiedfromid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    usercreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    timecopied BIGINT(10) DEFAULT 0,
    options LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graddefi_are2_ix (areaid)
, KEY mdl_graddefi_use3_ix (usermodified)
, UNIQUE KEY mdl_graddefi_aremet2_uix (areaid, method)
, KEY mdl_graddefi_use4_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Contains the basic information about an advanced grading for'
;
CREATE TABLE mdl_grading_instances (
    id BIGINT(10) NOT NULL auto_increment,
    definitionid BIGINT(10) NOT NULL,
    raterid BIGINT(10) NOT NULL,
    itemid BIGINT(10),
    rawgrade NUMERIC(10,5),
    status BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    feedbackformat TINYINT(2),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradinst_def2_ix (definitionid)
, KEY mdl_gradinst_rat2_ix (raterid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Grading form instance is an assessment record for one gradab'
;
CREATE TABLE mdl_event_subscriptions (
    id BIGINT(10) NOT NULL auto_increment,
    url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    pollinterval BIGINT(10) NOT NULL DEFAULT 0,
    lastupdated BIGINT(10),
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evensubs_cou_ix (courseid)
, KEY mdl_evensubs_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Tracks subscriptions to remote calendars.'
;
CREATE TABLE mdl_badge (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuername VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    issuerurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    issuercontact VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    expiredate BIGINT(10),
    expireperiod BIGINT(10),
    type TINYINT(1) NOT NULL DEFAULT 1,
    courseid BIGINT(10),
    message LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    messagesubject LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    attachment TINYINT(1) NOT NULL DEFAULT 1,
    notification TINYINT(1) NOT NULL DEFAULT 1,
    status TINYINT(1) NOT NULL DEFAULT 0,
    nextcron BIGINT(10),
    version VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    language VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    imageauthorname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    imageauthoremail VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    imageauthorurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    imagecaption LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badg_typ_ix (type)
, KEY mdl_badg_cou_ix (courseid)
, KEY mdl_badg_use_ix (usermodified)
, KEY mdl_badg_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines badge'
;
CREATE TABLE mdl_badge_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 1,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcrit_cri_ix (criteriatype)
, UNIQUE KEY mdl_badgcrit_badcri_uix (badgeid, criteriatype)
, KEY mdl_badgcrit_bad_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines criteria for issuing badges'
;
CREATE TABLE mdl_badge_criteria_param (
    id BIGINT(10) NOT NULL auto_increment,
    critid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritpara_cri_ix (critid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines parameters for badges criteria'
;
CREATE TABLE mdl_badge_issued (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    uniquehash LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    dateissued BIGINT(10) NOT NULL DEFAULT 0,
    dateexpire BIGINT(10),
    visible TINYINT(1) NOT NULL DEFAULT 0,
    issuernotified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_badgissu_baduse_uix (badgeid, userid)
, KEY mdl_badgissu_bad_ix (badgeid)
, KEY mdl_badgissu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines issued badges'
;
CREATE TABLE mdl_badge_criteria_met (
    id BIGINT(10) NOT NULL auto_increment,
    issuedid BIGINT(10),
    critid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritmet_cri_ix (critid)
, KEY mdl_badgcritmet_use_ix (userid)
, KEY mdl_badgcritmet_iss_ix (issuedid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines criteria that were met for an issued badge'
;
CREATE TABLE mdl_badge_endorsement (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    issuername VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    issuerurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    issueremail VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    claimid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    claimcomment LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    dateissued BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgendo_bad_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines endorsement for badge'
;
CREATE TABLE mdl_badge_manual_award (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL,
    recipientid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    issuerrole BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgmanuawar_bad_ix (badgeid)
, KEY mdl_badgmanuawar_rec_ix (recipientid)
, KEY mdl_badgmanuawar_iss_ix (issuerid)
, KEY mdl_badgmanuawar_iss2_ix (issuerrole)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Track manual award criteria for badges'
;
CREATE TABLE mdl_badge_backpack (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    email VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    backpackuid BIGINT(10) NOT NULL,
    autosync TINYINT(1) NOT NULL DEFAULT 0,
    password VARCHAR(50) COLLATE utf8mb4_0900_ai_ci,
    externalbackpackid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgback_use_ix (userid)
, UNIQUE KEY mdl_badgback_useext_uix (userid, externalbackpackid)
, KEY mdl_badgback_ext_ix (externalbackpackid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines settings for connecting external backpack'
;
CREATE TABLE mdl_badge_backpack_oauth2 (
    id BIGINT(10) NOT NULL auto_increment,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    externalbackpackid BIGINT(10) NOT NULL,
    token LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    refreshtoken LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    expires BIGINT(10),
    scope LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgbackoaut_use_ix (usermodified)
, KEY mdl_badgbackoaut_use2_ix (userid)
, KEY mdl_badgbackoaut_iss_ix (issuerid)
, KEY mdl_badgbackoaut_ext_ix (externalbackpackid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Default comment for the table, please edit me'
;
CREATE TABLE mdl_badge_external (
    id BIGINT(10) NOT NULL auto_increment,
    backpackid BIGINT(10) NOT NULL,
    collectionid BIGINT(10) NOT NULL,
    entityid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    assertion LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgexte_bac_ix (backpackid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Setting for external badges display'
;
CREATE TABLE mdl_badge_external_identifier (
    id BIGINT(10) NOT NULL auto_increment,
    sitebackpackid BIGINT(10) NOT NULL,
    internalid VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    externalid VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    type VARCHAR(16) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgexteiden_sit_ix (sitebackpackid)
, UNIQUE KEY mdl_badgexteiden_sitintext_uix (sitebackpackid, internalid, externalid, type)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Setting for external badges mappings'
;
CREATE TABLE mdl_badge_alignment (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    targetname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    targeturl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    targetdescription LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    targetframework VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    targetcode VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgalig_bad_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines alignment for badges'
;
CREATE TABLE mdl_badge_related (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    relatedbadgeid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgrela_bad_ix (badgeid)
, KEY mdl_badgrela_rel_ix (relatedbadgeid)
, UNIQUE KEY mdl_badgrela_badrel_uix (badgeid, relatedbadgeid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines badge related for badges'
;
CREATE TABLE mdl_badge_external_backpack (
    id BIGINT(10) NOT NULL auto_increment,
    backpackapiurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    backpackweburl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    apiversion VARCHAR(12) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '1.0',
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    oauth2_issuerid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_badgexteback_bac_uix (backpackapiurl)
, UNIQUE KEY mdl_badgexteback_bac2_uix (backpackweburl)
, KEY mdl_badgexteback_oau_ix (oauth2_issuerid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines settings for site level backpacks that a user can co'
;
CREATE TABLE mdl_user_devices (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    appid VARCHAR(128) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    model VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    platform VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    version VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    pushid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    uuid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    publickey LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userdevi_uuiuse_ix (uuid, userid)
, UNIQUE KEY mdl_userdevi_pususe_uix (pushid, userid)
, KEY mdl_userdevi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores user\'s mobile devices information in order'
;
CREATE TABLE mdl_user_password_resets (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timerequested BIGINT(10) NOT NULL,
    timererequested BIGINT(10) NOT NULL DEFAULT 0,
    token VARCHAR(32) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userpassrese_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='table tracking password reset confirmation tokens'
;
CREATE TABLE mdl_lock_db (
    id BIGINT(10) NOT NULL auto_increment,
    resourcekey VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    expires BIGINT(10),
    owner VARCHAR(36) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_lockdb_res_uix (resourcekey)
, KEY mdl_lockdb_exp_ix (expires)
, KEY mdl_lockdb_own_ix (owner)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores active and inactive lock types for db locking method.'
;
CREATE TABLE mdl_task_scheduled (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    lastruntime BIGINT(10),
    nextruntime BIGINT(10),
    minute VARCHAR(200) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    hour VARCHAR(70) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    day VARCHAR(90) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    month VARCHAR(30) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    dayofweek VARCHAR(25) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    faildelay BIGINT(10),
    customised TINYINT(2) NOT NULL DEFAULT 0,
    disabled TINYINT(1) NOT NULL DEFAULT 0,
    timestarted BIGINT(10),
    hostname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    pid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tasksche_cla_uix (classname)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='List of scheduled tasks to be run by cron.'
;
CREATE TABLE mdl_task_adhoc (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    nextruntime BIGINT(10) NOT NULL,
    faildelay BIGINT(10),
    customdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    userid BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timestarted BIGINT(10),
    hostname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    pid BIGINT(10),
    attemptsavailable TINYINT(2),
    firststartingtime BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_taskadho_nex2_ix (nextruntime)
, KEY mdl_taskadho_tim_ix (timestarted)
, KEY mdl_taskadho_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='List of adhoc tasks waiting to run.'
;
CREATE TABLE mdl_task_log (
    id BIGINT(10) NOT NULL auto_increment,
    type SMALLINT(4) NOT NULL,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    timestart NUMERIC(20,10) NOT NULL,
    timeend NUMERIC(20,10) NOT NULL,
    dbreads BIGINT(10) NOT NULL,
    dbwrites BIGINT(10) NOT NULL,
    result TINYINT(2) NOT NULL,
    output LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    hostname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    pid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_tasklog_cla_ix (classname)
, KEY mdl_tasklog_tim_ix (timestart)
, KEY mdl_tasklog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The log table for all tasks'
;
CREATE TABLE mdl_messageinbound_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    defaultexpiration BIGINT(10) NOT NULL DEFAULT 86400,
    validateaddress TINYINT(1) NOT NULL DEFAULT 1,
    enabled TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messhand_cla_uix (classname)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Inbound Message Handler definitions.'
;
CREATE TABLE mdl_messageinbound_datakeys (
    id BIGINT(10) NOT NULL auto_increment,
    handler BIGINT(10) NOT NULL,
    datavalue BIGINT(10) NOT NULL,
    datakey VARCHAR(64) COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    expires BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messdata_handat2_uix (handler, datavalue)
, KEY mdl_messdata_han2_ix (handler)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Inbound Message data item secret keys.'
;
CREATE TABLE mdl_messageinbound_messagelist (
    id BIGINT(10) NOT NULL auto_increment,
    messageid LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    userid BIGINT(10) NOT NULL,
    address LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messmess_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='A list of message IDs for existing replies'
;
CREATE TABLE mdl_competency (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat SMALLINT(4) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    competencyframeworkid BIGINT(10) NOT NULL,
    parentid BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sortorder BIGINT(10) NOT NULL,
    ruletype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    ruleoutcome TINYINT(2) NOT NULL DEFAULT 0,
    ruleconfig LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    scaleid BIGINT(10),
    scaleconfiguration LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_comp_comidn_uix (competencyframeworkid, idnumber)
, KEY mdl_comp_rul_ix (ruleoutcome)
, KEY mdl_comp_sca_ix (scaleid)
, KEY mdl_comp_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table contains the master record of each competency in '
;
CREATE TABLE mdl_competency_coursecompsetting (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    pushratingstouserplans TINYINT(2),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compcour_cou_uix (courseid)
, KEY mdl_compcour_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table contains the course specific settings for compete'
;
CREATE TABLE mdl_competency_framework (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    contextid BIGINT(10) NOT NULL,
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat SMALLINT(4) NOT NULL DEFAULT 0,
    scaleid BIGINT(11),
    scaleconfiguration LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    visible TINYINT(2) NOT NULL DEFAULT 1,
    taxonomies VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compfram_idn_uix (idnumber)
, KEY mdl_compfram_con_ix (contextid)
, KEY mdl_compfram_sca_ix (scaleid)
, KEY mdl_compfram_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='List of competency frameworks.'
;
CREATE TABLE mdl_competency_coursecomp (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    ruleoutcome TINYINT(2) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compcour_courul_ix (courseid, ruleoutcome)
, UNIQUE KEY mdl_compcour_coucom_uix (courseid, competencyid)
, KEY mdl_compcour_cou2_ix (courseid)
, KEY mdl_compcour_com_ix (competencyid)
, KEY mdl_compcour_use2_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a competency to a course.'
;
CREATE TABLE mdl_competency_plan (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat SMALLINT(4) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    templateid BIGINT(10),
    origtemplateid BIGINT(10),
    status TINYINT(1) NOT NULL,
    duedate BIGINT(10) DEFAULT 0,
    reviewerid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compplan_usesta_ix (userid, status)
, KEY mdl_compplan_tem_ix (templateid)
, KEY mdl_compplan_stadue_ix (status, duedate)
, KEY mdl_compplan_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Learning plans'
;
CREATE TABLE mdl_competency_template (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    contextid BIGINT(10) NOT NULL,
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat SMALLINT(4) NOT NULL DEFAULT 0,
    visible TINYINT(2) NOT NULL DEFAULT 1,
    duedate BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comptemp_con_ix (contextid)
, KEY mdl_comptemp_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Learning plan templates.'
;
CREATE TABLE mdl_competency_templatecomp (
    id BIGINT(10) NOT NULL auto_increment,
    templateid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comptemp_tem_ix (templateid)
, KEY mdl_comptemp_com_ix (competencyid)
, KEY mdl_comptemp_use2_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a competency to a learning plan template.'
;
CREATE TABLE mdl_competency_templatecohort (
    id BIGINT(10) NOT NULL auto_increment,
    templateid BIGINT(10) NOT NULL,
    cohortid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comptemp_tem2_ix (templateid)
, UNIQUE KEY mdl_comptemp_temcoh_uix (templateid, cohortid)
, KEY mdl_comptemp_use3_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Default comment for the table, please edit me'
;
CREATE TABLE mdl_competency_relatedcomp (
    id BIGINT(10) NOT NULL auto_increment,
    competencyid BIGINT(10) NOT NULL,
    relatedcompetencyid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_comprela_com_ix (competencyid)
, KEY mdl_comprela_rel_ix (relatedcompetencyid)
, KEY mdl_comprela_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Related competencies'
;
CREATE TABLE mdl_competency_usercomp (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    status TINYINT(2) NOT NULL DEFAULT 0,
    reviewerid BIGINT(10),
    proficiency TINYINT(2),
    grade BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compuser_usecom_uix (userid, competencyid)
, KEY mdl_compuser_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='User competencies'
;
CREATE TABLE mdl_competency_usercompcourse (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    courseid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    proficiency TINYINT(2),
    grade BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compuser_usecoucom_uix (userid, courseid, competencyid)
, KEY mdl_compuser_use2_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='User competencies in a course'
;
CREATE TABLE mdl_competency_usercompplan (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    planid BIGINT(10) NOT NULL,
    proficiency TINYINT(2),
    grade BIGINT(10),
    sortorder BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compuser_usecompla_uix (userid, competencyid, planid)
, KEY mdl_compuser_use3_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='User competencies plans'
;
CREATE TABLE mdl_competency_plancomp (
    id BIGINT(10) NOT NULL auto_increment,
    planid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    sortorder BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_compplan_placom_uix (planid, competencyid)
, KEY mdl_compplan_use2_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Plan competencies'
;
CREATE TABLE mdl_competency_evidence (
    id BIGINT(10) NOT NULL auto_increment,
    usercompetencyid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    action TINYINT(2) NOT NULL,
    actionuserid BIGINT(10),
    descidentifier VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    desccomponent VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    desca LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    url VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    grade BIGINT(10),
    note LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compevid_use_ix (usercompetencyid)
, KEY mdl_compevid_con_ix (contextid)
, KEY mdl_compevid_act_ix (actionuserid)
, KEY mdl_compevid_use2_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The evidence linked to a user competency'
;
CREATE TABLE mdl_competency_userevidence (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    descriptionformat TINYINT(1) NOT NULL,
    url LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compuser_use4_ix (userid)
, KEY mdl_compuser_use5_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The evidence of prior learning'
;
CREATE TABLE mdl_competency_userevidencecomp (
    id BIGINT(10) NOT NULL auto_increment,
    userevidenceid BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compuser_use6_ix (userevidenceid)
, UNIQUE KEY mdl_compuser_usecom2_uix (userevidenceid, competencyid)
, KEY mdl_compuser_use7_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Relationship between user evidence and competencies'
;
CREATE TABLE mdl_competency_modulecomp (
    id BIGINT(10) NOT NULL auto_increment,
    cmid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL,
    competencyid BIGINT(10) NOT NULL,
    ruleoutcome TINYINT(2) NOT NULL,
    overridegrade TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_compmodu_cmirul_ix (cmid, ruleoutcome)
, UNIQUE KEY mdl_compmodu_cmicom_uix (cmid, competencyid)
, KEY mdl_compmodu_cmi_ix (cmid)
, KEY mdl_compmodu_com_ix (competencyid)
, KEY mdl_compmodu_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Link a competency to a module.'
;
CREATE TABLE mdl_oauth2_endpoint (
    id BIGINT(10) NOT NULL auto_increment,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    url LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    issuerid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_oautendp_iss2_ix (issuerid)
, KEY mdl_oautendp_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Describes the named endpoint for an oauth2 service.'
;
CREATE TABLE mdl_oauth2_issuer (
    id BIGINT(10) NOT NULL auto_increment,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    image LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    baseurl LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    clientid LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    clientsecret LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    loginscopes LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    loginscopesoffline LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    loginparams LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    loginparamsoffline LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    alloweddomains LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    scopessupported LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    enabled TINYINT(2) NOT NULL DEFAULT 1,
    showonloginpage TINYINT(2) NOT NULL DEFAULT 1,
    basicauth TINYINT(2) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL,
    requireconfirmation TINYINT(2) NOT NULL DEFAULT 1,
    servicetype VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    loginpagename VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Details for an oauth 2 connect identity issuer.'
;
CREATE TABLE mdl_oauth2_system_account (
    id BIGINT(10) NOT NULL auto_increment,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    refreshtoken LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    grantedscopes LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    email LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    username LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_oautsystacco_iss2_uix (issuerid)
, KEY mdl_oautsystacco_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stored details used to get an access token as a system user '
;
CREATE TABLE mdl_oauth2_user_field_mapping (
    id BIGINT(10) NOT NULL auto_increment,
    timemodified BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    externalfield VARCHAR(500) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    internalfield VARCHAR(64) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_oautuserfielmapp_iss2_ix (issuerid)
, UNIQUE KEY mdl_oautuserfielmapp_issi2_uix (issuerid, internalfield)
, KEY mdl_oautuserfielmapp_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Mapping of oauth user fields to moodle fields.'
;
CREATE TABLE mdl_course_completion_defaults (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL,
    module BIGINT(10) NOT NULL,
    completion TINYINT(1) NOT NULL DEFAULT 0,
    completionview TINYINT(1) NOT NULL DEFAULT 0,
    completionusegrade TINYINT(1) NOT NULL DEFAULT 0,
    completionpassgrade TINYINT(1) NOT NULL DEFAULT 0,
    completionexpected BIGINT(10) NOT NULL DEFAULT 0,
    customrules LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_courcompdefa_coumod_uix (course, module)
, KEY mdl_courcompdefa_mod_ix (module)
, KEY mdl_courcompdefa_cou_ix (course)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Default settings for activities completion'
;
CREATE TABLE mdl_analytics_models (
    id BIGINT(10) NOT NULL auto_increment,
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    trained TINYINT(1) NOT NULL DEFAULT 0,
    name VARCHAR(1333) COLLATE utf8mb4_0900_ai_ci,
    target VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    indicators LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timesplitting VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    predictionsprocessor VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    version BIGINT(10) NOT NULL,
    contextids LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10),
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analmode_enatra_ix (enabled, trained)
, KEY mdl_analmode_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Analytic models.'
;
CREATE TABLE mdl_analytics_models_log (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL,
    version BIGINT(10) NOT NULL,
    evaluationmode VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    target VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    indicators LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timesplitting VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    score NUMERIC(10,5) NOT NULL DEFAULT 0,
    info LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    dir LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analmodelog_mod_ix (modelid)
, KEY mdl_analmodelog_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Analytic models changes during evaluation.'
;
CREATE TABLE mdl_analytics_predictions (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    sampleid BIGINT(10) NOT NULL,
    rangeindex MEDIUMINT(5) NOT NULL,
    prediction NUMERIC(10,2) NOT NULL,
    predictionscore NUMERIC(10,5) NOT NULL,
    calculations LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timestart BIGINT(10),
    timeend BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analpred_modcon_ix (modelid, contextid)
, KEY mdl_analpred_mod_ix (modelid)
, KEY mdl_analpred_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Predictions'
;
CREATE TABLE mdl_analytics_train_samples (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL,
    analysableid BIGINT(10) NOT NULL,
    timesplitting VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sampleids LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analtraisamp_modanatim_ix (modelid, analysableid, timesplitting)
, KEY mdl_analtraisamp_mod_ix (modelid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Samples used for training'
;
CREATE TABLE mdl_analytics_predict_samples (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL,
    analysableid BIGINT(10) NOT NULL,
    timesplitting VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    rangeindex BIGINT(10) NOT NULL,
    sampleids LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analpredsamp_modanatimr_ix (modelid, analysableid, timesplitting, rangeindex)
, KEY mdl_analpredsamp_mod_ix (modelid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Samples already used for predictions.'
;
CREATE TABLE mdl_analytics_used_files (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL DEFAULT 0,
    fileid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    time BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analusedfile_modactfil_ix (modelid, action, fileid)
, KEY mdl_analusedfile_mod_ix (modelid)
, KEY mdl_analusedfile_fil_ix (fileid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Files that have already been used for training and predictio'
;
CREATE TABLE mdl_analytics_indicator_calc (
    id BIGINT(10) NOT NULL auto_increment,
    starttime BIGINT(10) NOT NULL,
    endtime BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    sampleorigin VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    sampleid BIGINT(10) NOT NULL,
    indicator VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value NUMERIC(10,2),
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analindicalc_staendcon_ix (starttime, endtime, contextid)
, KEY mdl_analindicalc_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stored indicator calculations'
;
CREATE TABLE mdl_analytics_prediction_actions (
    id BIGINT(10) NOT NULL auto_increment,
    predictionid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    actionname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analpredacti_preuseact_ix (predictionid, userid, actionname)
, KEY mdl_analpredacti_pre_ix (predictionid)
, KEY mdl_analpredacti_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Register of user actions over predictions.'
;
CREATE TABLE mdl_oauth2_access_token (
    id BIGINT(10) NOT NULL auto_increment,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    token LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    expires BIGINT(10) NOT NULL,
    scope LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_oautaccetoke_iss2_uix (issuerid)
, KEY mdl_oautaccetoke_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores access tokens for system accounts in order to be able'
;
CREATE TABLE mdl_analytics_used_analysables (
    id BIGINT(10) NOT NULL auto_increment,
    modelid BIGINT(10) NOT NULL,
    action VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    analysableid BIGINT(10) NOT NULL,
    firstanalysis BIGINT(10) NOT NULL,
    timeanalysed BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_analusedanal_modact_ix (modelid, action)
, KEY mdl_analusedanal_ana_ix (analysableid)
, KEY mdl_analusedanal_mod_ix (modelid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='List of analysables used by each model'
;
CREATE TABLE mdl_search_index_requests (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    searcharea VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timerequested BIGINT(10) NOT NULL,
    partialarea VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    partialtime BIGINT(10) NOT NULL,
    indexpriority BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_searinderequ_indtim2_ix (indexpriority, timerequested)
, KEY mdl_searinderequ_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Records requests for (re)indexing of specific contexts. Entr'
;
CREATE TABLE mdl_favourite (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemtype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    ordering BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_favo_comiteiteconuse2_uix (component, itemtype, itemid, contextid, userid)
, KEY mdl_favo_con2_ix (contextid)
, KEY mdl_favo_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores the relationship between an arbitrary item (itemtype,'
;
CREATE TABLE mdl_customfield_category (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(400) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat BIGINT(10),
    sortorder BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    area VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_custcate_comareitesor_ix (component, area, itemid, sortorder)
, KEY mdl_custcate_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='core_customfield category table'
;
CREATE TABLE mdl_customfield_field (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    name VARCHAR(400) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    type VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    description LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    descriptionformat BIGINT(10),
    sortorder BIGINT(10),
    categoryid BIGINT(10),
    configdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_custfiel_catsor_ix (categoryid, sortorder)
, KEY mdl_custfiel_cat_ix (categoryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='core_customfield field table'
;
CREATE TABLE mdl_customfield_data (
    id BIGINT(10) NOT NULL auto_increment,
    fieldid BIGINT(10) NOT NULL,
    instanceid BIGINT(10) NOT NULL,
    intvalue BIGINT(10),
    decvalue NUMERIC(10,5),
    shortcharvalue VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    charvalue VARCHAR(1333) COLLATE utf8mb4_0900_ai_ci,
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    valueformat BIGINT(10) NOT NULL,
    valuetrust TINYINT(2) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    contextid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_custdata_insfie_uix (instanceid, fieldid)
, KEY mdl_custdata_fieint_ix (fieldid, intvalue)
, KEY mdl_custdata_fiesho_ix (fieldid, shortcharvalue)
, KEY mdl_custdata_fiedec_ix (fieldid, decvalue)
, KEY mdl_custdata_fie_ix (fieldid)
, KEY mdl_custdata_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='core_customfield data table'
;
CREATE TABLE mdl_h5p_libraries (
    id BIGINT(10) NOT NULL auto_increment,
    machinename VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    title VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    majorversion SMALLINT(4) NOT NULL,
    minorversion SMALLINT(4) NOT NULL,
    patchversion SMALLINT(4) NOT NULL,
    runnable TINYINT(1) NOT NULL,
    fullscreen TINYINT(1) NOT NULL DEFAULT 0,
    embedtypes VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    preloadedjs LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    preloadedcss LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    droplibrarycss LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    semantics LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    addto LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    coremajor SMALLINT(4),
    coreminor SMALLINT(4),
    metadatasettings LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    tutorial LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    example LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    enabled TINYINT(1) DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_h5plibr_macmajminpatrun_ix (machinename, majorversion, minorversion, patchversion, runnable)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores information about libraries used by H5P content.'
;
CREATE TABLE mdl_h5p_library_dependencies (
    id BIGINT(10) NOT NULL auto_increment,
    libraryid BIGINT(10) NOT NULL,
    requiredlibraryid BIGINT(10) NOT NULL,
    dependencytype VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_h5plibrdepe_lib2_ix (libraryid)
, KEY mdl_h5plibrdepe_req2_ix (requiredlibraryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores H5P library dependencies'
;
CREATE TABLE mdl_h5p (
    id BIGINT(10) NOT NULL auto_increment,
    jsoncontent LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    mainlibraryid BIGINT(10) NOT NULL,
    displayoptions SMALLINT(4),
    pathnamehash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contenthash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    filtered LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_h5p_pat2_ix (pathnamehash)
, KEY mdl_h5p_mai2_ix (mainlibraryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores H5P content information'
;
CREATE TABLE mdl_h5p_contents_libraries (
    id BIGINT(10) NOT NULL auto_increment,
    h5pid BIGINT(10) NOT NULL,
    libraryid BIGINT(10) NOT NULL,
    dependencytype VARCHAR(10) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    dropcss TINYINT(1) NOT NULL,
    weight BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_h5pcontlibr_h5p2_ix (h5pid)
, KEY mdl_h5pcontlibr_lib2_ix (libraryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Store which library is used in which content.'
;
CREATE TABLE mdl_h5p_libraries_cachedassets (
    id BIGINT(10) NOT NULL auto_increment,
    libraryid BIGINT(10) NOT NULL,
    hash VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_h5plibrcach_lib2_ix (libraryid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='H5P cached library assets'
;
CREATE TABLE mdl_contentbank_content (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contenttype VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    visibility TINYINT(1) NOT NULL DEFAULT 1,
    instanceid BIGINT(10),
    configdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    usercreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_contcont_nam_ix (name)
, KEY mdl_contcont_conconins_ix (contextid, contenttype, instanceid)
, KEY mdl_contcont_con_ix (contextid)
, KEY mdl_contcont_use_ix (usermodified)
, KEY mdl_contcont_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='This table stores content data in the content bank.'
;
CREATE TABLE mdl_payment_accounts (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    contextid BIGINT(10) NOT NULL,
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    archived TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_paymacco_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Payment accounts'
;
CREATE TABLE mdl_payment_gateways (
    id BIGINT(10) NOT NULL auto_increment,
    accountid BIGINT(10) NOT NULL,
    gateway VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    config LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_paymgate_acc2_ix (accountid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Configuration for one gateway for one payment account'
;
CREATE TABLE mdl_payments (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    paymentarea VARCHAR(50) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    amount VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    currency VARCHAR(3) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    accountid BIGINT(10) NOT NULL,
    gateway VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_paym_gat2_ix (gateway)
, KEY mdl_paym_compayite2_ix (component, paymentarea, itemid)
, KEY mdl_paym_use2_ix (userid)
, KEY mdl_paym_acc2_ix (accountid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores information about payments'
;
CREATE TABLE mdl_infected_files (
    id BIGINT(10) NOT NULL auto_increment,
    filename LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    quarantinedfile LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    userid BIGINT(10) NOT NULL,
    reason LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_infefile_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to store infected file details.'
;
CREATE TABLE mdl_oauth2_refresh_token (
    id BIGINT(10) NOT NULL auto_increment,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    token LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    scopehash VARCHAR(40) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_oautrefrtoke_useisssc2_uix (userid, issuerid, scopehash)
, KEY mdl_oautrefrtoke_iss2_ix (issuerid)
, KEY mdl_oautrefrtoke_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Stores refresh tokens which can be exchanged for access toke'
;
CREATE TABLE mdl_reportbuilder_report (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    source VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    type TINYINT(2) NOT NULL DEFAULT 0,
    uniquerows TINYINT(1) NOT NULL DEFAULT 0,
    conditiondata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    settingsdata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    area VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_reporepo_use3_ix (usercreated)
, KEY mdl_reporepo_use4_ix (usermodified)
, KEY mdl_reporepo_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to represent a report'
;
CREATE TABLE mdl_reportbuilder_column (
    id BIGINT(10) NOT NULL auto_increment,
    reportid BIGINT(10) NOT NULL DEFAULT 0,
    uniqueidentifier VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    aggregation VARCHAR(32) COLLATE utf8mb4_0900_ai_ci,
    heading VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    columnorder BIGINT(10) NOT NULL,
    sortenabled TINYINT(1) NOT NULL DEFAULT 0,
    sortdirection TINYINT(1) NOT NULL,
    sortorder BIGINT(10),
    usercreated BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_repocolu_rep2_ix (reportid)
, KEY mdl_repocolu_use3_ix (usercreated)
, KEY mdl_repocolu_use4_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to represent a report column'
;
CREATE TABLE mdl_reportbuilder_filter (
    id BIGINT(10) NOT NULL auto_increment,
    reportid BIGINT(10) NOT NULL DEFAULT 0,
    uniqueidentifier VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    heading VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    iscondition TINYINT(1) NOT NULL DEFAULT 0,
    filterorder BIGINT(10) NOT NULL,
    usercreated BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_repofilt_repuniisc_uix (reportid, uniqueidentifier, iscondition)
, KEY mdl_repofilt_rep2_ix (reportid)
, KEY mdl_repofilt_use3_ix (usercreated)
, KEY mdl_repofilt_use4_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to represent a report filter/condition'
;
CREATE TABLE mdl_reportbuilder_audience (
    id BIGINT(10) NOT NULL auto_increment,
    reportid BIGINT(10) NOT NULL,
    heading VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    classname VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    configdata LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    usercreated BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_repoaudi_rep2_ix (reportid)
, KEY mdl_repoaudi_use3_ix (usercreated)
, KEY mdl_repoaudi_use4_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Defines report audience'
;
CREATE TABLE mdl_reportbuilder_schedule (
    id BIGINT(10) NOT NULL auto_increment,
    reportid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    audiences LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    format VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    subject VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    message LONGTEXT COLLATE utf8mb4_0900_ai_ci NOT NULL,
    messageformat BIGINT(10) NOT NULL,
    userviewas BIGINT(10) NOT NULL DEFAULT 0,
    timescheduled BIGINT(10) NOT NULL DEFAULT 0,
    recurrence BIGINT(10) NOT NULL DEFAULT 0,
    reportempty BIGINT(10) NOT NULL DEFAULT 0,
    timelastsent BIGINT(10) NOT NULL DEFAULT 0,
    timenextsend BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_reposche_rep2_ix (reportid)
, KEY mdl_reposche_use4_ix (userviewas)
, KEY mdl_reposche_use5_ix (usercreated)
, KEY mdl_reposche_use6_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to represent a report schedule'
;
CREATE TABLE mdl_adminpresets (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    comments LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    site VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    author VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    moodleversion VARCHAR(20) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    moodlerelease VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    iscore TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeimported BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to store presets data'
;
CREATE TABLE mdl_adminpresets_it (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetid BIGINT(10) NOT NULL,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiit_adm_ix (adminpresetid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Table to store settings'
;
CREATE TABLE mdl_adminpresets_it_a (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10) NOT NULL,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value LONGTEXT COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiita_ite_ix (itemid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Admin presets items attributes. For settings with attributes'
;
CREATE TABLE mdl_adminpresets_app (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    time BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiapp_adm_ix (adminpresetid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Applied presets'
;
CREATE TABLE mdl_adminpresets_app_it (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetapplyid BIGINT(10) NOT NULL,
    configlogid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiappit_con_ix (configlogid)
, KEY mdl_admiappit_adm_ix (adminpresetapplyid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Admin presets applied items. To maintain the relation with c'
;
CREATE TABLE mdl_adminpresets_app_it_a (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetapplyid BIGINT(10) NOT NULL,
    configlogid BIGINT(10) NOT NULL,
    itemname VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiappita_con_ix (configlogid)
, KEY mdl_admiappita_adm_ix (adminpresetapplyid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Attributes of the applied items'
;
CREATE TABLE mdl_adminpresets_plug (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetid BIGINT(10) NOT NULL,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    enabled SMALLINT(4) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiplug_adm_ix (adminpresetid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Admin presets plugins status, to store information about whe'
;
CREATE TABLE mdl_adminpresets_app_plug (
    id BIGINT(10) NOT NULL auto_increment,
    adminpresetapplyid BIGINT(10) NOT NULL,
    plugin VARCHAR(100) COLLATE utf8mb4_0900_ai_ci,
    name VARCHAR(100) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    value SMALLINT(4) NOT NULL DEFAULT 0,
    oldvalue SMALLINT(4) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_admiappplug_adm_ix (adminpresetapplyid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Admin presets plugins applied'
;
CREATE TABLE mdl_course_modules_viewed (
    id BIGINT(10) NOT NULL auto_increment,
    coursemoduleid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmoduview_cou_ix (coursemoduleid)
, UNIQUE KEY mdl_courmoduview_usecou_uix (userid, coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Tracks the completion viewed (viewed with cmid/userid and ot'
;
CREATE TABLE mdl_xapi_states (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    userid BIGINT(10),
    itemid BIGINT(10) NOT NULL,
    stateid VARCHAR(255) COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '',
    statedata LONGTEXT COLLATE utf8mb4_0900_ai_ci,
    registration VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_xapistat_comite_ix (component, itemid)
, KEY mdl_xapistat_use_ix (userid)
, KEY mdl_xapistat_tim_ix (timemodified)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='The stored xAPI states'
;
CREATE TABLE mdl_moodlenet_share_progress (
    id BIGINT(10) NOT NULL auto_increment,
    type TINYINT(2) NOT NULL,
    courseid BIGINT(10) NOT NULL,
    cmid BIGINT(10),
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    resourceurl VARCHAR(255) COLLATE utf8mb4_0900_ai_ci,
    status TINYINT(2),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT=Dynamic
 COMMENT='Records MoodleNet share progress'
Error code: ddlexecuteerror
* line 500 of /lib/dml/moodle_database.php: ddl_change_structure_exception thrown
* line 293 of /lib/dml/moodle_read_slave_trait.php: call to moodle_database->query_end()
* line 1228 of /lib/dml/mysqli_native_moodle_database.php: call to mysqli_native_moodle_database->query_end()
* line 77 of /lib/ddl/database_manager.php: call to mysqli_native_moodle_database->change_database_structure()
* line 427 of /lib/ddl/database_manager.php: call to database_manager->execute_sql_arr()
* line 372 of /lib/ddl/database_manager.php: call to database_manager->install_from_xmldb_structure()
* line 1796 of /lib/upgradelib.php: call to database_manager->install_from_xmldb_file()
* line 284 of /admin/index.php: call to install_core()

